(this["webpackJsonpadex-staking-ui"]=this["webpackJsonpadex-staking-ui"]||[]).push([[0],{132:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},210:function(e,t,a){e.exports=a.p+"static/media/adex-staking.bf64bad2.svg"},229:function(e,t,a){e.exports=a(392)},234:function(e,t,a){},240:function(e,t){},248:function(e,t){},250:function(e,t){},282:function(e,t){},392:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),l=a.n(o),c=(a(234),a(10)),i=a.n(c),s=a(31),u=a(23),d=a(462),m=a(215),p=a(469),b=a(206),f=a.n(b),y=a(204),w=a.n(y),g=a(205),h=a.n(g),v=a(207),x=a.n(v),E={primary:{main:"#1B75BC",contrastText:"#fff"},accentOne:{main:"#57467B",contrastText:"#fff"},accentTwo:{main:"#7CB4B8",contrastText:"#fff"},grey:{main:"#3f3e3e",contrastText:"#fff"},error:w.a,warning:h.a,first:f.a,contrastThreshold:3,tonalOffset:.2,text:x.a},k=Object(m.a)({typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:13},palette:Object(s.a)({},E),overrides:{MuiButton:{root:{borderRadius:0},outlined:{borderRadius:0}},MuiTableCell:{head:{whiteSpace:"nowrap"},root:{whiteSpace:"nowrap"}},MuiPaper:{rounded:{borderRadius:0}},MuiTooltip:{tooltip:{borderRadius:0}}}}),O=Object(p.a)(k,{options:["xs","sm","md","lg","xl"],factor:3}),j=a(463),C=a(464),A=a(445),S=a(449),B=a(459),D=a(461),U=a(456),T=a(458),I=a(460),P=a(455),R=a(471),M=a(467),N=a(470),X=a(472),F=a(448),_=a(394),q=a(393),L=a(465),W=a(214),z=a.n(W),V=a(218),J=a(133),Y=a(451),H=a(454),G=a(453),Z=a(452),$=a(468),K=a(450),Q=a(134),ee=a(457),te=a(473),ae=a(466),ne=a(213),re=a.n(ne),oe=a(439),le=a(216),ce=a(209),ie=a.n(ce),se=a(443),ue=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],o=t[1],l=function(){o(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{style:{position:"absolute",right:"1.25%",top:"10%"},onClick:function(e){o(e.currentTarget)}},r.a.createElement(ie.a,{style:{fontSize:"1.5em",color:"white"}})),r.a.createElement(le.a,{id:"simple-menu",anchorEl:a,open:Boolean(a),keepMounted:!0,onClose:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(se.a,{href:"https://www.adex.network/tos",target:"_blank"},r.a.createElement(N.a,{onClick:l},"Terms of Service")),r.a.createElement(se.a,{href:"https://www.adex.network/blog/adx-staking-is-here/",target:"_blank"},r.a.createElement(N.a,{onClick:l},"User Guide")),r.a.createElement(se.a,{href:"https://github.com/adexnetwork/adex-protocol-eth",target:"_blank"},r.a.createElement(N.a,{onClick:l},"Source Code")),r.a.createElement(se.a,{href:"https://coinmarketcap.com/currencies/adx-net/markets/",target:"_blank"},r.a.createElement(N.a,{onClick:l},"Where to buy ADX"))))},de=a(444);function me(e){var t=e.title,a=e.subtitle,n=e.extra,o=e.loaded,l=e.actions,c="string"===typeof n?r.a.createElement(Q.a,{color:"primary",variant:"h6"},n):n||r.a.createElement(r.a.Fragment,null);return r.a.createElement(J.a,{elevation:3,style:{margin:O.spacing(1)}},r.a.createElement("div",{style:{padding:O.spacing(2),minHeight:"75px"}},r.a.createElement(Q.a,{variant:"h5"},a),c,r.a.createElement(Q.a,{color:"textSecondary",variant:"subtitle2"},t),l||r.a.createElement(r.a.Fragment,null)),o?r.a.createElement(r.a.Fragment,null):r.a.createElement(de.a,null))}var pe=a(210),be=a.n(pe),fe=a(39),ye=a(27),we=a(211),ge=a(212),he=a.n(ge),ve=a(103),xe=a(131),Ee=a(132),ke="0x333420fc6a897356e69b62417cd17ff012177d2b",Oe="0x4470bb87d77b963a013db939be332f927f2b992e",je="0x46ad2d37ceaee1e82b70b867e674b903a4b4ca32",Ce=1e4,Ae=3e4,Se=Object(fe.getDefaultProvider)(),Be=new fe.Contract(je,ve,Se),De=new fe.Contract(Oe,Ee,Se),Ue=new fe.Contract(ke,xe,Se),Te=null,Ie="https://min-api.cryptocompare.com/data/price?fsym=ADX&tsyms=BTC,USD,EUR",Pe=30,Re=[{label:"Validator Tom",id:Object(ye.id)("validator:0x2892f6C41E0718eeeDd49D98D648C789668cA67d"),selectable:!0,minStakingAmount:0,rewardPolicy:'The "Validator Tom" pool will distribute its fee earnings proportionally to each staker. The fee earnings will be 5% of the total volume, which you can track on our Explorer.',slashPolicy:"No slashing.",url:"https://tom.adex.network"},{label:"Validator Jerry",id:Object(ye.id)("validator:0xce07CbB7e054514D590a0262C93070D838bFBA2e"),selectable:!1,minStakingAmount:0,rewardPolicy:"",slashPolicy:""}],Me=Object(ye.bigNumberify)(0),Ne=Object(ye.bigNumberify)("1000000000000000000"),Xe={poolId:"",amount:Me},Fe={loaded:!1,userBonds:[],userBalance:Me,totalStake:Me},_e=function(e){return Re.find((function(t){return t.id===e}))};function qe(e){return r.a.createElement(ae.a,Object.assign({elevation:6,variant:"filled"},e))}function Le(e){var t=e.maxAmount,a=e.onNewBond,o=e.pools,l=Object(n.useState)(Xe),c=Object(u.a)(l,2),i=c[0],d=c[1],m=Object(n.useState)(0),p=Object(u.a)(m,2),b=p[0],f=p[1],y=Object(n.useState)(!1),w=Object(u.a)(y,2),g=w[0],h=w[1],v=Object(n.useState)(""),x=Object(u.a)(v,2),E=x[0],k=x[1],j=Object(n.useState)(!1),C=Object(u.a)(j,2),B=C[0],D=C[1],U=Object(n.useState)(""),T=Object(u.a)(U,2),I=T[0],P=T[1],_={minWidth:"180px"},q=_e(I),L=Te?r.a.createElement(r.a.Fragment,null,"\xa0and"," ",r.a.createElement("a",{target:"_blank",href:Te},"staking conditions")):r.a.createElement(r.a.Fragment,null),W=r.a.createElement(r.a.Fragment,null,"I understand I am locking up my ADX for at least ",Pe," days and I am familiar with the\xa0",r.a.createElement("a",{href:"https://www.adex.network/tos/",target:"_blank"},"Terms and conditions"),L,"."),z=function(e){var a=e.amountBN,n=e.poolToValidate,r=n?Object(ye.bigNumberify)(n.minStakingAmount*Ce):Me;return a.gt(t)?(h(!0),void k("Insufficient ADX amount!")):n&&a.lt(r)?(h(!0),void k("ADX amount less than minimum required for selected pool!")):void h(!1)};return r.a.createElement(J.a,{elevation:2,style:{width:"500px",padding:O.spacing(2,4,3)}},r.a.createElement("h2",null,"Create a bond"),r.a.createElement(A.a,{container:!0,spacing:2},r.a.createElement(A.a,{item:!0,xs:6},r.a.createElement(R.a,{required:!0,label:"ADX amount",type:"number",style:_,value:b,error:g,onChange:function(e){return function(e){var t=e<0?0:e,a=Object(ye.bigNumberify)(Math.abs(Math.floor(t*Ce)));z({amountBN:a,poolToValidate:q}),f(t),d(Object(s.a)({},i,{amount:a}))}(e.target.value)},helperText:g?E:null}),r.a.createElement(Q.a,{variant:"subtitle2"},"Max amount:",r.a.createElement(S.a,{onClick:function(e){f((t.toNumber()/Ce).toFixed(2)),d(Object(s.a)({},i,{amount:t}))}},ze(t)," ADX"))),r.a.createElement(A.a,{item:!0,xs:6},r.a.createElement(F.a,{required:!0},r.a.createElement(X.a,null,"Pool"),r.a.createElement(M.a,{style:_,value:I,onChange:function(e){return function(e){var t=Object(ye.bigNumberify)(b*Ce),a=_e(e);z({amountBN:t,poolToValidate:a}),P(e),d(Object(s.a)({},i,{poolId:e}))}(e.target.value)}},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),o.map((function(e){var t=e.label,a=e.id;return r.a.createElement(N.a,{key:a,value:a},t)}))))),q?r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(Q.a,{variant:"h6"},"Pool reward policy:"),r.a.createElement(Q.a,{variant:"body1"},q.rewardPolicy)),r.a.createElement(A.a,{item:!0,xs:12,style:{marginTop:O.spacing(2)}},r.a.createElement(Q.a,{variant:"h6"},"Pool slashing policy:"),r.a.createElement(Q.a,{variant:"body1"},q.slashPolicy))):"",r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(K.a,{style:{userSelect:"none"},label:W,control:r.a.createElement($.a,{checked:B,onChange:function(e){return D(e.target.checked)}})})),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(F.a,{style:{display:"flex"}},r.a.createElement(S.a,{disabled:!(i.poolId&&B&&i.amount.gt(Me)&&!g),color:"primary",variant:"contained",onClick:function(){D(!1),a(i)}},"Stake ADX")))))}function We(e){var t=e.stats,a=e.onRequestUnbond,o=e.onUnbond,l=e.onClaimRewards,c=t.userBonds.filter((function(e){return"Active"===e.status})).map((function(e){return e.amount})).reduce((function(e,t){return e.add(t)}),Me),i=Object(n.useState)({}),s=Object(u.a)(i,2),d=s[0],m=s[1];Object(n.useEffect)((function(){fetch(Ie).then((function(e){return e.json()})).then(m).catch(console.error)}),[]);var p=function(e){if(!e)return null;if(!d.USD)return null;var t=e.toNumber(10)/Ce*d.USD;return"".concat(t.toFixed(2)," USD")},b=r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(re.a,{style:{marginRight:O.spacing(2)}}),r.a.createElement("p",null,"This table will show all your individual ADX deposits (bonds), along with information as status, amount and earned reward. By using the action buttons, you will be able to request unbonding and withdraw your ADX after the ",Pe," day lock-up period.")),f=!t.loaded||t.userBonds.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(A.a,{item:!0,xs:12,style:{marginTop:O.spacing(2)}},r.a.createElement(ee.a,{style:{fontSize:"15px",backgroundColor:O.palette.primary.main},message:b})),y={fontWeight:"bold"};return r.a.createElement(A.a,{container:!0,style:{padding:O.spacing(4),maxWidth:"1200px",margin:"auto"}},r.a.createElement(A.a,{item:!0,sm:3,xs:6},function(e){var t=e.rewardChannels,a=e.onClaimRewards,n="Your total unclaimed reward",o=null!=t;if(!o)return me({loaded:o,title:n,extra:"0.00 USD",subtitle:"0.00 DAI"});var l,c=t.map((function(e){return e.outstandingReward})).reduce((function(e,t){return e.add(t)}),Me);return me({loaded:!0,title:n,actions:r.a.createElement(S.a,{size:"small",variant:"contained",color:"secondary",disabled:c.eq(Me),onClick:function(){return a(t)}},"claim reward"),subtitle:(l=c,(l.div(Object(ye.bigNumberify)("10000000000000000")).toNumber(10)/100).toFixed(2)+" DAI")})}({rewardChannels:t.rewardChannels,onClaimRewards:l})),r.a.createElement(A.a,{item:!0,sm:3,xs:6},me({loaded:t.loaded,title:"Total ADX staked",extra:p(t.totalStake),subtitle:ze(t.totalStake)+" ADX"})),r.a.createElement(A.a,{item:!0,sm:3,xs:6},me({loaded:t.loaded,title:"Your total active stake",extra:p(c),subtitle:ze(c)+" ADX"})),r.a.createElement(A.a,{item:!0,sm:3,xs:6},me({loaded:t.loaded,title:"Your balance",subtitle:t.userBalance?ze(t.userBalance)+" ADX":"",extra:p(t.userBalance)})),r.a.createElement(T.a,{xs:12},r.a.createElement(B.a,{"aria-label":"Bonds table",style:{marginTop:O.spacing(2)}},r.a.createElement(I.a,null,r.a.createElement(P.a,null,r.a.createElement(U.a,{style:y},"Bond amount"),r.a.createElement(U.a,{style:y,align:"right"},"Reward to collect"),r.a.createElement(U.a,{style:y,align:"right"},"Pool"),r.a.createElement(U.a,{style:y,align:"right"},"Status"),r.a.createElement(U.a,{style:y,align:"right"},"Actions"))),r.a.createElement(D.a,null,(t.userBonds||[]).reverse().map((function(e){var t=_e(e.poolId),n=t?t.label:e.poolId;return r.a.createElement(P.a,{key:Ve(e)},r.a.createElement(U.a,null,ze(e.currentAmount)," ADX"),r.a.createElement(U.a,{align:"right"},"0.00 DAI"),r.a.createElement(U.a,{align:"right"},n),r.a.createElement(U.a,{align:"right"},function(e){if("UnbondRequested"===e.status){var t=e.willUnlock.getTime(),a=Date.now();if(t>a){var n=Math.ceil((t-a)/864e5);return"Can unbond in ".concat(n," days")}return"Can unbond"}return e.status}(e)),r.a.createElement(U.a,{align:"right"},"Active"===e.status?r.a.createElement(S.a,{color:"primary",onClick:function(){return a(e)}},"Request Unbond"):r.a.createElement(S.a,{disabled:e.willUnlock.getTime()>Date.now(),onClick:function(){return o(e)},color:"secondary"},"Unbond")))}))))),f)}function ze(e){return(e.toNumber(10)/Ce).toFixed(2)}function Ve(e){var t=e.owner,a=e.amount,n=e.poolId,r=e.nonce;return Object(ye.keccak256)(ye.defaultAbiCoder.encode(["address","address","uint","bytes32","uint"],[je,t,a,n,r]))}function Je(){var e,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("undefined"===typeof window.ethereum){a.next=3;break}return a.next=3,i.a.awrap(window.ethereum.enable());case 3:if(window.web3){a.next=5;break}return a.abrupt("return",null);case 5:return e=new we.Web3Provider(window.web3.currentProvider),t=e.getSigner(),a.abrupt("return",t);case 8:case"end":return a.stop()}}))}function Ye(){var e,t,a,n,r,o;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.a.awrap(Je());case 2:if(e=l.sent){l.next=5;break}return l.abrupt("return",{loaded:!0,userBonds:[],userBalance:Me,rewardChannels:[]});case 5:return l.next=7,i.a.awrap(e.getAddress());case 7:return t=l.sent,l.next=10,i.a.awrap(Promise.all([He(t),Ge(t)]));case 10:return a=l.sent,n=Object(u.a)(a,2),r=n[0],o=n[1],l.abrupt("return",Object(s.a)({},r,{loaded:!0,rewardChannels:o}));case 15:case"end":return l.stop()}}))}function He(e){var t,a,n,r,o,l,c;return i.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,i.a.awrap(Promise.all([De.balanceOf(e),Se.getLogs({fromBlock:0,address:je,topics:[null,Object(ye.hexZeroPad)(e,32)]}),Se.getLogs(Object(s.a)({fromBlock:0},Be.filters.LogSlash(null,null)))]));case 2:return t=d.sent,a=Object(u.a)(t,3),n=a[0],r=a[1],o=a[2],l=o.reduce((function(e,t){var a=Be.interface.parseLog(t).values,n=a.poolId,r=a.newSlashPts;return e[n]=r,e}),{}),c=r.reduce((function(e,t){var a=t.topics[0],n=Be.interface.events;if(a===n.LogBond.topic){var r=Be.interface.parseLog(t).values,o=r.owner,c=r.amount,i=r.poolId,u=r.nonce,d=r.slashedAtStart,m={owner:o,amount:c,poolId:i,nonce:u,slashedAtStart:d};e.push(Object(s.a)({id:Ve(m),status:"Active",currentAmount:m.amount.mul(Ne.sub(l[i]||Me)).div(Ne.sub(d))},m))}else if(a===n.LogUnbondRequested.topic){var p=Be.interface.parseLog(t).values,b=p.bondId,f=p.willUnlock,y=e.find((function(e){return e.id===b}));y.status="UnbondRequested",y.willUnlock=new Date(1e3*f)}else if(a===n.LogUnbonded.topic){var w=Be.interface.parseLog(t).values.bondId;e.find((function(e){return e.id===w})).status="Unbonded"}return e}),[]),d.abrupt("return",{userBonds:c,userBalance:n});case 10:case"end":return d.stop()}}))}function Ge(e){var t,a,n,r,o;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=Re[0],l.next=3,i.a.awrap(fetch("".concat(t.url,"/fee-rewards")));case 3:return a=l.sent,l.next=6,i.a.awrap(a.json());case 6:return n=l.sent,r=Math.floor(Date.now()/1e3),l.next=10,i.a.awrap(Promise.all(n.map((function(t){var a,n;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(t.channelArgs.validUntil<r)){o.next=2;break}return o.abrupt("return",null);case 2:if(t.balances[e]){o.next=4;break}return o.abrupt("return",null);case 4:return a=new he.a(t.balances),o.t0=Object(ye.bigNumberify)(t.balances[e]),o.next=8,i.a.awrap(Ue.withdrawnPerUser(t.channelId,e));case 8:return o.t1=o.sent,n=o.t0.sub.call(o.t0,o.t1),o.abrupt("return",Object(s.a)({},t,{outstandingReward:n,proof:a.getProof(e),stateRoot:a.mTree.getRoot(),amount:t.balances[e]}));case 11:case"end":return o.stop()}}))}))));case 10:return o=l.sent,l.abrupt("return",o.filter((function(e){return e})));case 12:case"end":return l.stop()}}))}function Ze(e,t){var a,n,r,o,l,c,s,u;return i.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(a=t.amount,n=t.poolId,r=t.nonce,n){d.next=3;break}return d.abrupt("return");case 3:if(e.userBalance){d.next=5;break}return d.abrupt("return");case 5:if(!a.gt(e.userBalance)){d.next=7;break}return d.abrupt("return");case 7:return d.next=9,i.a.awrap(Je());case 9:if(o=d.sent){d.next=12;break}return d.abrupt("return");case 12:return l=new fe.Contract(je,ve,o),c=new fe.Contract(Oe,Ee,o),d.t0=i.a,d.t1=c,d.next=18,i.a.awrap(o.getAddress());case 18:return d.t2=d.sent,d.t3=je,d.t4=d.t1.allowance.call(d.t1,d.t2,d.t3),d.next=23,d.t0.awrap.call(d.t0,d.t4);case 23:if(s=d.sent,u=[],s.eq(a)){d.next=37;break}if(!s.gt(Me)){d.next=32;break}return d.t5=u,d.next=30,i.a.awrap(c.approve(je,Me,{gasLimit:8e4}));case 30:d.t6=d.sent,d.t5.push.call(d.t5,d.t6);case 32:return d.t7=u,d.next=35,i.a.awrap(c.approve(je,a,{gasLimit:8e4}));case 35:d.t8=d.sent,d.t7.push.call(d.t7,d.t8);case 37:return d.t9=u,d.next=40,i.a.awrap(l.addBond([a,n,r||Me],{gasLimit:11e4}));case 40:return d.t10=d.sent,d.t9.push.call(d.t9,d.t10),d.next=44,i.a.awrap(Promise.all(u.map((function(e){return e.wait()}))));case 44:case"end":return d.stop()}}))}function $e(e){var t,a,n,r,o,l,c,s,u,d,m;return i.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,i.a.awrap(Je());case 2:if(t=p.sent){p.next=5;break}return p.abrupt("return");case 5:a=new fe.Contract(ke,xe,t),n=[],r=!0,o=!1,l=void 0,p.prev=10,c=e[Symbol.iterator]();case 12:if(r=(s=c.next()).done){p.next=24;break}return u=s.value,d=u.channelArgs,m=[d.creator,d.tokenAddr,d.tokenAmount,d.validUntil,d.validators,d.spec],p.t0=n,p.next=19,i.a.awrap(a.channelWithdraw(m,u.stateRoot,u.signatures,u.proof,u.amount));case 19:p.t1=p.sent,p.t0.push.call(p.t0,p.t1);case 21:r=!0,p.next=12;break;case 24:p.next=30;break;case 26:p.prev=26,p.t2=p.catch(10),o=!0,l=p.t2;case 30:p.prev=30,p.prev=31,r||null==c.return||c.return();case 33:if(p.prev=33,!o){p.next=36;break}throw l;case 36:return p.finish(33);case 37:return p.finish(30);case 38:return p.abrupt("return",Promise.all(n.map((function(e){return e.wait()}))));case 39:case"end":return p.stop()}}),null,null,[[10,26,30,38],[31,,33,37]])}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],l=r.a.useState(null),c=Object(u.a)(l,2),m=c[0],p=c[1],b=Object(n.useState)(!1),f=Object(u.a)(b,2),y=f[0],w=f[1],g=Object(n.useState)("Error! Unspecified error occured."),h=Object(u.a)(g,2),v=h[0],x=h[1],E=Object(n.useState)(Fe),k=Object(u.a)(E,2),A=k[0],B=k[1],D=function(){return function(){var e,t,a,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(Promise.all([De.balanceOf(je),Ye()]));case 2:return e=r.sent,t=Object(u.a)(e,2),a=t[0],n=t[1],r.abrupt("return",Object(s.a)({totalStake:a},n));case 7:case"end":return r.stop()}}))}().then(B).catch((function(e){console.error("loadStats",e),w(!0),4001===e.code&&x("Error! User denied authorization!")}))};Object(n.useEffect)((function(){D();var e=setInterval(D,Ae);return function(){return clearInterval(e)}}),[]);var U=function(e){return function(t){var a,n,r,o,l,c,s;return i.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=t.amount,n=t.poolId,r=t.nonce,u.next=3,i.a.awrap(Je());case 3:if(o=u.sent){u.next=6;break}return u.abrupt("return");case 6:return l=new fe.Contract(je,ve,o),c=e?l.unbond.bind(l):l.requestUnbond.bind(l),u.prev=8,u.next=11,i.a.awrap(c([a,n,r||Me]));case 11:return s=u.sent,u.next=14,i.a.awrap(s.wait());case 14:u.next=20;break;case 16:u.prev=16,u.t0=u.catch(8),w(!0),x(u.t0.message||"Unknown error");case 20:case"end":return u.stop()}}),null,null,[[8,16]])}},T=U(!1),I=U(!0),P=function(e,t){"clickaway"!==t&&w(!1)};return r.a.createElement(d.a,{theme:O},r.a.createElement(j.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement("img",{height:"40vh",src:be.a,alt:"logo"}),r.a.createElement(L.a,{disabled:!A.loaded,onClick:function(){return o(!0)},variant:"extended",color:"secondary",style:{position:"absolute",right:"5%",top:"50%"}},r.a.createElement(z.a,{style:{margin:O.spacing(1)}}),"Stake your ADX"),ue())),We({stats:A,onRequestUnbond:p,onUnbond:I,onClaimRewards:function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.awrap($e(e));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),w(!0),x(t.t0.message||"Unknown error");case 9:case"end":return t.stop()}}),null,null,[[0,5]])}}),function(e){var t=e.toUnbond,a=e.onDeny,n=e.onConfirm;return r.a.createElement(Y.a,{open:!!t,onClose:a},r.a.createElement(Z.a,{id:"alert-dialog-title"},"Are you sure?"),r.a.createElement(G.a,null,"Are you sure you want to request unbonding of"," ",ze(t?t.currentAmount:Me)," ADX?",r.a.createElement("br",null),r.a.createElement("br",null),"Please be aware:",r.a.createElement("ol",null,r.a.createElement("li",null,"It will take ",Pe," days before you will be able to withdraw your ADX!"),r.a.createElement("li",null,"You will not receive staking rewards for this amount in this"," ",Pe," day period."))),r.a.createElement(H.a,null,r.a.createElement(S.a,{onClick:a,autoFocus:!0,color:"primary"},"Cancel"),r.a.createElement(S.a,{onClick:n,color:"primary"},"Unbond")))}({toUnbond:m,onDeny:function(){return p(null)},onConfirm:function(){m&&T(m),p(null)}}),r.a.createElement(te.a,{open:y,autoHideDuration:6e3,onClose:P},r.a.createElement(qe,{onClose:P,severity:"error"},v)),r.a.createElement(_.a,{open:a,onClose:function(){return o(!1)},style:{display:"flex",alignItems:"center",justifyContent:"center"},closeAfterTransition:!0,BackdropComponent:q.a,BackdropProps:{timeout:300}},r.a.createElement(V.a,{in:a},Le({pools:Re.filter((function(e){return e.selectable})),maxAmount:A.userBalance,onNewBond:function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!1),t.prev=1,t.next=4,i.a.awrap(Ze(A,e));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),w(!0),x(t.t0.message||"Unknown error");case 10:case"end":return t.stop()}}),null,null,[[1,6]])}}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[229,1,2]]]);
//# sourceMappingURL=main.7eec5d3a.chunk.js.map