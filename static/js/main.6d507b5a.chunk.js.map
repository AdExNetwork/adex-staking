{"version":3,"sources":["helpers/identity.js","helpers/constants.js","walletconnect-logo.svg","metamask-fox.svg","resources/staking-logo.svg","themeMUi.js","helpers/formatting.js","AppContext.js","helpers/bonds.js","components/Bonds.js","components/Tooltip.js","components/WithDialog.js","ethereum.js","actions/loyaltyPoolActions.js","actions/actions.js","actions/deposits.js","components/DepositForm.js","actions/validations.js","resources/loyalty-ic.svg","components/Deposits.js","components/SectionHeader.js","components/Stakings.js","resources/gasless-ic.svg","components/cardCommon.js","components/StatsCard.js","components/Anchor.js","components/ConfirmationDialog.js","components/Gasless.js","components/NewGaslessBondForm.js","resources/coming-soon-ic.svg","components/PoolCard.js","resources/tom-ic.svg","components/Pools.js","components/NewBondForm.js","components/LegacyADXSwapDialog.js","components/HelperMenu.js","components/WalletMenu.js","components/rootStyles.js","components/Toolbar.js","components/WithRouterLink.js","components/UserData.js","components/RewardCard.js","resources/link-ic.svg","components/SideNav.js","Snack.js","components/Root.js","components/ChooseWallet.js","helpers/connector.js","AppHooks.js","helpers/hooks.js","App.js","serviceWorker.js","index.js"],"names":["getUserIdentity","walletAddr","bytecode","addr","addrHex","slice","toLowerCase","getBytecode","getAddress","generateAddress2","ADDR_FACTORY","Buffer","alloc","toString","rawZeroFeeTx","idAddr","nonce","to","data","identityContract","feeTokenAddr","feeAmount","zeroFeeTx","Transaction","ADDR_STAKING","ZERO","bigNumberify","PRICES_API_URL","UNBOND_DAYS","STAKING_RULES_URL","ADDR_ADX","ADDR_ADX_LOYALTY_TOKEN","MAX_UINT","MIN_BALANCE_FOR_GASLESS_TXNS","DEFAULT_BOND","poolId","amount","POOLS","label","id","selectable","minStakingAmount","rewardPolicy","slashPolicy","url","estimatedAnnualFeeYield","estimatedAnnualADXYield","estimatedAnnualADXEarlyYield","DEPOSIT_POOLS","confirmationLabel","confirmationUrl","METAMASK","WALLET_CONNECT","TREZOR","LEDGER","Wallets","title","name","icon","metamaskLogo","walletconnectLogo","SUPPORTED_CHAINS","REACT_APP_INFURA_ID","REACT_APP_RPC_URL","ADEX_RELAYER_HOST","module","exports","WHITE","BLACK","palette","type","primary","main","contrastText","secondary","grey","warning","success","info","error","first","lime","text","fade","disabled","hint","divider","background","darkerPaper","paper","default","special","overlay","action","hover","hoverOpacity","selected","selectedOpacity","disabledOpacity","focus","focusOpacity","activatedOpacity","common","white","black","typography","fontFamily","fontSize","defaultTheme","createMuiTheme","theme","shadows","overrides","MuiButton","root","borderRadius","outlined","borderColor","contained","backgroundColor","color","boxShadow","MuiFab","MuiTableCell","head","whiteSpace","fontWeight","MuiPaper","rounded","MuiTooltip","tooltip","padding","spacing","arrow","MuiDrawer","paperAnchorLeft","borderRight","paperAnchorDockedLeft","MuiAlert","maxWidth","alignItems","message","wordBreak","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","filledSuccess","filledInfo","filledWarning","filledError","MuiBackdrop","themeMUI","responsiveFontSizes","breakpoints","factor","formatADX","num","formatUnits","formatADXPretty","commify","div","parseADX","n","parseUnits","getApproxAPY","bond","totalStake","isEarly","isZero","bondCreatedSeconds","toNumber","Date","now","getsEarlyBird","base","parseFloat","early","getADXInUSD","prices","ADX","USD","getADXInUSDFormatted","adxUsd","toFixed","getDAIInUSD","DAI","formatAddress","address","joinSymbol","substring","toIdAttributeString","string","defaultValue","replace","AppContext","React","createContext","getPool","find","x","getBondId","owner","keccak256","defaultAbiCoder","encode","Bonds","stats","onRequestUnbond","onUnbond","bondExplanationMsg","bondExplanationFrag","loaded","userBonds","length","Box","mt","Alert","variant","severity","TableContainer","xs","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","filter","status","reverse","map","d","pool","poolLabel","created","gt","time","bondId","key","currentAmount","getDate","toLocaleString","month","getFullYear","willUnlock","getTime","days","Math","ceil","totalStakeTom","bondStatus","Button","onClick","CommonTooltip","children","props","Tooltip","leaveTouchDelay","enterTouchDelay","disableFocusListener","disableHoverListener","disableTouchListener","styles","dialog","dialogTitle","display","flexDirection","justifyContent","wordWrap","margin","marginLeft","marginBottom","content","flex","position","overflowX","overflowY","textBtn","cursor","btnIconLeft","marginRight","breakLong","overflowWrap","hyphens","TextBtn","withStyles","className","classes","style","clsx","Transition","forwardRef","ref","Slide","direction","useStyles","makeStyles","WithDialogHoc","Decorated","WithDialog","disableBackdropClick","forwardedRef","iconButton","textButton","fabButton","size","btnLabel","mini","dialogActions","fullWidth","onBeforeOpen","tooltipTitle","rest","btnProps","useState","open","setOpen","handleToggle","a","handleClick","ev","stopPropagation","preventDefault","ButtonComponent","IconButton","Fab","width","floating","second","Dialog","onClose","TransitionComponent","DialogTitle","disableTypography","Typography","DialogContent","closeDialog","DialogActions","defaultProvider","providers","InfuraProvider","getSigner","chosenWalletType","library","Error","getDepositPool","provider","Token","Contract","ERC20ABI","LoyaltyToken","ADXLoyaltyPoolTokenABI","ZERO_ADDR","LOYALTY_POOP_EMPTY_STATS","balanceLpToken","balanceLpADX","rewardADX","poolTotalStaked","currentAPY","poolDepositsLimit","userDataLoaded","loadLoyaltyPoolData","Promise","all","balanceOf","incentivePerTokenPerAnnum","maxTotalADX","mul","loadUserLoyaltyPoolsStats","poolData","shareValue","getLogs","fromBlock","filters","Transfer","currentShareValue","loyaltyTokenTransfersLogs","adexTokenTransfersLogs","currentBalance","some","log","interface","parseLog","values","adxTransfersByTxHash","reduce","txns","transactionHash","userDeposits","deposits","axdTransferLog","lpTokenLog","adxTransferLog","adx","add","adxLPT","avgDepositShareValue","reward","sub","onLoyaltyPoolDeposit","adxDepositAmount","userBalance","signer","allowance","allowanceADXLOYALTY","setAllowance","lt","tokenWithSigner","approve","loyaltyTokenWithSigner","enter","gasLimit","onLoyaltyPoolWithdraw","withdrawAmountADX","loyaltyPoolStats","lpTokensToWithdraw","leave","ADDR_CORE","Staking","StakingABI","Core","CoreABI","MAX_SLASH","OUTSTANDING_REWARD_THRESHOLD","EMPTY_STATS","rewardChannels","totalRewardADX","totalRewardDAI","tomRewardADX","userTotalStake","totalBalanceADX","userWalletBalance","userIdentityBalance","canExecuteGasless","canExecuteGaslessError","sumRewards","outstandingReward","b","isTomChannelId","channel","channelArgs","validators","val","loadUserStats","userStats","identityAddr","loadBondStats","getRewards","getGaslessInfo","adxRewardsChannels","tokenAddr","tomAdxRewards","connectedWalletAddress","topics","hexZeroPad","LogSlash","logs","slashLogs","slashedByPool","pools","newSlashPts","bonds","topic","evs","events","LogBond","vals","slashedAtStart","push","LogUnbondRequested","LogUnbonded","rewardPool","fetch","resp","json","validUntil","floor","rewardChannel","claimFrom","balances","balanceTree","BalanceTree","withdrawnPerUser","channelId","proof","getProof","stateRoot","mTree","getRoot","forUser","res","resData","canExecute","console","createNewBond","gasless","allowanceStaking","balanceOnIdentity","eq","getCode","executeOnIdentity","needed","gte","identityTxns","functions","transferFrom","active","stakingData","replaceBond","addBond","onUnbondOrRequest","isUnbond","unbond","transfer","requestUnbond","claimRewards","coreWithSigner","legacyChannels","channelTuple","toChannelTuple","channelWithdraw","signatures","identityChannels","toTransfer","forEach","amnt","concat","Object","entries","restake","channels","collected","userBond","newBond","args","creator","tokenAmount","spec","opts","identity","IdentityABI","needsToDeploy","idNonce","toTuples","offset","i","toSolidityTuple","txnsRaw","tx","signMessage","hash","sig","splitSig","executeUrl","method","body","JSON","stringify","headers","txnTuples","executeBySender","factoryWithSigner","FactoryABI","executeTx","deployAndExecute","getDepositActionByPoolId","getWithdrawActionByPoolId","DepositForm","depositPool","withdraw","useContext","wrapDoingTxns","actionAmount","setActionAmount","amountErr","setAmountErr","amountErrText","setAmountErrText","confirmation","setConfirmation","newDepositPool","setNewDepositPool","activePool","poolStats","getPoolStatsByPoolId","actionName","maxAmount","onAction","bind","confirmed","validateFields","params","numStr","userInputAmount","poolToValidate","isNaN","amountBN","minStakingAmountBN","lte","onAmountChange","amountStr","useEffect","Grid","container","item","sm","TextField","required","value","onChange","target","helperText","FormControl","InputLabel","Select","MenuItem","marginTop","FormControlLabel","userSelect","control","Checkbox","checked","disableElevation","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","points","_ref","svgRef","viewBox","ForwardRef","DepositsDialog","iconBox","height","Deposits","setDeposits","disableDepositsMsg","disabledWithdrawsMsg","loyaltyPoolDeposit","disabledDepositsMsg","balance","actions","getLoyaltyPoolDeposit","newDeposit","index","findIndex","newDeposits","updateDeposits","deposit","PoolIcon","LoyaltyIcon","iconByPoolId","mr","SvgIcon","m","fabIcon","SectionHeader","setNewBondOpen","setNewBondPool","canStake","flexWrap","mb","Stakings","setToUnbond","setToRestake","onClaimRewards","gutterBottom","bgcolor","p","onRestake","transform","ExtraLabel","Array","isArray","Info","AmountText","decimalSeparatorSplit","split","decimalsSplit","component","opacity","CardRow","infoText","justify","isAmountText","restBox","ml","StatsCard","titleInfo","subtitle","subtitleInfo","extra","extraInfo","moreExtra","moreExtraInfo","LinearProgress","externalIcon","link","Anchor","href","underline","isExternal","getUrl","linkProps","draggable","rel","Link","OpenInNew","ExternalAnchor","ConfirmationDialog","isOpen","onDeny","onConfirm","confirmActionName","MIN_GASLESS_RE_STAKE_REWARDS","left","top","right","bottom","noUserData","modal","bullets","up","Gasless","bondOpen","setBondOpen","reStakeOpen","setReStakeOpen","setBond","setConnectWallet","addSnack","hasEnoughForReStake","walletConnected","disableReStake","canExecuteGaslessReStakeError","includes","showReStake","onTxRes","btnId","txId","onStake","onReStake","my","flexGrow","mx","copy","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","stakingRulesFrag","maxHeight","pb","overflow","NewGaslessBondForm","loading","comingSoon","PoolCard","totalStakedADX","totalStakedUSD","weeklyYield","weeklyYieldInfo","onStakeBtnClick","disabledInfo","lockupPeriodTitle","lockupPeriodInfo","lockupPeriod","actionBtn","extraData","pt","minHeight","importantValue","valueInfo","normalValue","extrInfo","CircularProgress","Pools","tomAPY","justifyCenter","useMediaQuery","down","loyaltyPoolAPY","loadin","NewBondForm","onNewBond","newBondPool","stakingAmount","setStakingAmount","minWidthStyle","minWidth","updateStakingAmountBN","farmer","role","max","ADDR_ADX_OLD","LegacyToken","LegacyADXSwapDialog","setAmount","isSwapInPrg","setSwapInPrg","refreshAmount","catch","e","onSwap","swapTokens","wait","Snackbar","elevation","legacyTokenWithSigner","newTokenWithSigner","hasAutocalculatedGas","firstTimeGasLimit","swap","Help","menuEl","setMenuEl","closeHelpMenu","startIcon","currentTarget","Menu","anchorEl","Boolean","keepMounted","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","chipRoot","fontWeightBold","pxToRem","chipIcon","Wallet","account","Chip","clickable","Icon","diameter","seed","jsNumberForAddress","backgroundImage","backgroundRepeat","backgroundPositionX","drawerWidth","toolbar","paddingLeft","paddingRight","toolbarActions","drawerPaper","paddingTop","contentInner","alwaysOnTop","zIndex","AppToolbar","handleDrawerToggle","AppBar","Toolbar","Hidden","mdUp","WithRouterLink","Component","WithRouter","withRouter","event","history","match","location","staticContext","toLocation","path","pathname","createHref","resolveToLocation","UserData","usdAmount","restakeEnabled","pr","pl","RewardCard","RRListItem","ListItem","activeColor","activeBgColor","navigation","sntPadding","navListRoot","navList","sideNavToolbar","version","borderTopWidth","borderTopColor","borderTopStyle","adxLink","sideSwitch","SideNav","useLocation","src","logo","alt","Divider","textAlign","List","button","ListItemIcon","ListItemText","window","packageJson","ShtarvolinkiSnack","snackOpen","snackMessageInfo","closeSnack","snackExited","autoHideDuration","hideTimeout","onExited","Root","mobileOpen","setMobileOpen","isTempDrawer","isNewBondOpen","toUnbond","toRestake","openErr","openDoingTx","snackbarErr","connectWallet","handleErrClose","onWalletTypeSelect","snackHooks","chainWarning","drawer","undefined","document","Drawer","anchor","ModalProps","handleListItemClick","handleClose","disableNonBrowserWallets","aria-labelledby","Avatar","ChooseWallet","aria-describedby","AlertTitle","injected","InjectedConnector","supportedChainIds","ledger","LedgerConnector","chainId","pollingInterval","trezor","TrezorConnector","manifestEmail","manifestAppUrl","walletconnect","WalletConnectConnector","rpc","1","bridge","qrcode","connectorsByName","tryGetErrMessage","snackPack","setSnackPack","setMessageInfo","prev","random","reason","useSnack","useWeb3React","activate","deactivate","setOpenErr","setOpenDoingTx","setSnackbarErr","setStats","chosenWalletTypeName","setChosenWalletTypeName","setChosenWalletType","setPrices","setChainWarning","suppress","ethereum","on","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","refreshStats","loadStats","then","code","r","intvl","setInterval","clearInterval","chain","NoEthereumProviderError","UnsupportedChainIdError","UserRejectedRequestErrorInjected","UserRejectedRequestErrorWalletConnect","getErrorMessage","fn","walletTypeName","newWalletType","updateWalletType","App","appHooks","useApp","Fragment","CssBaseline","Provider","getLibrary","Web3Provider","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6d507b5a.chunk.js","sourcesContent":["import { generateAddress2 } from \"ethereumjs-util\"\nimport { getAddress } from \"ethers/utils\"\nimport { Transaction } from \"adex-protocol-eth/js\"\nimport { ADDR_FACTORY } from \"./constants\"\n\nfunction getBytecode(addr) {\n\tconst addrHex = addr.slice(2).toLowerCase()\n\t// Do not change that bytecode! It comes from compiling this https://gist.github.com/Ivshti/e66cd57ade1abfb07c2517df9e73ceb9\n\treturn `0x608060405234801561001057600080fd5b5060026000803073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908360ff160217905550600260008073${addrHex}73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908360ff1602179055506000734470bb87d77b963a013db939be332f927f2b992e9050600073ade00c28244d5ce17d72e40330b1c318cd12b7c3905060008273ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016101429190610501565b60206040518083038186803b15801561015a57600080fd5b505afa15801561016e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610192919061045a565b90506000811115610276578273ffffffffffffffffffffffffffffffffffffffff1663095ea7b383836040518363ffffffff1660e01b81526004016101d892919061051c565b600060405180830381600087803b1580156101f257600080fd5b505af1158015610206573d6000803e3d6000fd5b505050508173ffffffffffffffffffffffffffffffffffffffff166394b918de826040518263ffffffff1660e01b81526004016102439190610560565b600060405180830381600087803b15801561025d57600080fd5b505af1158015610271573d6000803e3d6000fd5b505050505b60008273ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016102b19190610501565b60206040518083038186803b1580156102c957600080fd5b505afa1580156102dd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610301919061045a565b9050600081111561043c576000734846c6837ec670bbd1f5b485471c8f64ecb9c53490508373ffffffffffffffffffffffffffffffffffffffff1663095ea7b382846040518363ffffffff1660e01b815260040161036092919061051c565b600060405180830381600087803b15801561037a57600080fd5b505af115801561038e573d6000803e3d6000fd5b505050508073ffffffffffffffffffffffffffffffffffffffff1663b4dca72460405180606001604052808581526020017f2ce0c96383fb229d9776f33846e983a956a7d95844fac57b180ed0071d93bb2860001b8152602001428152506040518263ffffffff1660e01b81526004016104089190610545565b600060405180830381600087803b15801561042257600080fd5b505af1158015610436573d6000803e3d6000fd5b50505050505b505050506105d8565b600081519050610454816105c1565b92915050565b60006020828403121561046c57600080fd5b600061047a84828501610445565b91505092915050565b61048c8161057b565b82525050565b61049b8161058d565b82525050565b6060820160008201516104b760008501826104e3565b5060208201516104ca6020850182610492565b5060408201516104dd60408501826104e3565b50505050565b6104ec816105b7565b82525050565b6104fb816105b7565b82525050565b60006020820190506105166000830184610483565b92915050565b60006040820190506105316000830185610483565b61053e60208301846104f2565b9392505050565b600060608201905061055a60008301846104a1565b92915050565b600060208201905061057560008301846104f2565b92915050565b600061058682610597565b9050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6105ca816105b7565b81146105d557600080fd5b50565b6101b7806105e76000396000f3fe608060405234801561001057600080fd5b506004361061002f5760003560e01c8063c066a5b11461007357610030565b5b60007396e3cb4b4632ed45363ff2c9f0fbec9b583d9d3a90503660008037600080366000846127105a03f43d6000803e806000811461006e573d6000f35b3d6000fd5b61008d600480360381019061008891906100d8565b6100a3565b60405161009a9190610110565b60405180910390f35b60006020528060005260406000206000915054906101000a900460ff1681565b6000813590506100d28161016a565b92915050565b6000602082840312156100ea57600080fd5b60006100f8848285016100c3565b91505092915050565b61010a8161015d565b82525050565b60006020820190506101256000830184610101565b92915050565b60006101368261013d565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600060ff82169050919050565b6101738161012b565b811461017e57600080fd5b5056fea26469706673582212200e40aa3025d54e828fb973089b64ce06688fedcd71b98ae68521a0217652c59564736f6c634300060c0033`\n}\n\nexport function getUserIdentity(walletAddr) {\n\tconst bytecode = getBytecode(walletAddr)\n\tconst addr = getAddress(\n\t\t`0x${generateAddress2(ADDR_FACTORY, Buffer.alloc(32), bytecode).toString(\n\t\t\t\"hex\"\n\t\t)}`\n\t)\n\treturn { bytecode, addr }\n}\n\nexport function rawZeroFeeTx(idAddr, nonce, to, data) {\n\treturn {\n\t\tidentityContract: idAddr,\n\t\tnonce: nonce.toString(10),\n\t\tfeeTokenAddr: \"0x6b175474e89094c44da98b954eedeac495271d0f\",\n\t\tfeeAmount: 0,\n\t\tto,\n\t\tdata\n\t}\n}\n\nexport function zeroFeeTx(idAddr, nonce, to, data) {\n\treturn new Transaction({\n\t\tidentityContract: idAddr,\n\t\tnonce: nonce.toString(10),\n\t\tfeeTokenAddr: \"0x6b175474e89094c44da98b954eedeac495271d0f\",\n\t\tfeeAmount: 0,\n\t\tto,\n\t\tdata\n\t})\n}\n","import { bigNumberify, id } from \"ethers/utils\"\nimport walletconnectLogo from \"../walletconnect-logo.svg\"\nimport metamaskLogo from \"../metamask-fox.svg\"\n// import trezorLogo from \"../trezor.svg\"\n// import ledgerLogo from \"../ledger.png\"\n\nexport const ADDR_STAKING = \"0x4846c6837ec670bbd1f5b485471c8f64ecb9c534\"\nexport const ZERO = bigNumberify(0)\nexport const PRICES_API_URL =\n\t\"https://min-api.cryptocompare.com/data/price?fsym=ADX&tsyms=BTC,USD,EUR\"\nexport const UNBOND_DAYS = 30\nexport const STAKING_RULES_URL = null\n\nexport const ADDR_ADX = \"0xADE00C28244d5CE17D72E40330B1c318cD12B7c3\"\nexport const ADDR_FACTORY = \"0x9fe0d438e3c29c7cff949ad8e8da9403a531cc1a\"\nexport const ADDR_ADX_LOYALTY_TOKEN =\n\t\"0xd9A4cB9dc9296e111c66dFACAb8Be034EE2E1c2C\"\n\nexport const MAX_UINT = bigNumberify(\n\t\"115792089237316195423570985008687907853269984665640564039457584007913129639935\"\n)\n\nexport const MIN_BALANCE_FOR_GASLESS_TXNS = bigNumberify(\n\t\"10000000000000000000000\"\n) // 10 000 ADX\n\nexport const DEFAULT_BOND = {\n\tpoolId: \"\",\n\tamount: ZERO\n}\n\nexport const POOLS = [\n\t{\n\t\tlabel: \"Validator Tom\",\n\t\tid: id(\"validator:0x2892f6C41E0718eeeDd49D98D648C789668cA67d\"),\n\t\tselectable: true,\n\t\tminStakingAmount: \"0.0\",\n\t\trewardPolicy: `The \"Validator Tom\" pool will distribute its fee earnings proportionally to each staker. \n\t\tThe fee earnings will be 7% of the total volume, which you can track on our Explorer. \n\t\tThere is an additional incentive reward of 7 million ADX to be distributed by the end of 2020.`,\n\t\tslashPolicy: \"No slashing.\",\n\t\turl: \"https://tom.adex.network\",\n\t\testimatedAnnualFeeYield: 182500,\n\t\testimatedAnnualADXYield: 15103448.2758,\n\t\testimatedAnnualADXEarlyYield: 12166666.6666\n\t},\n\t{\n\t\tlabel: \"Validator Jerry\",\n\t\tid: id(\"validator:0xce07CbB7e054514D590a0262C93070D838bFBA2e\"),\n\t\tselectable: false,\n\t\tminStakingAmount: 0,\n\t\trewardPolicy: \"\",\n\t\tslashPolicy: \"\"\n\t}\n]\n\nexport const DEPOSIT_POOLS = [\n\t{\n\t\tlabel: \"Loyalty Pool\",\n\t\tid: id(\"deposit:0x49ee1555672E1b7928Fc581810B4e79dD85263E1\"),\n\t\tselectable: true,\n\t\tminStakingAmount: \"0.0\",\n\t\trewardPolicy: `By depositing ADX you receive ADX-LOYALTY, \n\t\twhich automatically incurs new rewards in ADX based on elastic issuance, \n\t\twhile also allowing you to participate in AdEx governance.`,\n\t\tslashPolicy: \"No slashing.\",\n\t\turl:\n\t\t\t\"https://etherscan.io/address/0x49ee1555672e1b7928fc581810b4e79dd85263e1\",\n\t\tconfirmationLabel: null,\n\t\tconfirmationUrl: \"https://www.adex.network/tos/\"\n\t}\n]\n\nexport const METAMASK = \"Metamask\"\nexport const WALLET_CONNECT = \"WalletConnect\"\nexport const TREZOR = \"Trezor\"\nexport const LEDGER = \"Ledger\"\n\nexport const Wallets = [\n\t{\n\t\ttitle: `Connect with ${METAMASK}`,\n\t\tname: METAMASK,\n\t\ticon: metamaskLogo\n\t},\n\t{\n\t\ttitle: `Connect with ${WALLET_CONNECT}`,\n\t\tname: WALLET_CONNECT,\n\t\ticon: walletconnectLogo\n\t}\n\t// {\n\t// \ttitle: `Connect with ${TREZOR}`,\n\t// \tname: TREZOR,\n\t// \ticon: trezorLogo\n\t// },\n\t// {\n\t// \ttitle: `Connect with ${LEDGER}`,\n\t// \tname: LEDGER,\n\t// \ticon: ledgerLogo\n\t// }\n]\n\nexport const SUPPORTED_CHAINS = [{ id: 1, name: \"mainnet\" }]\n\nexport const TOKEN_OLD_TO_NEW_MULTIPLIER = bigNumberify(\"100000000000000\")\n\nexport const REACT_APP_INFURA_ID = \"3d22938fd7dd41b7af4197752f83e8a1\"\n\nexport const REACT_APP_RPC_URL =\n\t\"https://mainnet.infura.io/v3/3d22938fd7dd41b7af4197752f83e8a1\"\n\nexport const ADEX_RELAYER_HOST = \"https://relayer.adex.network\"\n","module.exports = __webpack_public_path__ + \"static/media/walletconnect-logo.37f2bc6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/metamask-fox.c879a582.svg\";","module.exports = __webpack_public_path__ + \"static/media/staking-logo.7e002c99.svg\";","import { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\"\nimport lime from \"@material-ui/core/colors/lime\"\nimport { fade } from \"@material-ui/core/styles/colorManipulator\"\n\nconst WHITE = \"#fafafa\"\nconst BLACK = \"#0f0f0f\"\nexport const PRIMARY = \"#494560\"\nexport const SECONDARY = \"#ff4269\"\nexport const ALEX_GREY = \"#3f3e3e\"\nexport const ALEX_GREY_LIGHT = \"#666\"\nexport const WARNING = \"#FEB006\"\nexport const SUCCESS = \"#14dc9c\"\nexport const INFO = \"#1b75bc\"\nexport const ERROR = \"#ff6969\"\nexport const TEXT_SECONDARY = \"#3314443D\"\nexport const TEXT_MAIN = \"#7B7597\"\nexport const PAPER = \"#29253B\"\nexport const DARKER_PAPER = \"#1A1825\"\nexport const BACKGROUND_DEFAULT = \"#131313\"\nexport const BACKGROUND_SPECIAL = \"#4e3db3\"\n\nconst palette = {\n\ttype: \"dark\",\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\twarning: {\n\t\tmain: WARNING,\n\t\tcontrastText: BLACK\n\t},\n\tsuccess: {\n\t\tmain: SUCCESS,\n\t\tcontrastText: BLACK\n\t},\n\tinfo: {\n\t\tmain: INFO,\n\t\tcontrastText: WHITE\n\t},\n\terror: {\n\t\tmain: ERROR,\n\t\tcontrastText: WHITE\n\t},\n\tfirst: lime,\n\ttext: {\n\t\tmain: TEXT_MAIN,\n\t\tprimary: fade(WHITE, 0.69),\n\t\tsecondary: fade(WHITE, 0.42),\n\t\tdisabled: fade(WHITE, 0.1948),\n\t\thint: fade(WHITE, 0.13)\n\t},\n\tdivider: fade(WHITE, 0.13),\n\tbackground: {\n\t\tdarkerPaper: DARKER_PAPER,\n\t\tpaper: PAPER,\n\t\tdefault: BLACK,\n\t\tspecial: BACKGROUND_SPECIAL\n\t},\n\toverlay: fade(DARKER_PAPER, 0.69),\n\taction: {\n\t\taction: fade(WHITE, 0.46),\n\t\thover: fade(WHITE, 0.069),\n\t\thoverOpacity: 0.069,\n\t\tselected: fade(WHITE, 0.1914),\n\t\tselectedOpacity: 0.1914,\n\t\tdisabled: fade(WHITE, 0.1948),\n\t\tdisabledOpacity: 0.48,\n\t\tfocus: fade(WHITE, 0.18),\n\t\tfocusOpacity: 0.18,\n\t\tactivatedOpacity: 0.18\n\t},\n\tcommon: {\n\t\twhite: WHITE,\n\t\tblack: BLACK\n\t}\n}\n\nconst typography = {\n\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\tfontSize: 14.2\n}\n\nconst shadows = [\n\t\"none\",\n\t\"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)\",\n\t\"0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)\",\n\t\"0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)\",\n\t\"0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)\",\n\t\"0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)\",\n\t\"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)\",\n\t\"0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)\",\n\t\"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)\",\n\t\"0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)\",\n\t\"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\n\t\"0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)\",\n\t\"0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)\",\n\t\"0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)\",\n\t\"0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)\",\n\t\"0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)\",\n\t\"0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)\",\n\t\"0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)\",\n\t\"0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)\",\n\t\"0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)\",\n\t\"0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)\",\n\t\"0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)\",\n\t\"0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)\",\n\t\"0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)\",\n\t\"0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)\",\n\t\"3px 4px 15px 0px rgba(0,0,0,1)\"\n]\n\nconst defaultTheme = createMuiTheme({ typography, palette })\n\nconst theme = createMuiTheme({\n\tshadows,\n\ttypography,\n\tpalette,\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderColor: ALEX_GREY\n\t\t\t},\n\t\t\tcontained: {\n\t\t\t\tbackgroundColor: ALEX_GREY,\n\t\t\t\tcolor: WHITE,\n\t\t\t\tboxShadow: 0,\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t},\n\t\t\t\t\"&$focusVisible\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t},\n\t\t\t\t\"&:active\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t},\n\t\t\t\t\"&:disabled\": {\n\t\t\t\t\tbackgroundColor: fade(WHITE, 0.12),\n\t\t\t\t\tcolor: fade(WHITE, 0.26)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tMuiFab: {\n\t\t\troot: {\n\t\t\t\tboxShadow: 0,\n\t\t\t\t\"&:disabled\": {\n\t\t\t\t\tbackgroundColor: fade(WHITE, 0.12),\n\t\t\t\t\tcolor: fade(WHITE, 0.26)\n\t\t\t\t},\n\t\t\t\t\"&:active\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t},\n\t\t\t\t\"&$focusVisible\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t},\n\t\t\t\t\"&$disabled\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: \"nowrap\",\n\t\t\t\tcolor: defaultTheme.palette.text.main,\n\t\t\t\tfontWeight: 700\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: \"nowrap\"\n\t\t\t}\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0\n\t\t\t}\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tfontSize: \"0.9em\",\n\t\t\t\tbackgroundColor: fade(DARKER_PAPER, 0.9),\n\t\t\t\tpadding: defaultTheme.spacing(2)\n\t\t\t},\n\t\t\tarrow: { color: fade(DARKER_PAPER, 0.9) }\n\t\t},\n\t\tMuiDrawer: {\n\t\t\tpaperAnchorLeft: {\n\t\t\t\tborderRight: 0\n\t\t\t},\n\t\t\tpaperAnchorDockedLeft: {\n\t\t\t\tborderRight: 0\n\t\t\t}\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tmaxWidth: \"100%\",\n\t\t\t\talignItems: \"center\"\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t\twordBreak: \"break-word\"\n\t\t\t},\n\t\t\toutlinedSuccess: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedInfo: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedWarning: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedError: {\n\t\t\t\tbackgroundColor: WHITE\n\t\t\t},\n\t\t\tfilledSuccess: {\n\t\t\t\tcolor: defaultTheme.palette.success.contrastText\n\t\t\t},\n\t\t\tfilledInfo: {\n\t\t\t\tcolor: defaultTheme.palette.info.contrastText\n\t\t\t},\n\t\t\tfilledWarning: {\n\t\t\t\tcolor: defaultTheme.palette.warning.contrastText\n\t\t\t},\n\t\t\tfilledError: {\n\t\t\t\tcolor: defaultTheme.palette.error.contrastText\n\t\t\t}\n\t\t},\n\t\tMuiBackdrop: {\n\t\t\troot: {\n\t\t\t\tbackgroundColor: fade(BLACK, 0.69)\n\t\t\t}\n\t\t}\n\t\t// MuiDrawer: {\n\t\t// \troot: {\n\t\t// \t\ttop: 0,\n\t\t// \t\tleft: 0,\n\t\t// \t\tbottom: 'auto',\n\t\t// \t\tright: 'auto',\n\t\t// \t\twidth: '100vw',\n\t\t// \t\theight: '100vh',\n\t\t// \t\tposition: 'fixed'\n\t\t// \t},\n\t\t// \tpaper: {\n\t\t// \t\ttop: 0,\n\t\t// \t\tleft: 0,\n\t\t// \t\theight: '100%',\n\t\t// \t\tposition: 'absolute'\n\t\t// \t}\n\t\t// }\n\t}\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\tbreakpoints: [\"xs\", \"sm\", \"md\", \"lg\", \"xl\"],\n\tfactor: 3\n})\n","import { formatUnits, parseUnits, commify } from \"ethers/utils\"\n\nexport function formatADX(num) {\n\treturn formatUnits(num, 18)\n}\n\nexport function formatADXPretty(num) {\n\treturn commify(formatUnits(num.div(\"100000000000000\"), 4))\n}\n\nexport function formatDAI(num) {\n\treturn formatUnits(num, 18)\n}\n\nexport function formatDAIPretty(num) {\n\treturn commify(formatUnits(num.div(\"10000000000000000\"), 2))\n}\n\nexport function parseADX(n) {\n\treturn parseUnits(n, 18)\n}\n\nexport function formatDate(d) {\n\treturn `${d.getDate()} ${d.toLocaleString(\"default\", {\n\t\tmonth: \"short\"\n\t})} ${d.getFullYear()}`\n}\n\n// @TODO refactor to take pool arguments and use pool constants\nexport function getApproxAPY(bond, totalStake, isEarly) {\n\tif (!totalStake || totalStake.isZero()) return 0\n\tconst earlyDistributionEnds = 1599177600000\n\tconst bondCreatedSeconds =\n\t\tbond && bond.nonce ? bond.nonce.toNumber() : Date.now() / 1000\n\tconst getsEarlyBird =\n\t\t(isEarly || bondCreatedSeconds < 1597276800) &&\n\t\tDate.now() < earlyDistributionEnds\n\t// this reward is distributed over that many days, hence * (365/145)\n\tconst base = (6000000 / parseFloat(formatADX(totalStake), 10)) * (365 / 145)\n\tconst early = (1000000 / parseFloat(formatADX(totalStake), 10)) * (365 / 30)\n\treturn base + (getsEarlyBird ? early : 0)\n\t// @TODO DAI rewards\n}\n\nexport function getADXInUSD(prices, ADX) {\n\tif (!prices || !prices.USD) return 0\n\tconst adxUsd = parseFloat(formatADX(ADX || 0), 10) * prices.USD\n\treturn adxUsd\n}\n\nexport function getADXInUSDFormatted(prices, ADX) {\n\tconst adxUsd = getADXInUSD(prices, ADX)\n\treturn `$ ${commify(adxUsd.toFixed(2))}`\n}\n\nexport function getDAIInUSD(DAI) {\n\tconst adxUsd = parseFloat(formatDAI(DAI || 0), 10) * 1\n\treturn adxUsd\n}\n\nexport function getUSDFormatted(usdAmount) {\n\treturn `$ ${commify(parseFloat(usdAmount.toFixed(2)))}`\n}\n\nexport const formatAddress = (address = \"\", joinSymbol = \"...\") => {\n\treturn `${address.substring(0, 6)}${joinSymbol}${address.substring(38, 42)}`\n}\n\nexport const toIdAttributeString = (string, defaultValue) => {\n\tif (typeof string === \"string\") {\n\t\treturn string.replace(/([^a-z0-9]+)/gi, \"-\").toLowerCase()\n\t} else {\n\t\treturn defaultValue || \"\"\n\t}\n}\n","import React from \"react\"\n\nconst AppContext = React.createContext()\n\nexport default AppContext\n","import { POOLS, ADDR_STAKING } from \"./constants\"\nimport { keccak256, defaultAbiCoder } from \"ethers/utils\"\n\nexport const getPool = poolId => POOLS.find(x => x.id === poolId)\nexport function getBondId({ owner, amount, poolId, nonce }) {\n\treturn keccak256(\n\t\tdefaultAbiCoder.encode(\n\t\t\t[\"address\", \"address\", \"uint\", \"bytes32\", \"uint\"],\n\t\t\t[ADDR_STAKING, owner, amount, poolId, nonce]\n\t\t)\n\t)\n}\n","import React from \"react\"\nimport {\n\tTableRow,\n\tTableCell,\n\tButton,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody\n} from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\nimport { UNBOND_DAYS, ZERO } from \"../helpers/constants\"\nimport {\n\tformatADXPretty,\n\tgetApproxAPY,\n\tformatDate\n} from \"../helpers/formatting\"\nimport { getPool, getBondId } from \"../helpers/bonds\"\n\nexport default function Bonds({ stats, onRequestUnbond, onUnbond }) {\n\t// Render all stats cards + bond table\n\tconst bondStatus = bond => {\n\t\tif (bond.status === \"UnbondRequested\") {\n\t\t\tconst willUnlock = bond.willUnlock.getTime()\n\t\t\tconst now = Date.now()\n\t\t\tif (willUnlock > now) {\n\t\t\t\tconst days = Math.ceil((willUnlock - now) / 86400000)\n\t\t\t\treturn `Can unbond in ${days} days`\n\t\t\t} else {\n\t\t\t\treturn \"Can unbond\"\n\t\t\t}\n\t\t}\n\t\tif (bond.status === \"Active\") {\n\t\t\treturn `Active, earning ${(\n\t\t\t\tgetApproxAPY(bond, stats.totalStakeTom) * 100\n\t\t\t).toFixed(2)}% APY`\n\t\t}\n\t\treturn bond.status\n\t}\n\n\tconst renderBondRow = bond => {\n\t\tconst pool = getPool(bond.poolId)\n\t\tconst poolLabel = pool ? pool.label : bond.poolId\n\t\tconst created = new Date(\n\t\t\t(bond.nonce.gt(ZERO) ? bond.nonce : bond.time).toNumber() * 1000\n\t\t)\n\t\tconst bondId = getBondId(bond)\n\t\treturn (\n\t\t\t<TableRow key={bondId}>\n\t\t\t\t<TableCell>{formatADXPretty(bond.currentAmount)} ADX</TableCell>\n\t\t\t\t<TableCell align=\"right\">{poolLabel}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{formatDate(created)}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{bondStatus(bond)}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{bond.status === \"Active\" ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`request-unbond-${bondId}`}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => onRequestUnbond(bond)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\"Request Unbond\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`unbond-${bondId}`}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tbond.status === \"Unbonded\" ||\n\t\t\t\t\t\t\t\t!bond.willUnlock ||\n\t\t\t\t\t\t\t\tbond.willUnlock.getTime() > Date.now()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => onUnbond(bond)}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\"Unbond\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\tconst bondExplanationMsg = `This table will show all your individual ADX deposits in validator pools (bonds), \n\talong with information as status, amount and current APY. By using the action buttons, \n\tyou will be able to request unbonding and withdraw your ADX after the ${UNBOND_DAYS} day lock-up period.`\n\n\tconst bondExplanationFrag =\n\t\t!stats.loaded || stats.userBonds.length ? null : (\n\t\t\t<Box mt={2}>\n\t\t\t\t<Alert variant=\"filled\" severity=\"info\">\n\t\t\t\t\t{bondExplanationMsg}\n\t\t\t\t</Alert>\n\t\t\t</Box>\n\t\t)\n\n\treturn (\n\t\t<Box>\n\t\t\t<TableContainer xs={12}>\n\t\t\t\t<Table aria-label=\"Bonds table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>Bond amount</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">Pool</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">Created</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">Status</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">Actions</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{[...(stats.userBonds || [])]\n\t\t\t\t\t\t\t.filter(x => x.status !== \"Unbonded\")\n\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t.map(renderBondRow)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\n\t\t\t{bondExplanationFrag}\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport { Tooltip } from \"@material-ui/core\"\n\nconst CommonTooltip = ({ children, ...props }) => (\n\t<Tooltip\n\t\tleaveTouchDelay={16900}\n\t\tenterTouchDelay={420}\n\t\t{...props}\n\t\t{...(!props.title\n\t\t\t? {\n\t\t\t\t\tdisableFocusListener: true,\n\t\t\t\t\tdisableHoverListener: true,\n\t\t\t\t\tdisableTouchListener: true\n\t\t\t  }\n\t\t\t: {})}\n\t>\n\t\t{children}\n\t</Tooltip>\n)\n\nexport default CommonTooltip\n","import React, { Fragment, useState, forwardRef } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tButton,\n\tBox,\n\tFab,\n\tIconButton,\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tSlide,\n\tDialogActions,\n\tTypography\n} from \"@material-ui/core\"\nimport clsx from \"clsx\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport Tooltip from \"./Tooltip\"\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(2)\n\treturn {\n\t\tdialog: {\n\t\t\t// height: `calc(100vh - ${spacing}px)`,\n\t\t\t// minWidth: 999,\n\t\t\t// maxWidth: 999,\n\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t// \"@media(max-width:1080px)\": {\n\t\t\t// \tmaxWidth: \"100%\",\n\t\t\t// \tminWidth: `calc(100vw - ${spacing}px)`\n\t\t\t// }\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t\tmarginBottom: 0,\n\t\t\tpadding: 0\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tflex: \"1 1 auto\",\n\t\t\tposition: \"relative\",\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\toverflowX: \"visible\",\n\t\t\toverflowY: \"auto\"\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: \"pointer\"\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1)\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: \"break-word\",\n\t\t\toverflowWrap: \"break-word\",\n\t\t\thyphens: \"auto\"\n\t\t}\n\t}\n}\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={clsx(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{\" \"}\n\t\t\t{label}{\" \"}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function WithDialogHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tid,\n\t\t\tdisableBackdropClick = false,\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\ttooltipTitle,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tvariant\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === \"function\" && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) await onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Tooltip title={tooltipTitle || \"\"}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay=\"inline-block\"\n\t\t\t\t\t\t{...(btnProps.fullWidth ? { width: 1 } : {})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\taria-label={btnLabel || \"\"}\n\t\t\t\t\t\t\tlabel={btnLabel || \"\"}\n\t\t\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t\t\t{...btnProps}\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t\t\t{ [classes.first]: color === \"first\" },\n\t\t\t\t\t\t\t\t{ [classes.second]: color === \"second\" }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t\t{(!iconButton && btnLabel) || \"\"}\n\t\t\t\t\t\t</ButtonComponent>\n\t\t\t\t\t</Box>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Dialog\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle\n\t\t\t\t\t\tdisableTypography\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: clsx(classes.dialogTitle, classes.breakLong)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant=\"h4\">{title}</Typography>\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size=\"small\">\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import { providers } from \"ethers\"\n\nimport { REACT_APP_INFURA_ID } from \"./helpers/constants\"\n\nexport const defaultProvider = new providers.InfuraProvider(\n\t\"homestead\",\n\tREACT_APP_INFURA_ID\n)\n\nexport async function getSigner(chosenWalletType) {\n\t// console.log(\"chosenWalletType\", chosenWalletType)\n\tif (!chosenWalletType || !chosenWalletType.library)\n\t\tthrow new Error(\"Wallet not connected\")\n\treturn chosenWalletType.library.getSigner()\n}\n","import { Contract } from \"ethers\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport ADXLoyaltyPoolTokenABI from \"../abi/ADXLoyaltyPoolToken\"\nimport {\n\tADDR_ADX,\n\tADDR_ADX_LOYALTY_TOKEN,\n\tZERO,\n\tMAX_UINT,\n\tDEPOSIT_POOLS\n} from \"../helpers/constants\"\nimport { getSigner, defaultProvider } from \"../ethereum\"\n\nexport const getDepositPool = poolId => DEPOSIT_POOLS.find(x => x.id === poolId)\n\nconst provider = defaultProvider\nconst Token = new Contract(ADDR_ADX, ERC20ABI, provider)\nconst LoyaltyToken = new Contract(\n\tADDR_ADX_LOYALTY_TOKEN,\n\tADXLoyaltyPoolTokenABI,\n\tprovider\n)\nconst ZERO_ADDR = \"0x0000000000000000000000000000000000000000\"\nconst ADX_LP_TOKEN_DECIMALS_MUL = \"1000000000000000000\"\n\nexport const LOYALTY_POOP_EMPTY_STATS = {\n\tbalanceLpToken: ZERO,\n\tbalanceLpADX: ZERO,\n\trewardADX: ZERO,\n\tpoolTotalStaked: ZERO,\n\tcurrentAPY: 0,\n\tpoolDepositsLimit: ZERO,\n\tloaded: false,\n\tuserDataLoaded: false\n}\n\nexport async function loadLoyaltyPoolData() {\n\tconst [poolTotalStaked, currentAPY, poolDepositsLimit] = await Promise.all([\n\t\tToken.balanceOf(ADDR_ADX_LOYALTY_TOKEN),\n\t\tLoyaltyToken.incentivePerTokenPerAnnum(),\n\t\tLoyaltyToken.maxTotalADX()\n\t])\n\n\treturn {\n\t\tpoolTotalStaked,\n\t\tpoolDepositsLimit,\n\t\tcurrentAPY: currentAPY\n\t\t\t.mul(100)\n\t\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\t\t\t.toNumber()\n\t}\n}\n\nexport async function loadUserLoyaltyPoolsStats(walletAddr) {\n\tconst poolData = await loadLoyaltyPoolData()\n\tif (!walletAddr) {\n\t\treturn {\n\t\t\t...LOYALTY_POOP_EMPTY_STATS,\n\t\t\t...poolData,\n\t\t\tloaded: true\n\t\t}\n\t}\n\n\tconst [\n\t\tbalanceLpToken,\n\t\tcurrentShareValue,\n\t\tloyaltyTokenTransfersLogs,\n\t\tadexTokenTransfersLogs\n\t] = await Promise.all([\n\t\tLoyaltyToken.balanceOf(walletAddr),\n\t\tLoyaltyToken.shareValue(),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...LoyaltyToken.filters.Transfer(null, walletAddr, null)\n\t\t}),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...Token.filters.Transfer(walletAddr, ADDR_ADX_LOYALTY_TOKEN, null)\n\t\t})\n\t])\n\n\tconst balanceLpADX = balanceLpToken\n\t\t.mul(currentShareValue)\n\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\n\tconst currentBalance = {\n\t\t...poolData,\n\t\tbalanceLpToken,\n\t\tbalanceLpADX,\n\t\tloaded: true\n\t}\n\n\tconst hasExternalLoyaltyTokenTransfers = loyaltyTokenTransfersLogs.some(\n\t\tlog => LoyaltyToken.interface.parseLog(log).values[0] !== ZERO_ADDR\n\t)\n\n\t// reward === null => unknown reward - can not be calculated\n\tif (hasExternalLoyaltyTokenTransfers) {\n\t\tcurrentBalance.rewardADX = null\n\t\treturn currentBalance\n\t}\n\n\tconst adxTransfersByTxHash = adexTokenTransfersLogs.reduce((txns, log) => {\n\t\ttxns[log.transactionHash] = log\n\t\treturn txns\n\t}, {})\n\n\tconst userDeposits = loyaltyTokenTransfersLogs.reduce(\n\t\t(deposits, log) => {\n\t\t\tconst axdTransferLog = adxTransfersByTxHash[log.transactionHash]\n\n\t\t\tif (axdTransferLog) {\n\t\t\t\tconst lpTokenLog = LoyaltyToken.interface.parseLog(log)\n\t\t\t\tconst adxTransferLog = Token.interface.parseLog(axdTransferLog)\n\n\t\t\t\tdeposits.adx = deposits.adx.add(lpTokenLog.values[2])\n\t\t\t\tdeposits.adxLPT = deposits.adxLPT.add(adxTransferLog.values[2])\n\t\t\t}\n\n\t\t\treturn deposits\n\t\t},\n\t\t{ adx: ZERO, adxLPT: ZERO }\n\t)\n\n\t// multiply by decimals to keep the precision\n\tconst avgDepositShareValue = userDeposits.adx.isZero()\n\t\t? ZERO\n\t\t: userDeposits.adxLPT.mul(ADX_LP_TOKEN_DECIMALS_MUL).div(userDeposits.adx)\n\n\tconst reward = balanceLpToken\n\t\t.mul(currentShareValue.sub(avgDepositShareValue))\n\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\n\t// console.log('reward', reward.toString())\n\t// console.log('balanceLpToken', balanceLpToken.toString())\n\t// console.log('balanceLpADX', balanceLpADX.toString())\n\n\tcurrentBalance.rewardADX = reward\n\n\treturn currentBalance\n}\n\nexport async function onLoyaltyPoolDeposit(\n\tstats,\n\tchosenWalletType,\n\tadxDepositAmount\n) {\n\tif (!stats) throw new Error(\"Stats not provided\")\n\tif (!adxDepositAmount) throw new Error(\"No deposit amount provided\")\n\tif (adxDepositAmount.isZero()) throw new Error(\"Can not deposit 0 ADX\")\n\tif (adxDepositAmount.gt(stats.userBalance))\n\t\tthrow new Error(\"amount too large\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tconst walletAddr = await signer.getAddress()\n\n\tconst [allowanceADXLOYALTY] = await Promise.all([\n\t\tToken.allowance(walletAddr, LoyaltyToken.address)\n\t])\n\n\tconst setAllowance = allowanceADXLOYALTY.lt(adxDepositAmount)\n\n\tif (setAllowance) {\n\t\tconst tokenWithSigner = new Contract(ADDR_ADX, ERC20ABI, signer)\n\t\tawait tokenWithSigner.approve(LoyaltyToken.address, MAX_UINT)\n\t}\n\n\tconst loyaltyTokenWithSigner = new Contract(\n\t\tADDR_ADX_LOYALTY_TOKEN,\n\t\tADXLoyaltyPoolTokenABI,\n\t\tsigner\n\t)\n\n\tawait loyaltyTokenWithSigner.enter(\n\t\tadxDepositAmount,\n\t\tsetAllowance ? { gasLimit: 150000 } : {}\n\t)\n}\n\nexport async function onLoyaltyPoolWithdraw(\n\tstats,\n\tchosenWalletType,\n\twithdrawAmountADX\n) {\n\tif (!stats) throw new Error(\"Stats not provided\")\n\n\tconst { balanceLpADX, balanceLpToken } = stats.loyaltyPoolStats\n\n\tif (!withdrawAmountADX) throw new Error(\"No withdraw amount provided\")\n\tif (balanceLpADX.isZero()) throw new Error(\"Can not deposit 0 ADX\")\n\tif (withdrawAmountADX.gt(balanceLpADX)) throw new Error(\"amount too large\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\n\tconst loyaltyTokenWithSigner = new Contract(\n\t\tADDR_ADX_LOYALTY_TOKEN,\n\t\tADXLoyaltyPoolTokenABI,\n\t\tsigner\n\t)\n\n\tconst lpTokensToWithdraw = withdrawAmountADX\n\t\t.mul(balanceLpToken)\n\t\t.div(balanceLpADX)\n\tawait loyaltyTokenWithSigner.leave(lpTokensToWithdraw)\n}\n","import { Contract } from \"ethers\"\nimport { bigNumberify, hexZeroPad, id } from \"ethers/utils\"\nimport BalanceTree from \"adex-protocol-eth/js/BalanceTree\"\nimport { splitSig, Transaction } from \"adex-protocol-eth/js\"\nimport StakingABI from \"adex-protocol-eth/abi/Staking\"\nimport IdentityABI from \"adex-protocol-eth/abi/Identity\"\nimport CoreABI from \"adex-protocol-eth/abi/AdExCore\"\nimport FactoryABI from \"adex-protocol-eth/abi/IdentityFactory\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport {\n\tADDR_STAKING,\n\tADDR_FACTORY,\n\tADDR_ADX,\n\tMAX_UINT,\n\tZERO,\n\tPOOLS\n} from \"../helpers/constants\"\nimport { getBondId } from \"../helpers/bonds\"\nimport { getUserIdentity, zeroFeeTx, rawZeroFeeTx } from \"../helpers/identity\"\nimport { ADEX_RELAYER_HOST } from \"../helpers/constants\"\nimport { getSigner, defaultProvider } from \"../ethereum\"\nimport {\n\tloadUserLoyaltyPoolsStats,\n\tLOYALTY_POOP_EMPTY_STATS\n} from \"./loyaltyPoolActions\"\n\nconst ADDR_CORE = \"0x333420fc6a897356e69b62417cd17ff012177d2b\"\n// const ADDR_ADX_OLD = \"0x4470bb87d77b963a013db939be332f927f2b992e\"\n\nconst provider = defaultProvider\nconst Staking = new Contract(ADDR_STAKING, StakingABI, provider)\nconst Token = new Contract(ADDR_ADX, ERC20ABI, provider)\nconst Core = new Contract(ADDR_CORE, CoreABI, provider)\n\nconst MAX_SLASH = bigNumberify(\"1000000000000000000\")\n\n// 0.2 DAI or ADX\nconst OUTSTANDING_REWARD_THRESHOLD = bigNumberify(\"200000000000000000\")\n\nexport const EMPTY_STATS = {\n\tloaded: false,\n\tuserBonds: [],\n\tuserBalance: ZERO,\n\ttotalStake: ZERO,\n\ttotalStakeTom: ZERO,\n\trewardChannels: [],\n\ttotalRewardADX: ZERO,\n\ttotalRewardDAI: ZERO,\n\ttomRewardADX: ZERO,\n\tuserTotalStake: ZERO,\n\ttotalBalanceADX: ZERO,\n\tuserWalletBalance: ZERO,\n\tuserIdentityBalance: ZERO,\n\tcanExecuteGasless: false,\n\tcanExecuteGaslessError: null,\n\tloyaltyPoolStats: LOYALTY_POOP_EMPTY_STATS\n}\n\nconst sumRewards = all =>\n\tall.map(x => x.outstandingReward).reduce((a, b) => a.add(b), ZERO)\n\nexport const isTomChannelId = channel =>\n\tchannel.channelArgs.validators.some(\n\t\tval => id(`validator:${val}`) === POOLS[0].id\n\t)\n\nexport async function loadStats(chosenWalletType) {\n\tconst [totalStake, userStats] = await Promise.all([\n\t\tToken.balanceOf(ADDR_STAKING),\n\t\tloadUserStats(chosenWalletType)\n\t])\n\n\treturn { ...userStats, ...totalStake, totalStakeTom: totalStake }\n}\n\nexport async function loadUserStats(chosenWalletType) {\n\tif (!chosenWalletType.name) {\n\t\tconst loyaltyPoolStats = await loadUserLoyaltyPoolsStats()\n\n\t\treturn { ...EMPTY_STATS, loyaltyPoolStats, loaded: true }\n\t}\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) return { ...EMPTY_STATS, loaded: true }\n\n\tconst addr = await signer.getAddress()\n\tconst identityAddr = getUserIdentity(addr).addr\n\n\tconst [\n\t\t{ userBonds, userBalance, userWalletBalance, userIdentityBalance },\n\t\trewardChannels,\n\t\t{ canExecuteGasless, canExecuteGaslessError },\n\t\tloyaltyPoolStats\n\t] = await Promise.all([\n\t\tloadBondStats(addr, identityAddr),\n\t\tgetRewards(addr),\n\t\tgetGaslessInfo(addr),\n\t\tloadUserLoyaltyPoolsStats(addr)\n\t])\n\n\tconst userTotalStake = userBonds\n\t\t.filter(x => x.status === \"Active\")\n\t\t.map(x => x.currentAmount)\n\t\t.reduce((a, b) => a.add(b), ZERO)\n\n\tconst adxRewardsChannels = rewardChannels.filter(\n\t\tx => x.channelArgs.tokenAddr === ADDR_ADX\n\t)\n\tconst tomAdxRewards = [...adxRewardsChannels].filter(x => isTomChannelId(x))\n\n\tconst totalRewardADX = sumRewards(adxRewardsChannels)\n\tconst tomRewardADX = sumRewards(tomAdxRewards)\n\n\tconst totalRewardDAI = sumRewards(\n\t\trewardChannels.filter(x => x.channelArgs.tokenAddr !== ADDR_ADX)\n\t)\n\n\tconst totalBalanceADX = userBalance\n\t\t.add(totalRewardADX)\n\t\t.add(userTotalStake)\n\t\t.add(loyaltyPoolStats.balanceLpADX)\n\n\treturn {\n\t\tidentityAddr,\n\t\tconnectedWalletAddress: addr,\n\t\tuserBonds,\n\t\tuserBalance, // ADX on wallet\n\t\tloaded: true,\n\t\trewardChannels,\n\t\ttotalRewardADX,\n\t\ttotalRewardDAI,\n\t\ttomRewardADX,\n\t\tuserTotalStake,\n\t\ttotalBalanceADX, // Wallet + Stake + Reward\n\t\tuserWalletBalance,\n\t\tuserIdentityBalance,\n\t\tcanExecuteGasless,\n\t\tcanExecuteGaslessError,\n\t\tloyaltyPoolStats\n\t}\n}\n\nexport async function loadBondStats(addr, identityAddr) {\n\tconst [\n\t\t[userWalletBalance, userIdentityBalance],\n\t\tlogs,\n\t\tslashLogs\n\t] = await Promise.all([\n\t\tPromise.all([Token.balanceOf(addr), Token.balanceOf(identityAddr)]),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\taddress: ADDR_STAKING,\n\t\t\ttopics: [null, hexZeroPad(identityAddr, 32)]\n\t\t}),\n\t\tprovider.getLogs({ fromBlock: 0, ...Staking.filters.LogSlash(null, null) })\n\t])\n\n\tconst userBalance = userWalletBalance.add(userIdentityBalance)\n\n\tconst slashedByPool = slashLogs.reduce((pools, log) => {\n\t\tconst { poolId, newSlashPts } = Staking.interface.parseLog(log).values\n\t\tpools[poolId] = newSlashPts\n\t\treturn pools\n\t}, {})\n\n\tconst userBonds = logs.reduce((bonds, log) => {\n\t\tconst topic = log.topics[0]\n\t\tconst evs = Staking.interface.events\n\t\tif (topic === evs.LogBond.topic) {\n\t\t\tconst vals = Staking.interface.parseLog(log).values\n\t\t\tconst { owner, amount, poolId, nonce, slashedAtStart, time } = vals\n\t\t\tconst bond = { owner, amount, poolId, nonce, slashedAtStart, time }\n\t\t\tbonds.push({\n\t\t\t\tid: getBondId(bond),\n\t\t\t\tstatus: \"Active\",\n\t\t\t\tcurrentAmount: bond.amount\n\t\t\t\t\t.mul(MAX_SLASH.sub(slashedByPool[poolId] || ZERO))\n\t\t\t\t\t.div(MAX_SLASH.sub(slashedAtStart)),\n\t\t\t\t...bond\n\t\t\t})\n\t\t} else if (topic === evs.LogUnbondRequested.topic) {\n\t\t\t// NOTE: assuming that .find() will return something is safe, as long as the logs are properly ordered\n\t\t\tconst { bondId, willUnlock } = Staking.interface.parseLog(log).values\n\t\t\tconst bond = bonds.find(({ id }) => id === bondId)\n\t\t\tbond.status = \"UnbondRequested\"\n\t\t\tbond.willUnlock = new Date(willUnlock * 1000)\n\t\t} else if (topic === evs.LogUnbonded.topic) {\n\t\t\tconst { bondId } = Staking.interface.parseLog(log).values\n\t\t\tbonds.find(({ id }) => id === bondId).status = \"Unbonded\"\n\t\t}\n\t\treturn bonds\n\t}, [])\n\n\treturn {\n\t\tuserBonds,\n\t\tuserBalance,\n\t\tuserWalletBalance,\n\t\tuserIdentityBalance\n\t}\n}\n\nexport async function getRewards(addr) {\n\tconst identityAddr = getUserIdentity(addr).addr\n\tconst rewardPool = POOLS[0]\n\tconst resp = await fetch(`${rewardPool.url}/fee-rewards`)\n\tconst rewardChannels = await resp.json()\n\tconst validUntil = Math.floor(Date.now() / 1000)\n\tconst forUser = await Promise.all(\n\t\trewardChannels.map(async rewardChannel => {\n\t\t\tif (rewardChannel.channelArgs.validUntil < validUntil) return null\n\t\t\tconst claimFrom = rewardChannel.balances[addr] ? addr : identityAddr\n\t\t\tif (!rewardChannel.balances[claimFrom]) return null\n\t\t\tconst balanceTree = new BalanceTree(rewardChannel.balances)\n\t\t\tconst outstandingReward = bigNumberify(\n\t\t\t\trewardChannel.balances[claimFrom]\n\t\t\t).sub(await Core.withdrawnPerUser(rewardChannel.channelId, claimFrom))\n\t\t\tif (outstandingReward.lt(OUTSTANDING_REWARD_THRESHOLD)) return null\n\t\t\treturn {\n\t\t\t\t...rewardChannel,\n\t\t\t\toutstandingReward,\n\t\t\t\tclaimFrom,\n\t\t\t\tproof: balanceTree.getProof(claimFrom),\n\t\t\t\tstateRoot: balanceTree.mTree.getRoot(),\n\t\t\t\tamount: rewardChannel.balances[claimFrom]\n\t\t\t}\n\t\t})\n\t)\n\treturn forUser.filter(x => x)\n}\n\nexport async function getGaslessInfo(addr) {\n\ttry {\n\t\tconst res = await fetch(`${ADEX_RELAYER_HOST}/staking/${addr}/can-execute`)\n\t\tconst resData = await res.json()\n\n\t\treturn {\n\t\t\tcanExecuteGasless: resData.canExecute === true,\n\t\t\tcanExecuteGaslessError: resData.message || null\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err)\n\t\treturn {\n\t\t\tcanExecuteGasless: false,\n\t\t\tcanExecuteGaslessError: \"Gasless staking temporary unavailable\"\n\t\t}\n\t}\n}\n\nexport async function createNewBond(\n\tstats,\n\tchosenWalletType,\n\t{ amount, poolId, nonce },\n\tgasless\n) {\n\tif (!poolId) return\n\tif (!stats.userBalance) return\n\tif (amount.gt(stats.userBalance)) throw new Error(\"amount too large\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"failed to get signer\")\n\n\tconst walletAddr = await signer.getAddress()\n\tconst { addr } = getUserIdentity(walletAddr)\n\n\tconst bond = [\n\t\tamount,\n\t\tpoolId,\n\t\tnonce || bigNumberify(Math.floor(Date.now() / 1000))\n\t]\n\n\tconst [allowance, allowanceStaking, balanceOnIdentity] = await Promise.all([\n\t\tToken.allowance(walletAddr, addr),\n\t\tToken.allowance(addr, Staking.address),\n\t\tToken.balanceOf(addr)\n\t])\n\n\t// Edge case: if we're gasless, the ADX is already on the identity and it's not deployed (constructor will be executed)\n\tif (\n\t\tgasless &&\n\t\tamount.eq(balanceOnIdentity) &&\n\t\t(await provider.getCode(addr)) === \"0x\"\n\t) {\n\t\treturn executeOnIdentity(chosenWalletType, [], {}, true)\n\t}\n\t// @TODO consider handling this edge case in non-gasless cases when there's some ADX on the identity\n\t// or at least `if (needsDeploying && balanceOnIdentity.gt(ZERO)) throw` cause otherwise the tx would just fail\n\t// because the cnstructor will bond this amount first\n\n\t// Eg bond amount is 10 but we only have 60, we need another 40\n\tconst needed = amount.sub(balanceOnIdentity)\n\tconst setAllowance = needed.gt(ZERO) && !allowance.gte(amount)\n\tif (setAllowance) {\n\t\tconst tokenWithSigner = new Contract(ADDR_ADX, ERC20ABI, signer)\n\t\tawait tokenWithSigner.approve(addr, MAX_UINT)\n\t}\n\n\tlet identityTxns = []\n\tif (needed.gt(ZERO))\n\t\tidentityTxns.push([\n\t\t\tToken.address,\n\t\t\tToken.interface.functions.transferFrom.encode([walletAddr, addr, amount])\n\t\t])\n\tif (allowanceStaking.lt(amount))\n\t\tidentityTxns.push([\n\t\t\tToken.address,\n\t\t\tToken.interface.functions.approve.encode([Staking.address, MAX_UINT])\n\t\t])\n\n\tconst active = stats.userBonds.find(\n\t\tx => x.status === \"Active\" && x.poolId === poolId\n\t)\n\tconst stakingData = active\n\t\t? Staking.interface.functions.replaceBond.encode([\n\t\t\t\tactive,\n\t\t\t\t[active.amount.add(amount), poolId, active.nonce]\n\t\t  ])\n\t\t: Staking.interface.functions.addBond.encode([bond])\n\tidentityTxns.push([Staking.address, stakingData])\n\n\treturn executeOnIdentity(\n\t\tchosenWalletType,\n\t\tidentityTxns,\n\t\tsetAllowance ? { gasLimit: 450000 } : {},\n\t\tgasless\n\t)\n}\n\nexport async function onUnbondOrRequest(\n\tisUnbond,\n\tchosenWalletType,\n\t{ amount, poolId, nonce }\n) {\n\tconst bond = [amount, poolId, nonce || ZERO]\n\tif (isUnbond) {\n\t\tconst signer = await getSigner(chosenWalletType)\n\t\tif (!signer) throw new Error(\"failed to get signer\")\n\t\tconst walletAddr = await signer.getAddress()\n\t\tawait executeOnIdentity(chosenWalletType, [\n\t\t\t[Staking.address, Staking.interface.functions.unbond.encode([bond])],\n\t\t\t[\n\t\t\t\tToken.address,\n\t\t\t\tToken.interface.functions.transfer.encode([walletAddr, amount])\n\t\t\t]\n\t\t])\n\t} else {\n\t\tawait executeOnIdentity(chosenWalletType, [\n\t\t\t[\n\t\t\t\tStaking.address,\n\t\t\t\tStaking.interface.functions.requestUnbond.encode([bond])\n\t\t\t]\n\t\t])\n\t}\n}\n\nexport async function claimRewards(chosenWalletType, rewardChannels) {\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"failed to get signer\")\n\tconst walletAddr = await signer.getAddress()\n\n\t// @TODO: this is obsolete, it should be removed at some point (when no more DAI rewards on wallets are left)\n\tconst coreWithSigner = new Contract(ADDR_CORE, CoreABI, signer)\n\tconst legacyChannels = rewardChannels.filter(\n\t\tchannel => channel.claimFrom === walletAddr\n\t)\n\tfor (const channel of legacyChannels) {\n\t\tconst channelTuple = toChannelTuple(channel.channelArgs)\n\t\tawait coreWithSigner.channelWithdraw(\n\t\t\tchannelTuple,\n\t\t\tchannel.stateRoot,\n\t\t\tchannel.signatures,\n\t\t\tchannel.proof,\n\t\t\tchannel.amount\n\t\t)\n\t}\n\n\tconst identityChannels = rewardChannels.filter(\n\t\tchannel => channel.claimFrom !== walletAddr\n\t)\n\tconst toTransfer = {}\n\tidentityChannels.forEach(channel => {\n\t\tconst { tokenAddr } = channel.channelArgs\n\t\tconst amnt = toTransfer[tokenAddr] || ZERO\n\t\ttoTransfer[tokenAddr] = amnt.add(channel.outstandingReward)\n\t})\n\tconst identityTxns = identityChannels\n\t\t.map(channel => {\n\t\t\tconst channelTuple = toChannelTuple(channel.channelArgs)\n\t\t\treturn [\n\t\t\t\tCore.address,\n\t\t\t\tCore.interface.functions.channelWithdraw.encode([\n\t\t\t\t\tchannelTuple,\n\t\t\t\t\tchannel.stateRoot,\n\t\t\t\t\tchannel.signatures,\n\t\t\t\t\tchannel.proof,\n\t\t\t\t\tchannel.amount\n\t\t\t\t])\n\t\t\t]\n\t\t})\n\t\t.concat(\n\t\t\tObject.entries(toTransfer).map(([tokenAddr, amount]) => [\n\t\t\t\ttokenAddr,\n\t\t\t\tToken.interface.functions.transfer.encode([walletAddr, amount])\n\t\t\t])\n\t\t)\n\n\tif (identityTxns.length) {\n\t\tawait executeOnIdentity(chosenWalletType, identityTxns)\n\t}\n}\n\nexport async function restake(\n\tchosenWalletType,\n\t{ rewardChannels, userBonds },\n\tgasless\n) {\n\tconst channels = rewardChannels.filter(\n\t\tx =>\n\t\t\tx.channelArgs.tokenAddr === ADDR_ADX &&\n\t\t\t(gasless ? isTomChannelId(x) : true)\n\t)\n\tif (!channels.length) throw new Error(\"no channels to earn from\")\n\n\t// @TODO how does the user determine the pool here? For now there's only one, but after?\n\tconst collected = channels\n\t\t.map(x => x.outstandingReward)\n\t\t.reduce((a, b) => a.add(b))\n\tconst userBond =\n\t\tuserBonds.find(x => x.status === \"Active\") ||\n\t\tuserBonds.find(x => x.status === \"UnbondRequested\")\n\tif (!userBond) throw new Error(\"You have no active bonds\")\n\tconst { amount, poolId, nonce } = userBond\n\tconst bond = [amount, poolId, nonce]\n\tconst newBond = [amount.add(collected), poolId, nonce]\n\n\tconst identityTxns = channels\n\t\t.map(rewardChannel => {\n\t\t\tconst channelTuple = toChannelTuple(rewardChannel.channelArgs)\n\t\t\treturn [\n\t\t\t\tCore.address,\n\t\t\t\tCore.interface.functions.channelWithdraw.encode([\n\t\t\t\t\tchannelTuple,\n\t\t\t\t\trewardChannel.stateRoot,\n\t\t\t\t\trewardChannel.signatures,\n\t\t\t\t\trewardChannel.proof,\n\t\t\t\t\trewardChannel.amount\n\t\t\t\t])\n\t\t\t]\n\t\t})\n\t\t.concat([\n\t\t\t[\n\t\t\t\tToken.address,\n\t\t\t\tToken.interface.functions.approve.encode([Staking.address, newBond[0]])\n\t\t\t],\n\t\t\t[\n\t\t\t\tStaking.address,\n\t\t\t\tStaking.interface.functions.replaceBond.encode([bond, newBond])\n\t\t\t]\n\t\t])\n\n\treturn executeOnIdentity(chosenWalletType, identityTxns, {}, gasless)\n}\n\nfunction toChannelTuple(args) {\n\treturn [\n\t\targs.creator,\n\t\targs.tokenAddr,\n\t\targs.tokenAmount,\n\t\targs.validUntil,\n\t\targs.validators,\n\t\targs.spec\n\t]\n}\n\nexport async function executeOnIdentity(\n\tchosenWalletType,\n\ttxns,\n\topts = {},\n\tgasless\n) {\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"failed to get signer\")\n\tconst walletAddr = await signer.getAddress()\n\tconst { addr, bytecode } = getUserIdentity(walletAddr)\n\tconst identity = new Contract(addr, IdentityABI, signer)\n\n\tconst needsToDeploy = (await provider.getCode(identity.address)) === \"0x\"\n\tconst idNonce = needsToDeploy ? ZERO : await identity.nonce()\n\tconst toTuples = offset => ([to, data], i) =>\n\t\tzeroFeeTx(\n\t\t\tidentity.address,\n\t\t\tidNonce.add(i + offset),\n\t\t\tto,\n\t\t\tdata\n\t\t).toSolidityTuple()\n\tif (gasless) {\n\t\t// @TODO: we can use execute that calls into executeBySender here to only sign one tx\n\t\tconst txnsRaw = txns.map(([to, data], i) =>\n\t\t\trawZeroFeeTx(identity.address, idNonce.add(i), to, data)\n\t\t)\n\t\tconst signatures = []\n\t\tfor (const tx of txnsRaw) {\n\t\t\tconst sig = await signer.signMessage(new Transaction(tx).hash())\n\t\t\tsignatures.push(splitSig(sig))\n\t\t}\n\n\t\tconst executeUrl = `${ADEX_RELAYER_HOST}/staking/${walletAddr}/execute`\n\t\tconst res = await fetch(executeUrl, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures\n\t\t\t}),\n\t\t\theaders: { \"Content-Type\": \"application/json\" }\n\t\t})\n\t\tif (res.status === 500) throw new Error(\"Relayer: internal error\")\n\t\treturn res.json()\n\t} else if (!needsToDeploy) {\n\t\tconst txnTuples = txns.map(toTuples(0))\n\t\tawait identity.executeBySender(txnTuples, opts)\n\t} else {\n\t\tconst factoryWithSigner = new Contract(ADDR_FACTORY, FactoryABI, signer)\n\t\t// Has offset because the execute() takes the first nonce\n\t\tconst txnTuples = txns.map(toTuples(1))\n\t\tconst executeTx = zeroFeeTx(\n\t\t\tidentity.address,\n\t\t\tidNonce,\n\t\t\tidentity.address,\n\t\t\tidentity.interface.functions.executeBySender.encode([txnTuples])\n\t\t)\n\t\tconst sig = await signer.signMessage(executeTx.hash())\n\t\tawait factoryWithSigner.deployAndExecute(\n\t\t\tbytecode,\n\t\t\t0,\n\t\t\t[executeTx.toSolidityTuple()],\n\t\t\t[splitSig(sig)],\n\t\t\topts\n\t\t)\n\t}\n}\n","import { DEPOSIT_POOLS } from \"../helpers/constants\"\nimport {\n\tonLoyaltyPoolDeposit,\n\tonLoyaltyPoolWithdraw\n} from \"./loyaltyPoolActions\"\n\nexport const getDepositPool = poolId => DEPOSIT_POOLS.find(x => x.id === poolId)\n\nexport const getDepositActionByPoolId = poolId => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn onLoyaltyPoolDeposit\n\t}\n}\n\nexport const getWithdrawActionByPoolId = poolId => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn onLoyaltyPoolWithdraw\n\t}\n}\n\nexport const getPoolStatsByPoolId = (stats, poolId) => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn stats.loyaltyPoolStats\n\t}\n}\n","import React, { useEffect, useState, useContext } from \"react\"\nimport {\n\tgetDepositPool,\n\tgetDepositActionByPoolId,\n\tgetWithdrawActionByPoolId,\n\tgetPoolStatsByPoolId,\n\tisValidNumberString\n} from \"../actions\"\nimport {\n\tparseADX,\n\tformatADX,\n\tformatADXPretty,\n\ttoIdAttributeString\n} from \"../helpers/formatting\"\nimport { DEPOSIT_POOLS, ZERO } from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTextField,\n\tTypography,\n\tButton,\n\tFormControl,\n\tInputLabel,\n\tSelect,\n\tMenuItem,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport { themeMUI } from \"../themeMUi\"\nimport AppContext from \"../AppContext\"\n\nexport default function DepositForm({ depositPool, closeDialog, withdraw }) {\n\tconst { stats, chosenWalletType, wrapDoingTxns } = useContext(AppContext)\n\n\tconst [actionAmount, setActionAmount] = useState(\"0.0\")\n\tconst [amountErr, setAmountErr] = useState(false)\n\tconst [amountErrText, setAmountErrText] = useState(\"\")\n\tconst [confirmation, setConfirmation] = useState(false)\n\tconst [newDepositPool, setNewDepositPool] = useState(depositPool || {})\n\n\tconst activePool = getDepositPool(newDepositPool)\n\tconst poolStats = activePool ? getPoolStatsByPoolId(stats, activePool.id) : {}\n\tconst actionName = withdraw ? \"withdraw\" : \"deposit\"\n\n\tconst maxAmount = withdraw\n\t\t? poolStats.balanceLpADX || ZERO\n\t\t: stats.userWalletBalance\n\n\tconst onAction = async () => {\n\t\tif (!activePool) {\n\t\t\treturn\n\t\t}\n\n\t\tsetConfirmation(false)\n\t\tif (closeDialog) closeDialog()\n\n\t\tconst action = withdraw\n\t\t\t? getWithdrawActionByPoolId(activePool.id)\n\t\t\t: getDepositActionByPoolId(activePool.id)\n\n\t\tawait wrapDoingTxns(\n\t\t\taction.bind(null, stats, chosenWalletType, parseADX(actionAmount))\n\t\t)()\n\t}\n\n\tconst confirmationLabel = activePool ? activePool.confirmationLabel : \"\"\n\tconst confirmed = !confirmationLabel || confirmation\n\n\tconst validateFields = params => {\n\t\tconst { userInputAmount, poolToValidate, poolStats } = params\n\n\t\tif (!isValidNumberString(userInputAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\"Invalid amount input!\")\n\t\t\treturn\n\t\t}\n\n\t\tconst amountBN = parseADX(userInputAmount)\n\n\t\tconst minStakingAmountBN = poolToValidate\n\t\t\t? parseADX(poolToValidate.minStakingAmount || \"0\")\n\t\t\t: ZERO\n\t\tif (amountBN.gt(maxAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\"Insufficient ADX amount!\")\n\t\t\treturn\n\t\t}\n\t\tif (poolToValidate && amountBN.lte(minStakingAmountBN)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\n\t\t\t\t\"ADX amount less than minimum required for selected pool!\"\n\t\t\t)\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\t\t\t!withdraw &&\n\t\t\tpoolStats &&\n\t\t\tpoolStats.poolTotalStaked &&\n\t\t\tpoolStats.poolDepositsLimit &&\n\t\t\tamountBN.add(poolStats.poolTotalStaked).gt(poolStats.poolDepositsLimit)\n\t\t) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\n\t\t\t\t\"ADX amount too large - will go over the pool total deposits limit!\"\n\t\t\t)\n\t\t\treturn\n\t\t}\n\n\t\tsetAmountErr(false)\n\t\treturn\n\t}\n\n\tconst updatePool = value => {\n\t\tsetNewDepositPool(value)\n\t}\n\n\tconst onAmountChange = amountStr => {\n\t\tsetActionAmount(amountStr)\n\t\tvalidateFields({\n\t\t\tuserInputAmount: amountStr,\n\t\t\tpoolToValidate: activePool,\n\t\t\tpoolStats\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tconst poolToValidate = getDepositPool(newDepositPool)\n\t\tvalidateFields({ userInputAmount: actionAmount, poolToValidate, poolStats })\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [newDepositPool])\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid={`new-${actionName}-form-amount-field`}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel=\"ADX amount\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={actionAmount}\n\t\t\t\t\t\terror={amountErr}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\tonAmountChange(ev.target.value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thelperText={amountErr ? amountErrText : null}\n\t\t\t\t\t/>\n\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tid={`new-${actionName}-form-max-amount-btn`}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tonAmountChange(formatADX(maxAmount))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`Max amount: ${formatADXPretty(maxAmount)} ADX`}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<FormControl fullWidth required>\n\t\t\t\t\t\t<InputLabel>Pool</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tid={`new-${actionName}-form-pool-select`}\n\t\t\t\t\t\t\tvalue={newDepositPool}\n\t\t\t\t\t\t\tonChange={ev => updatePool(ev.target.value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={\"\"}>\n\t\t\t\t\t\t\t\t<em>None</em>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t{DEPOSIT_POOLS.map(({ label, id }) => (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tid={`new-${actionName}-form-values-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t\t{activePool ? (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Pool reward policy:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">{activePool.rewardPolicy}</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Pool slashing policy:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">{activePool.slashPolicy}</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t{confirmationLabel && (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\t\tlabel={confirmationLabel}\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tid={`new-${actionName}-form-tos-check`}\n\t\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t></FormControlLabel>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`new-${actionName}-stake-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\tactivePool\n\t\t\t\t\t\t\t\t\t? activePool.poolId || actionName\n\t\t\t\t\t\t\t\t\t: \"-deposit-pool-not-selected\"\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tdisabled={!confirmed || !!amountErr || !activePool}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{withdraw ? \"Withdraw ADX\" : \"DEPOSIT ADX\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","export function isValidNumberString(numStr) {\n\tif (typeof numStr !== \"string\") return false\n\treturn !isNaN(numStr) && !isNaN(parseFloat(numStr))\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#3c3c3c;}.cls-2{fill:#ff4266;}\\n\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"63.93 50.11 73.68 59.86 82.38 51.05 91.09 59.86 100.84 50.11 89.26 38.54 82.38 31.66 75.5 38.54 63.93 50.11\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"82.38 115.21 73.68 106.4 63.93 116.15 75.5 127.72 82.38 134.6 89.26 127.72 100.84 116.15 91.09 106.4 82.38 115.21\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"115.19 82.27 106.49 73.46 96.74 83.21 108.31 94.78 115.19 101.66 122.07 94.78 133.65 83.21 123.9 73.46 115.19 82.27\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"68.03 83.21 58.28 73.46 49.58 82.27 40.87 73.46 31.12 83.21 42.69 94.78 49.58 101.66 56.46 94.78 68.03 83.21\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"113.98 19.39 122.69 28.2 132.44 18.45 120.86 6.88 113.98 0 107.1 6.88 95.53 18.45 105.28 28.2 113.98 19.39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"50.78 19.39 59.49 28.2 69.24 18.45 57.66 6.88 50.78 0 43.9 6.88 32.33 18.45 42.08 28.2 50.78 19.39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"18.72 51.41 27.22 43.01 17.81 33.6 6.64 44.77 0 51.41 6.64 58.05 17.81 69.22 27.22 59.81 18.72 51.41\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"158.13 44.77 146.95 33.6 137.54 43.01 146.05 51.41 137.54 59.81 146.95 69.22 158.13 58.05 164.77 51.41 158.13 44.77\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"70.6 19.81 50.78 39.63 30.97 19.81 19.19 31.59 39 51.41 19.19 71.22 29.65 81.69 81.06 30.27 70.6 19.81\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"145.58 31.59 133.8 19.81 113.98 39.63 94.2 19.84 83.75 30.3 135.13 81.67 145.58 71.22 125.76 51.41 145.58 31.59\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"95.39 81.84 95.39 81.84 113.98 63.25 113.95 63.22 113.96 63.21 102.18 51.43 82.38 71.22 82.41 71.25 82.38 71.29 82.35 71.25 82.38 71.22 62.6 51.44 50.79 63.26 70.6 83.07 69.21 84.46 69.2 84.45 50.75 102.9 50.78 102.94 50.81 102.91 62.57 114.67 82.38 94.85 102.2 114.67 113.95 102.91 113.98 102.94 114.01 102.92 94.16 83.07 95.39 81.84\"\n})));\n\nvar SvgLoyaltyIc = function SvgLoyaltyIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 164.77 134.6\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLoyaltyIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/loyalty-ic.c43ef8ac.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect, useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tTableRow,\n\tTableCell,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport { DEPOSIT_POOLS } from \"../helpers/constants\"\nimport { formatADXPretty } from \"../helpers/formatting\"\nimport AppContext from \"../AppContext\"\nimport WithDialog from \"./WithDialog\"\nimport DepositForm from \"./DepositForm\"\nimport { ReactComponent as LoyaltyIcon } from \"./../resources/loyalty-ic.svg\"\n\nconst iconByPoolId = poolId => {\n\tswitch (poolId) {\n\t\tcase \"adex-loyalty-pool\":\n\t\t\treturn LoyaltyIcon\n\t\tdefault:\n\t\t\treturn null\n\t}\n}\n\nconst DepositsDialog = WithDialog(DepositForm)\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\twidth: 42,\n\t\t\theight: 42,\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.background.default,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t}\n\t}\n})\n\nconst getLoyaltyPoolDeposit = ({\n\tstats,\n\tdisabledDepositsMsg,\n\tdisabledWithdrawsMsg\n}) => {\n\tconst { loyaltyPoolStats } = stats\n\treturn {\n\t\tpoolId: \"adex-loyalty-pool\",\n\t\tlabel: \"Loyalty Pool\",\n\t\tbalance: `\n\t\t${formatADXPretty(loyaltyPoolStats.balanceLpToken)} ADX-LOYALTY\n\t\t(= ${formatADXPretty(loyaltyPoolStats.balanceLpADX)} ADX)\n\t\t`,\n\t\treward: `${\n\t\t\tloyaltyPoolStats.rewardADX\n\t\t\t\t? formatADXPretty(loyaltyPoolStats.rewardADX)\n\t\t\t\t: \"Unknown\"\n\t\t} ADX`,\n\t\tactions: [\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"loyalty-pool-deposit-form\"\n\t\t\t\ttitle=\"Add new deposit\"\n\t\t\t\tbtnLabel=\"Deposit\"\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tdisabled={!!disabledDepositsMsg}\n\t\t\t\ttooltipTitle={disabledDepositsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[0].id}\n\t\t\t/>,\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"loyalty-pool-withdraw-form\"\n\t\t\t\ttitle=\"Withdraw from loyalty pool\"\n\t\t\t\tbtnLabel=\"Withdraw\"\n\t\t\t\tcolor=\"default\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tdisabled={!!disabledWithdrawsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[0].id}\n\t\t\t\ttooltipTitle={disabledWithdrawsMsg}\n\t\t\t\twithdraw\n\t\t\t/>\n\t\t]\n\t}\n}\n\nconst updateDeposits = (deposits, newDeposit) => {\n\tconst index = deposits.findIndex(x => x.poolId === newDeposit.poolId)\n\tconst newDeposits = [...deposits]\n\n\tif (index > -1) {\n\t\tnewDeposits[index] = newDeposit\n\t} else {\n\t\tnewDeposits.push(newDeposit)\n\t}\n\n\treturn newDeposits\n}\n\nexport default function Deposits() {\n\tconst classes = useStyles()\n\n\tconst [deposits, setDeposits] = useState([])\n\n\tconst { stats, chosenWalletType } = useContext(AppContext)\n\n\tconst { loyaltyPoolStats } = stats\n\n\t// TODO: UPDATE if more deposit pools\n\tconst disableDepositsMsg = !chosenWalletType.name\n\t\t? \"Connect wallet\"\n\t\t: !loyaltyPoolStats.loaded\n\t\t? \"Loading data\"\n\t\t: loyaltyPoolStats.poolTotalStaked.gte(loyaltyPoolStats.poolDepositsLimit)\n\t\t? \"Pool deposits limit reached\"\n\t\t: \"\"\n\n\tuseEffect(() => {\n\t\tconst { loyaltyPoolStats } = stats\n\t\tif (loyaltyPoolStats.loaded) {\n\t\t\t// const disabledDepositsMsg = !chosenWalletType.name ?\n\t\t\t// \t'Connect wallet' :\n\t\t\t// \t(loyaltyPoolStats.poolTotalStaked.gte(loyaltyPoolStats.poolDepositsLimit) ?\n\t\t\t// \t\t'Pool deposits limit reached' : ''\n\t\t\t// \t)\n\t\t\tconst disabledWithdrawsMsg = !chosenWalletType.name\n\t\t\t\t? \"Connect wallet\"\n\t\t\t\t: \"\"\n\n\t\t\tconst loyaltyPoolDeposit = getLoyaltyPoolDeposit({\n\t\t\t\tstats,\n\t\t\t\tdisabledDepositsMsg: disableDepositsMsg,\n\t\t\t\tdisabledWithdrawsMsg\n\t\t\t})\n\t\t\tsetDeposits(updateDeposits(deposits, loyaltyPoolDeposit))\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [stats])\n\n\tconst renderDepositRow = deposit => {\n\t\tconst PoolIcon = iconByPoolId(deposit.poolId)\n\t\treturn (\n\t\t\t<TableRow key={deposit.poolId}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{PoolIcon && (\n\t\t\t\t\t\t\t<Box mr={1}>\n\t\t\t\t\t\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t\t\t<PoolIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box>{deposit.label}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.balance}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.reward}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{deposit.actions.map((action, index) => (\n\t\t\t\t\t\t<Box key={index} display=\"inline-block\" m={0.5}>\n\t\t\t\t\t\t\t{action}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t))}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t{/* <Box>\n\t\t\t\t<DepositsDialog\n\t\t\t\t\tid=\"deposits-table-open-deposit-modal-btn\"\n\t\t\t\t\ttitle=\"Add new deposit\"\n\t\t\t\t\tbtnLabel=\"New Deposit\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tdisabled={!!disableDepositsMsg}\n\t\t\t\t\ttooltipTitle={disableDepositsMsg}\n\t\t\t\t/>\n\t\t\t</Box> */}\n\t\t\t<Box>\n\t\t\t\t<TableContainer xs={12}>\n\t\t\t\t\t<Table aria-label=\"Bonds table\">\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>Pool</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">Balance</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">Reward</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">Actions</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>{[...(deposits || [])].map(renderDepositRow)}</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Fab, Box, Typography } from \"@material-ui/core\"\nimport { AddSharp as AddIcon } from \"@material-ui/icons\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\n\nconst useStyles = makeStyles(theme => ({\n\tfabIcon: {\n\t\tmarginRight: theme.spacing(1)\n\t}\n}))\n\nconst SectionHeader = ({ title, actions }) => {\n\tconst classes = useStyles()\n\n\tconst {\n\t\tstats,\n\t\tsetNewBondOpen,\n\t\tchosenWalletType,\n\t\tsetNewBondPool\n\t} = useContext(AppContext)\n\tconst canStake = !!chosenWalletType.name && !!stats.connectedWalletAddress\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"row\"\n\t\t\tjustifyContent=\"space-between\"\n\t\t\talignItems=\"center\"\n\t\t\tflexWrap=\"wrap\"\n\t\t>\n\t\t\t<Box color=\"text.main\" mb={1}>\n\t\t\t\t<Typography variant=\"h3\">{title}</Typography>\n\t\t\t</Box>\n\t\t\t<Box mb={1}>\n\t\t\t\t{!!actions\n\t\t\t\t\t? actions\n\t\t\t\t\t: chosenWalletType.name && (\n\t\t\t\t\t\t\t<Fab\n\t\t\t\t\t\t\t\tid={`section-header-fab-stake-adx-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\tdisabled={!stats.loaded || !canStake}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetNewBondPool(\"\")\n\t\t\t\t\t\t\t\t\tsetNewBondOpen(true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"extended\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddIcon className={classes.fabIcon} />\n\t\t\t\t\t\t\t\t{\"Stake your ADX\"}\n\t\t\t\t\t\t\t</Fab>\n\t\t\t\t\t  )}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default SectionHeader\n","import React, { useContext } from \"react\"\nimport { Box, Typography } from \"@material-ui/core\"\nimport AppContext from \"../AppContext\"\nimport Bonds from \"./Bonds\"\nimport Deposits from \"./Deposits\"\nimport SectionHeader from \"./SectionHeader\"\n\nconst Stakings = () => {\n\tconst {\n\t\tstats,\n\t\tsetToUnbond,\n\t\tonUnbond,\n\t\tsetToRestake,\n\t\tonClaimRewards\n\t} = useContext(AppContext)\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader title={\"Staked ADX\"} />\n\t\t\t<Box mt={2}>\n\t\t\t\t<Box color=\"text.main\">\n\t\t\t\t\t<Typography variant=\"h5\" gutterBottom>\n\t\t\t\t\t\t{\"BONDS\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box mt={2} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t\t<Box p={3}>\n\t\t\t\t\t\t{Bonds({\n\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\tonRequestUnbond: setToUnbond,\n\t\t\t\t\t\t\tonUnbond,\n\t\t\t\t\t\t\tonClaimRewards,\n\t\t\t\t\t\t\tonRestake: setToRestake\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box mt={2}>\n\t\t\t\t<Box color=\"text.main\">\n\t\t\t\t\t<Typography variant=\"h5\" gutterBottom>\n\t\t\t\t\t\t{\"DEPOSITS\"}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box mt={3} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t\t<Box p={3}>\n\t\t\t\t\t\t<Deposits />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Stakings\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1544\",\n  \"data-name\": \"Group 1544\",\n  transform: \"translate(0 0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1083\",\n  \"data-name\": \"Path 1083\",\n  d: \"M807.436-579.082c.041.026.068.074.108.1.11.085.191.28.367.169.149-.093.082-.273.079-.417a.738.738,0,0,0-.158-.334c-.068-.119-.187-.242-.184-.361.016-.549-.46-.714-.761-1.111C806.808-580.246,806.722-579.548,807.436-579.082Z\",\n  transform: \"translate(-788.213 591.413)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1084\",\n  \"data-name\": \"Path 1084\",\n  d: \"M789.523-576.75a.507.507,0,0,0-.481.481.507.507,0,0,0,.481.481.51.51,0,0,0,.482-.481A.508.508,0,0,0,789.523-576.75Z\",\n  transform: \"translate(-780.138 589.47)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1085\",\n  \"data-name\": \"Path 1085\",\n  d: \"M797.478-585.725c.533-.325,1.033-.7,1.547-1.055v-.117c-.534-.361-1.063-.729-1.6-1.079-.342-.221-.4-.443-.1-.748.232-.238.433-.5.653-.752.7-.788.7-.787-.324-1.142-.332-.115-.661-.241-1-.348s-.41-.3-.243-.619c.244-.467.465-.947.7-1.421.151-.31.072-.48-.29-.5-.487-.032-.973-.113-1.459-.107s-.612-.208-.515-.649c.1-.477.179-.959.275-1.438.075-.375-.051-.513-.436-.427-.457.1-.922.169-1.379.27s-.7-.036-.7-.55c0-.447-.08-.895-.092-1.342-.013-.49-.237-.5-.6-.321-.436.22-.882.418-1.317.641-.317.162-.509.092-.622-.251-.165-.5-.358-.992-.518-1.494-.123-.382-.305-.4-.584-.149s-.556.492-.841.73c-.8.672-.634.761-1.282-.2-.284-.419-.581-.831-.871-1.246h-.117c-.364.554-.739,1.1-1.089,1.666-.2.316-.383.327-.648.085-.359-.33-.752-.625-1.1-.962-.383-.368-.58-.26-.721.205-.124.41-.312.8-.423,1.216-.144.539-.419.573-.856.322-.371-.214-.773-.374-1.152-.575-.411-.218-.571-.059-.6.356-.035.506-.088,1.011-.113,1.517-.016.344-.177.438-.495.371-.516-.107-1.038-.185-1.551-.3-.408-.094-.495.091-.431.434.093.5.185,1,.3,1.493.093.411-.061.577-.472.593-.487.018-.972.085-1.459.109-.392.019-.48.2-.322.53.216.459.423.924.661,1.371.185.346.106.54-.259.659-.5.163-1,.344-1.495.514-.33.112-.382.288-.146.554.349.4.682.8,1.035,1.2.254.281.247.486-.09.7-.542.347-1.064.726-1.594,1.091v.117c.524.375,1.038.764,1.576,1.118.356.234.364.442.083.744-.347.371-.661.772-.99,1.158-.229.268-.173.443.161.554.426.143.847.3,1.27.45.665.236.663.235.346.9-.2.423-.4.849-.6,1.274-.119.255-.065.411.24.432.487.034.973.08,1.461.1.458.022.7.172.563.693-.122.471-.188.958-.272,1.439-.058.333.073.482.422.411.478-.1.959-.186,1.436-.286.384-.08.6.036.622.459.021.448.067.9.1,1.343.05.61.132.661.666.406a12.268,12.268,0,0,0,1.151-.582c.478-.294.693-.137.819.361.106.416.264.818.4,1.224.206.6.229.6.726.177.342-.292.686-.582,1.011-.893s.548-.3.788.092c.327.532.688,1.044,1.034,1.564H786c.366-.575.741-1.146,1.1-1.727.177-.289.332-.247.549-.043.412.387.849.748,1.266,1.132.273.251.423.189.533-.148.169-.519.369-1.029.533-1.549.112-.352.3-.411.618-.253.47.237.948.46,1.423.688.3.145.473.091.489-.286.021-.487.082-.972.109-1.458.023-.43.226-.6.649-.509.458.1.919.18,1.378.275.4.082.552-.063.47-.467-.085-.421-.156-.844-.231-1.267-.11-.619.007-.761.65-.8.389-.022.779-.046,1.169-.064.452-.02.594-.2.362-.625-.24-.447-.443-.913-.67-1.367-.145-.291-.084-.474.239-.577.5-.161.994-.351,1.5-.511.362-.115.433-.286.175-.583-.32-.368-.605-.77-.951-1.112C796.973-585.257,797.065-585.473,797.478-585.725Zm-7.909-6.648c.221-.187.468-.265.7-.021.956,1,1.913,2.008,2.855,3.026a1.46,1.46,0,0,1,.357,1.038c-.008,1.649,0,3.3,0,4.948a3.213,3.213,0,0,1-.118.892l-.985-.985c0-.94,0-1.88,0-2.821a.623.623,0,0,0-.209-.5c-.245-.231-.469-.487-.72-.711a1.537,1.537,0,0,1-.556-1.337,2.5,2.5,0,0,0-.961-2.394,2.842,2.842,0,0,1-.419-.478A.434.434,0,0,1,789.569-592.373Zm-1.378-1.167c.694,0,.786.09.786.77,0,1.837.008,3.674-.006,5.511,0,.343.069.486.45.479a1.326,1.326,0,0,1,1.526,1.335c.025.2.039.4.058.6l-3.594-3.594h.4c.418,0,.512-.092.513-.5q.007-1.7,0-3.41c0-.442-.087-.53-.524-.531q-2.417,0-4.835,0l-.654-.654Zm1.057,13.554q-2.156,0-4.312,0c-1.424,0-2.849,0-4.274,0-.433,0-.6-.182-.588-.589.011-.312.165-.52.479-.5.374.024.425-.148.425-.466q-.01-4.449,0-8.9l.653.653c0,.272,0,.544,0,.817,0,.442.087.53.524.531h.824l6,6c0,.349,0,.7,0,1.048,0,.227.086.3.309.31.457.019.607.181.591.583C789.861-580.133,789.691-579.987,789.248-579.986Zm3.914.32-14.2-14.2.761-.761,14.2,14.2Z\",\n  transform: \"translate(-772.74 600.039)\"\n}));\n\nvar SvgGaslessIc = function SvgGaslessIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26.285,\n    height: 26.403,\n    viewBox: \"0 0 26.285 26.403\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGaslessIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/gasless-ic.8cc8ae7b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Fragment } from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { InfoSharp as InfoIcon } from \"@material-ui/icons\"\nimport Tooltip from \"./Tooltip\"\n\nconst ExtraLabel = ({ label = \"\" }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay=\"block\"\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nexport function Info({ title }) {\n\treturn (\n\t\t<Tooltip title={<ExtraLabel label={title} />}>\n\t\t\t<InfoIcon fontSize=\"inherit\" />\n\t\t</Tooltip>\n\t)\n}\n\nfunction AmountText({ text = \"\", fontSize }) {\n\tconst decimalSeparatorSplit = text.split(\".\")\n\n\tif (decimalSeparatorSplit.length > 1) {\n\t\tconst decimalsSplit = decimalSeparatorSplit[1].split(\" \")\n\t\treturn (\n\t\t\t<Box component=\"div\" display=\"inline\">\n\t\t\t\t<Box component=\"div\" display=\"inline\">\n\t\t\t\t\t{decimalSeparatorSplit[0]}\n\t\t\t\t\t{\".\"}\n\t\t\t\t</Box>\n\t\t\t\t<Box\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tdisplay=\"inline\"\n\t\t\t\t\tstyle={{ opacity: \"0.6\" }}\n\t\t\t\t\tfontSize={fontSize * 0.83}\n\t\t\t\t>\n\t\t\t\t\t{decimalsSplit[0]}\n\t\t\t\t</Box>\n\t\t\t\t{decimalsSplit[1] && (\n\t\t\t\t\t<Box component=\"div\" display=\"inline\" fontSize={fontSize * 0.83}>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t{decimalsSplit[1]}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t)\n\t} else {\n\t\treturn text\n\t}\n}\n\nexport function CardRow({\n\ttext,\n\tinfoText,\n\tfontWeight,\n\tfontSize,\n\tcolor,\n\tjustify,\n\tisAmountText,\n\t...restBox\n}) {\n\treturn (\n\t\t<Box {...restBox}>\n\t\t\t<Typography component=\"div\" variant=\"body2\">\n\t\t\t\t<Box\n\t\t\t\t\tcolor={color}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t\tjustifyContent={justify || \"flex-start\"}\n\t\t\t\t>\n\t\t\t\t\t<Box style={{ wordBreak: \"break-word\" }}>\n\t\t\t\t\t\t{isAmountText ? (\n\t\t\t\t\t\t\t<AmountText text={text} fontSize={fontSize} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t{infoText && (\n\t\t\t\t\t\t<Box ml={0.69} display=\"flex\">\n\t\t\t\t\t\t\t<Info title={infoText} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</Typography>\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport LinearProgress from \"@material-ui/core/LinearProgress\"\nimport { CardRow } from \"./cardCommon\"\n\nexport default function StatsCard({\n\tsize,\n\ttitle,\n\ttitleInfo,\n\tsubtitle,\n\tsubtitleInfo,\n\textra,\n\textraInfo,\n\tmoreExtra,\n\tmoreExtraInfo,\n\tloaded,\n\tactions\n}) {\n\treturn (\n\t\t<Box>\n\t\t\t{title && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={title}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={titleInfo}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{subtitle && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 21 : 17}\n\t\t\t\t\ttext={subtitle}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={subtitleInfo}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{extra && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={extra}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={extraInfo}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{moreExtra && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={moreExtra}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={moreExtraInfo}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{actions || <></>}\n\n\t\t\t{!loaded ? <LinearProgress /> : <></>}\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Link } from \"@material-ui/core\"\nimport { OpenInNew } from \"@material-ui/icons\"\nimport clsx from \"clsx\"\n\nexport const styles = theme => ({\n\texternalIcon: {\n\t\tmarginLeft: theme.spacing(0.5),\n\t\tfontSize: \"small\"\n\t},\n\tlink: {\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\"\n\t}\n})\n\nconst useStyles = makeStyles(styles)\n\nconst getUrl = url => {\n\turl = (url || \"\").replace(/^(https?:)?\\/\\//i, \"\")\n\tif (url) {\n\t\turl = \"//\" + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({\n\thref,\n\ttarget,\n\tchildren,\n\tlabel,\n\tunderline,\n\texternalIcon,\n\tcolor,\n\tcomponent,\n\tclassName,\n\tid,\n\t...rest\n}) => {\n\tconst classes = useStyles()\n\n\tconst isExternal = target && target === \"_blank\"\n\tconst url = isExternal ? getUrl(href) : href\n\n\tconst linkProps = {\n\t\tunderline: underline || \"none\",\n\t\tcolor: color || \"inherit\",\n\t\tdraggable: \"false\",\n\t\t...(isExternal && { rel: \"noopener noreferrer\" }),\n\t\ttarget,\n\t\thref: url,\n\t\tstyle: { wordBreak: \"break-all\" }, // TODO: add it where needed only\n\t\t...(component ? { component } : {}),\n\t\t...rest\n\t}\n\treturn (\n\t\t<Link {...linkProps} className={clsx(className, classes.link)}>\n\t\t\t{!component && (children || label)}\n\t\t\t{!component && externalIcon && (\n\t\t\t\t<OpenInNew className={classes.externalIcon} />\n\t\t\t)}\n\t\t</Link>\n\t)\n}\n\nexport const ExternalAnchor = ({ href, children, style, color, ...rest }) => (\n\t<Anchor\n\t\tstyle={{ fontWeight: \"bold\" }}\n\t\tunderline=\"always\"\n\t\ttarget=\"_blank\"\n\t\tcolor={color || \"secondary\"}\n\t\texternalIcon\n\t\thref={href}\n\t\t{...rest}\n\t>\n\t\t{children}\n\t</Anchor>\n)\n\nexport default Anchor\n","import React from \"react\"\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tDialogActions,\n\tButton\n} from \"@material-ui/core\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\n\nexport default function ConfirmationDialog({\n\tisOpen,\n\tonDeny,\n\tonConfirm,\n\tcontent,\n\ttitle = \"Are you sure?\",\n\tconfirmActionName\n}) {\n\treturn (\n\t\t<Dialog open={isOpen} onClose={onDeny}>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n\t\t\t<DialogContent>{content}</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tid={`confirmation-dialog-deny-${toIdAttributeString(\n\t\t\t\t\t\tconfirmActionName\n\t\t\t\t\t)}`}\n\t\t\t\t\tonClick={onDeny}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tid={`confirmation-dialog-confirm-${toIdAttributeString(\n\t\t\t\t\t\tconfirmActionName\n\t\t\t\t\t)}`}\n\t\t\t\t\tonClick={onConfirm}\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisableElevation\n\t\t\t\t>\n\t\t\t\t\t{confirmActionName}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, { useContext, useEffect, useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tSvgIcon,\n\tTypography,\n\tIconButton,\n\tButton,\n\tModal,\n\tFade,\n\tBackdrop\n} from \"@material-ui/core\"\nimport {\n\tFileCopySharp as CopyIcon,\n\tHelpSharp as HelpIcon\n} from \"@material-ui/icons\"\nimport copy from \"copy-to-clipboard\"\nimport { ReactComponent as GaslessIcon } from \"./../resources/gasless-ic.svg\"\nimport SectionHeader from \"./SectionHeader\"\nimport AppContext from \"../AppContext\"\nimport { createNewBond, restake } from \"../actions\"\nimport {\n\tPOOLS,\n\tMIN_BALANCE_FOR_GASLESS_TXNS,\n\tUNBOND_DAYS,\n\tZERO\n} from \"../helpers/constants\"\nimport StatsCard from \"./StatsCard\"\nimport { formatADXPretty } from \"../helpers/formatting\"\nimport NewGaslessBondForm from \"./NewGaslessBondForm\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport Tooltip from \"./Tooltip\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\n\nconst MIN_GASLESS_RE_STAKE_REWARDS = MIN_BALANCE_FOR_GASLESS_TXNS.div(4)\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: \"transparent\"\n\t\t},\n\t\tnoUserData: {\n\t\t\topacity: 0.23\n\t\t},\n\t\taddress: {\n\t\t\twordBreak: \"break-all\"\n\t\t},\n\t\tmodal: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\tbullets: {\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tmaxWidth: 800\n\t\t\t}\n\t\t},\n\t\tactions: {\n\t\t\tmaxWidth: 400,\n\t\t\tmargin: theme.spacing(1)\n\t\t}\n\t}\n})\n\nconst Gasless = () => {\n\tconst classes = useStyles()\n\n\tconst [bondOpen, setBondOpen] = useState(false)\n\tconst [reStakeOpen, setReStakeOpen] = useState(false)\n\tconst [bond, setBond] = useState({})\n\n\tconst {\n\t\tstats,\n\t\tsetConnectWallet,\n\t\taddSnack,\n\t\tchosenWalletType,\n\t\twrapDoingTxns\n\t} = useContext(AppContext)\n\n\tconst {\n\t\tuserIdentityBalance,\n\t\tidentityAddr,\n\t\tloaded,\n\t\tcanExecuteGasless,\n\t\tcanExecuteGaslessError,\n\t\ttomRewardADX,\n\t\tuserBonds\n\t} = stats\n\n\tconst hasEnoughForReStake = tomRewardADX.gte(MIN_GASLESS_RE_STAKE_REWARDS)\n\n\tconst walletConnected = identityAddr && loaded\n\tconst disabled = !walletConnected || !canExecuteGasless\n\tconst disableReStake = disabled || !hasEnoughForReStake\n\tconst canExecuteGaslessReStakeError = (canExecuteGaslessError || \"\")\n\t\t.toLowerCase()\n\t\t.includes(\"needs to have at least\")\n\t\t? `Insufficient gasless address balance`\n\t\t: canExecuteGaslessError ||\n\t\t  `Not enough rewards (min rewards for gasless re-stake ${formatADXPretty(\n\t\t\t\tMIN_GASLESS_RE_STAKE_REWARDS\n\t\t  )} ADX)`\n\tconst showReStake =\n\t\twalletConnected &&\n\t\tuserBonds &&\n\t\tuserBonds.some(x => x.poolId === POOLS[0].id)\n\t// NOTE: When there is old account with rewards\n\t// and 20 000 on the identity - if the identity is not deployed\n\t// If you gasless re-stake the rewards you will stake the amount on\n\t// the identity as well without notification\n\t// TODO: maybe add notification\n\n\tconst onTxRes = (res, btnId) => {\n\t\tif (res && res.txId) {\n\t\t\taddSnack(\n\t\t\t\t`Gasless transactions ${res.txId} sent!`,\n\t\t\t\t\"success\",\n\t\t\t\t20000,\n\t\t\t\t<ExternalAnchor\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\tid={btnId}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\thref={`https://etherscan.io/tx/${res.txId}`}\n\t\t\t\t>\n\t\t\t\t\tSee on Etherscan\n\t\t\t\t</ExternalAnchor>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst onStake = async () => {\n\t\tsetBondOpen(false)\n\t\tconst res = await wrapDoingTxns(\n\t\t\tcreateNewBond.bind(null, stats, chosenWalletType, bond, true)\n\t\t)()\n\n\t\tonTxRes(res, \"new-gasless-stake-snack\")\n\t}\n\n\tconst onReStake = async () => {\n\t\tsetReStakeOpen(false)\n\t\tconst res = await wrapDoingTxns(\n\t\t\trestake.bind(null, chosenWalletType, stats, true)\n\t\t)()\n\n\t\tonTxRes(res, \"new-gasless-re-stake-snack\")\n\t}\n\n\tuseEffect(() => {\n\t\tsetBond({\n\t\t\tpoolId: POOLS[0].id,\n\t\t\tamount: userIdentityBalance\n\t\t})\n\t}, [identityAddr, userIdentityBalance, loaded])\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader\n\t\t\t\ttitle={\"Gasless Staking\"}\n\t\t\t\tactions={\n\t\t\t\t\t<Box\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontSize={88}\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<SvgIcon color=\"inherit\" fontSize=\"inherit\">\n\t\t\t\t\t\t\t<GaslessIcon width=\"100%\" height=\"100%\" color=\"secondary\" />\n\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tclassName={classes.content}\n\t\t\t\t\t\t\tmt={4}\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\talignItems=\"flex-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" variant=\"h5\">\n\t\t\t\t\t\t\t\t\t{\"Gasless account address\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t\t\t\tflexGrow={0}\n\t\t\t\t\t\t\t\t// flexWrap=\"wrap\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t\t\t\t\tbgcolor=\"background.paper\"\n\t\t\t\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\t\t\t\tfontSize={23}\n\t\t\t\t\t\t\t\t\tboxShadow={25}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tonClick={() => !identityAddr && setConnectWallet(true)}\n\t\t\t\t\t\t\t\t\t\tm={1}\n\t\t\t\t\t\t\t\t\t\tmx={2}\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.address }}\n\t\t\t\t\t\t\t\t\t\t{...(!identityAddr ? { style: { cursor: \"pointer\" } } : {})}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{identityAddr ||\n\t\t\t\t\t\t\t\t\t\t\t\"connect wallet to see gasless staking address\"}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t{identityAddr && (\n\t\t\t\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"mobile-burger-btn\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy(identityAddr)\n\t\t\t\t\t\t\t\t\t\t\t\t\taddSnack(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Gasless Staking address ${identityAddr} copied to clipboard`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\ttitle={`\n\t\t\t\t\t\t\t\t\t\t\t\tThis is the address of your gasless account: \n\t\t\t\t\t\t\t\t\t\t\t\tit's an automatically calculated (CREATE2) smart contract\n\t\t\t\t\t\t\t\t\t\t\t\taddress that will be created once the first transaction is issued.\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<HelpIcon color=\"primary\" />\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box className={classes.bullets}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\" • \"} Deposit ADX to this address. When there's a minimum of{\" \"}\n\t\t\t\t\t\t\t\t\t<strong>{`${formatADXPretty(\n\t\t\t\t\t\t\t\t\t\tMIN_BALANCE_FOR_GASLESS_TXNS\n\t\t\t\t\t\t\t\t\t)} ADX`}</strong>{\" \"}\n\t\t\t\t\t\t\t\t\tdeposited, you can click \"Stake\" and that amount will be\n\t\t\t\t\t\t\t\t\tstaked without gas fees.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\" • \"} You can send ADX from wallets and exchanges as many\n\t\t\t\t\t\t\t\t\ttimes as you want before clicking \"Stake\".\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\" • \"} Gasless staking is limited to one stake in 12 hours.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\n\t\t\t\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t\t\t\t{walletConnected && (\n\t\t\t\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize: \"large\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"ADX BALANCE ON GASLESS ADDRESS\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubtitle: userIdentityBalance\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatADXPretty(userIdentityBalance) + \" ADX\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\textra:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcanExecuteGaslessError ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"✅ Ready for gasless stake\"\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\twalletConnected\n\t\t\t\t\t\t\t\t\t\t\t\t\t? canExecuteGaslessError || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Connect wallet\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t// fullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`stake-gasless-form-open`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setBondOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\"Stake\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{showReStake && (\n\t\t\t\t\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize: \"large\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"ADX REWARDS READY FOR RE-STAKE\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubtitle: tomRewardADX\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatADXPretty(tomRewardADX) + \" ADX\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\textra:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcanExecuteGaslessReStakeError ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"✅ Ready for gasless re-stake\"\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twalletConnected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? canExecuteGaslessReStakeError || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Connect wallet\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`re-stake-gasless-form-open`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// fullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setReStakeOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disableReStake}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\"RE-STAKE REWARDS\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t{!disabled && (\n\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t{`Once you send your gasless transactions, it will take some time for it to be executed on the chain. Please be patient.\n\t\t\t\t\t\t\t\t\t\tYour stats will be updated when the transaction is confirmed. Confirmation time depends on network load.\n\n\t\t\t\t\t\t\t\t\t\tYou can see all transactions of your gasless address `}\n\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\thref={`https://etherscan.io/address/${identityAddr}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{\" HERE\"}\n\t\t\t\t\t\t\t\t\t\t</ExternalAnchor>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\n\t\t\t\t<Modal\n\t\t\t\t\topen={bondOpen}\n\t\t\t\t\tonClose={() => setBondOpen(false)}\n\t\t\t\t\tclassName={classes.modal}\n\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\tBackdropProps={{\n\t\t\t\t\t\ttimeout: 300\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Fade in={bondOpen}>\n\t\t\t\t\t\t{NewGaslessBondForm({\n\t\t\t\t\t\t\tbond,\n\t\t\t\t\t\t\tonStake,\n\t\t\t\t\t\t\tchosenWalletType\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Fade>\n\t\t\t\t</Modal>\n\n\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\tisOpen: reStakeOpen,\n\t\t\t\t\tonDeny: () => setReStakeOpen(false),\n\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\tonReStake()\n\t\t\t\t\t},\n\t\t\t\t\tconfirmActionName: \"Re-stake\",\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\tAre you sure you want to re-stake your earnings of{\" \"}\n\t\t\t\t\t\t\t{formatADXPretty(tomRewardADX ? tomRewardADX : ZERO)} ADX?\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tPlease be aware that this means that this amount will be locked up\n\t\t\t\t\t\t\tfor at least {UNBOND_DAYS} days.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t{!stats.userBonds.find(x => x.status === \"Active\")\n\t\t\t\t\t\t\t\t? \"Your bond will be re-activated, meaning that your request to unbond will be cancelled but it will start earning rewards again.\"\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Gasless\n","import React, { useState } from \"react\"\nimport { getPool } from \"../helpers/bonds\"\nimport { formatADXPretty } from \"../helpers/formatting\"\nimport { UNBOND_DAYS, STAKING_RULES_URL } from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTypography,\n\tButton,\n\tFormControl,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport { themeMUI } from \"../themeMUi\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport StatsCard from \"./StatsCard\"\n\nexport default function NewGaslessBondForm({\n\tbond = {},\n\tonStake,\n\tchosenWalletType\n}) {\n\tconst activePool = getPool(bond.poolId) || {}\n\tconst [confirmation, setConfirmation] = useState(false)\n\n\tconst onAction = () => {\n\t\tonStake(onStake)\n\t\tsetConfirmation(false)\n\t}\n\n\tconst stakingRulesFrag = STAKING_RULES_URL ? (\n\t\t<>\n\t\t\t&nbsp;and{\" \"}\n\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={STAKING_RULES_URL}>\n\t\t\t\tstaking conditions\n\t\t\t</a>\n\t\t</>\n\t) : (\n\t\t<></>\n\t)\n\tconst confirmationLabel = (\n\t\t<>\n\t\t\tI understand I am locking up my ADX for at least {UNBOND_DAYS} days and I\n\t\t\tam familiar with the&nbsp;\n\t\t\t<ExternalAnchor\n\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\thref=\"https://www.adex.network/tos/\"\n\t\t\t>\n\t\t\t\tTerms and conditions\n\t\t\t</ExternalAnchor>\n\t\t\t{stakingRulesFrag}.\n\t\t</>\n\t)\n\n\treturn (\n\t\t<Box\n\t\t\twidth={666}\n\t\t\tmaxWidth={1}\n\t\t\tm={1}\n\t\t\tmaxHeight=\"90vh\"\n\t\t\tp={2}\n\t\t\tpb={4}\n\t\t\tbgcolor=\"background.paper\"\n\t\t\toverflow=\"auto\"\n\t\t>\n\t\t\t<h2>Create a bond - gasless</h2>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Box mb={1.5}>\n\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\tsize: \"large\",\n\t\t\t\t\t\t\tloaded: true,\n\t\t\t\t\t\t\ttitle: \"ADX BALANCE ON GASLESS ADDRESS\",\n\t\t\t\t\t\t\tsubtitle: bond.amount\n\t\t\t\t\t\t\t\t? formatADXPretty(bond.amount) + \" ADX\"\n\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\textra: `Pool: ${activePool.label}`\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\n\t\t\t\t{activePool ? (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Pool reward policy:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">{activePool.rewardPolicy}</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Pool slashing policy:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">{activePool.slashPolicy}</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\tlabel={confirmationLabel}\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tid=\"new-bond-form-tos-check\"\n\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t></FormControlLabel>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`new-gasless-bond-stake-action-btn`}\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tdisabled={!(bond.poolId && confirmation)}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStake ADX\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(222.283 597.452)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-165.533-585.571c-1.471-.154-2.685-.228-3.881-.415a5.679,5.679,0,0,1-4.824-5.962,5.72,5.72,0,0,1,5.316-5.412c3.187-.136,6.384-.066,9.577-.07,4.367,0,8.735-.063,13.1.03a5.778,5.778,0,0,1,5.567,7.481c-.635,2.362-3.2,4.108-6.189,4.2-.694.02-1.389,0-2.258,0,0,2.27-.046,4.416.056,6.556.014.285.756.714,1.2.772a65.788,65.788,0,0,1,19.029,5.6,62.2,62.2,0,0,1,14.022,8.85c.719.6,1.207.688,1.859-.052,1.145-1.3,2.357-2.541,3.685-3.961-.357-.32-.892-.741-1.359-1.228a3.411,3.411,0,0,1-.25-4.707,3.7,3.7,0,0,1,4.943-.5c1.2.968,2.286,2.087,3.411,3.151,1.977,1.87,3.956,3.738,5.916,5.627,1.563,1.507,1.769,3.427.565,4.884a3.71,3.71,0,0,1-5.178.426c-.806-.676-1.264-.654-1.95.092a35.9,35.9,0,0,1-3.038,2.92c-.735.63-.708,1.054-.128,1.832a96.617,96.617,0,0,1,5.642,8.034A57.776,57.776,0,0,1-93.169-527.2a59.463,59.463,0,0,1,.246,18.073,59.427,59.427,0,0,1-11.733,28.06,62.53,62.53,0,0,1-19.929,17.232,44.509,44.509,0,0,1-6.091,2.724,121.413,121.413,0,0,1-11.8,3.98,63.854,63.854,0,0,1-23.688,1.111,63.662,63.662,0,0,1-22.63-7.086c-14.35-7.736-24.655-19.092-30.2-34.537a57.37,57.37,0,0,1-3.18-16.033,57.884,57.884,0,0,1,8.541-34.426,63.154,63.154,0,0,1,31.6-26.3,64.676,64.676,0,0,1,15.424-4.028c.385-.05,1.009-.52,1.022-.816C-165.492-581.341-165.533-583.445-165.533-585.571ZM-116.582-482.8a50.567,50.567,0,0,0,13.607-31.582c-1.042,0-1.831-.029-2.618.005-3.841.165-3.667-.522-3.605-3.874.028-1.536.617-2.055,2.206-2.078,1.256-.018,2.513,0,3.735,0,1.446-7.154-7.472-27.519-13.634-31.274-.5.471-1.008.948-1.512,1.433-2.7,2.6-2.944,2.59-5.586-.139-1.1-1.136-1.119-1.878-.019-2.98.89-.892,1.818-1.746,2.707-2.6-.092-.178-.115-.285-.18-.34-9.243-7.75-20-11.716-31.923-12.754-.251-.022-.673.373-.781.661a3.306,3.306,0,0,0-.041,1.255c.2,4.233-.538,4.021-4.273,3.965a1.776,1.776,0,0,1-1.951-1.921c-.022-1.033-.02-2.066-.012-3.1.006-.748-.342-1.023-1.064-.862a7.068,7.068,0,0,1-.964.183,53.837,53.837,0,0,0-24.063,7.815c-2.407,1.467-4.649,3.2-7.073,4.888.73.7,1.2,1.153,1.676,1.6,2.748,2.582,2.744,2.973-.057,5.438-1.235,1.087-1.926,1.094-3.167-.029-.925-.838-1.815-1.715-2.71-2.564-6.912,5.575-14.863,23.814-13.611,31.319,1.273,0,2.577-.019,3.88,0,1.492.028,2.119.645,2.194,2.126.026.515.023,1.033,0,1.549-.065,1.784-.533,2.246-2.3,2.265-1.3.014-2.593,0-4.04,0,.78,12.331,5.563,22.6,13.644,31.589l1.821-1.714c2.7-2.549,2.881-2.546,5.523.082,1.125,1.118,1.145,2.021.032,3.116-.923.908-1.872,1.789-2.861,2.73.407.36.7.646,1.026.9a55.921,55.921,0,0,0,16.749,9.245,60.342,60.342,0,0,0,14.145,2.925c.927.091,1.293-.176,1.238-1.131-.06-1.03-.032-2.066,0-3.1a1.763,1.763,0,0,1,1.873-1.848c2.832-.23,3.987.12,4.289,1.37a3.723,3.723,0,0,1,.049.841c.005.892.057,1.789-.013,2.676-.081,1.029.323,1.268,1.307,1.186a56.251,56.251,0,0,0,26.8-9.216c1.733-1.146,3.358-2.454,5.051-3.7-.694-.712-1.2-1.255-1.727-1.769-2.693-2.6-2.685-2.981.153-5.431,1.237-1.068,1.9-1.046,3.158.114C-118.579-484.658-117.659-483.8-116.582-482.8Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M90.872-306.352h-5.99v-17.426c1.789,0,3.6-.048,5.4.041.356.018.73.524,1.022.868,1.818,2.139,3.614,4.3,5.705,6.791V-323.7h5.98v17.389c-1.705,0-3.424.051-5.135-.042-.355-.019-.721-.536-1.014-.881-1.9-2.245-3.783-4.507-5.967-7.115Z\",\n  transform: \"translate(-220.606 -196.543)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-48.262-316.215c-.1,4.386-2.926,7.842-7.586,8.957-5.611,1.343-11.787-1.9-12.4-7.984a8.225,8.225,0,0,1,1.86-6.294,10.039,10.039,0,0,1,9.921-3.6,9.148,9.148,0,0,1,7.679,6.182A17.525,17.525,0,0,1-48.262-316.215Zm-10.078-3.869a3.84,3.84,0,0,0-3.821,4,3.894,3.894,0,0,0,3.872,3.969,3.808,3.808,0,0,0,3.812-3.993A3.865,3.865,0,0,0-58.339-320.084Z\",\n  transform: \"translate(-110.59 -195.454)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M27.755-316.128c-.119,4.308-2.926,7.72-7.53,8.855-5.674,1.4-11.834-1.933-12.451-7.911a8.258,8.258,0,0,1,1.819-6.3,10.018,10.018,0,0,1,9.9-3.651,9.153,9.153,0,0,1,7.761,6.27A17.311,17.311,0,0,1,27.755-316.128Zm-10.022,4.014a3.808,3.808,0,0,0,3.809-4,3.866,3.866,0,0,0-3.867-3.972,3.842,3.842,0,0,0-3.819,4A3.9,3.9,0,0,0,17.733-312.114Z\",\n  transform: \"translate(-165.189 -195.455)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-116.77-322.405l-2.7,3.621c-2.068-.454-3.9-.9-5.76-1.225-.39-.067-.862.342-1.3.531.371.345.687.878,1.122,1,1.659.482,3.386.738,5.033,1.253,2.662.832,4.016,2.463,4.056,4.62a5.33,5.33,0,0,1-3.931,5.25,14.661,14.661,0,0,1-12.785-1.7,7.35,7.35,0,0,1-.718-.613l2.887-3.34c2.177.619,4.067,1.268,6.01,1.646.675.131,1.48-.409,2.226-.642a8.313,8.313,0,0,0-1.838-1.171c-1.6-.508-3.3-.726-4.874-1.3-1.949-.71-3.437-1.982-3.477-4.294a5.053,5.053,0,0,1,3.3-5.106C-125.134-325.588-120.906-325-116.77-322.405Z\",\n  transform: \"translate(-63.585 -195.785)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-23.021-369.079l-2.873-4.113-.315.077v5.838h-4.381v-13.039c1.384,0,2.737-.056,4.079.037a1.756,1.756,0,0,1,1.038.776c.828,1.171,1.585,2.392,2.486,3.771.807-1.235,1.568-2.238,2.15-3.337a2.266,2.266,0,0,1,2.374-1.28c3.19.063,3.191.018,3.191,3.18q0,4.153,0,8.306c0,.5-.045,1-.073,1.569h-4.458v-5.84l-.329-.111Z\",\n  transform: \"translate(-137.675 -155.923)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M61.058-375.16v-5.279h4.45v12.979c-1.173,0-2.29.059-3.4-.032A1.933,1.933,0,0,1,61-368.164c-1.454-1.642-2.862-3.324-4.588-5.346v5.977H51.92V-380.3a4.7,4.7,0,0,1,5.738,1.543q1.507,1.766,3.037,3.513C60.738-375.2,60.851-375.206,61.058-375.16Z\",\n  transform: \"translate(-196.933 -155.686)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-81.233-367.778c-3-.036-5.4-1.193-6.767-3.935a6.121,6.121,0,0,1,.77-6.984,7.31,7.31,0,0,1,7.532-2.657c4.176.845,6.308,3.677,5.912,7.688C-74.115-370.338-77.349-367.783-81.233-367.778Zm0-3.906a2.821,2.821,0,0,0,2.933-2.9,2.95,2.95,0,0,0-2.83-3.052,2.817,2.817,0,0,0-2.9,2.928A2.8,2.8,0,0,0-81.234-371.683Z\",\n  transform: \"translate(-95.903 -155.069)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M118.237-379.492l-2.427,2.859a19.4,19.4,0,0,0-1.937-.879,3.055,3.055,0,0,0-3.471.828,3.2,3.2,0,0,0-.507,3.663,3.114,3.114,0,0,0,3.066,1.824c1.186.027,1.79-.427,1.342-1.775l-2.09-.214v-2.441h6.565c0,1.819.036,3.631-.033,5.44a1.459,1.459,0,0,1-.719.924,9.591,9.591,0,0,1-9.277.57A6.16,6.16,0,0,1,105-374.364a6.39,6.39,0,0,1,3.182-6.024A8.609,8.609,0,0,1,118.237-379.492Z\",\n  transform: \"translate(-235.051 -155.02)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-123.944-378.071l-3.463,1.962c-2.246-1.787-3.459-1.939-4.606-.6a3.4,3.4,0,0,0,.2,4.372c1.217,1.116,2.777.8,4.391-.938l3.519,1.924c-1.286,2.757-4.475,4.122-7.922,3.457a6.788,6.788,0,0,1-5.537-6.391,6.8,6.8,0,0,1,4.914-6.887C-128.922-382.2-125.647-381.053-123.944-378.071Z\",\n  transform: \"translate(-60.981 -155.067)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.163-366.909H29.821v-12.913h4.342Z\",\n  transform: \"translate(-181.061 -156.302)\"\n}));\n\nvar SvgComingSoonIc = function SvgComingSoonIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 129.934,\n    height: 142.038,\n    viewBox: \"0 0 129.934 142.038\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgComingSoonIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/coming-soon-ic.556674d8.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Fragment } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tButton,\n\tCircularProgress,\n\tTypography,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport { ReactComponent as ComingSoonImg } from \"./../resources/coming-soon-ic.svg\"\nimport { CardRow } from \"./cardCommon\"\nimport Tooltip from \"./Tooltip\"\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 69,\n\t\t\theight: 69,\n\t\t\ttop: -theme.spacing(3),\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.background.default,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: theme.palette.overlay\n\t\t},\n\t\tloading: {\n\t\t\tposition: \"absolute\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\ttop: 0,\n\t\t\tleft: 0\n\t\t},\n\t\tcomingSoon: {\n\t\t\twidth: 160,\n\t\t\theight: \"auto\"\n\t\t}\n\t}\n})\n\nexport default function PoolCard({\n\tpoolId,\n\ticon,\n\tname,\n\ttotalStakedADX,\n\ttotalStakedUSD,\n\tcurrentAPY,\n\tweeklyYield,\n\tweeklyYieldInfo,\n\tonStakeBtnClick,\n\tloading,\n\tdisabled,\n\tdisabledInfo,\n\tlockupPeriodTitle,\n\tlockupPeriodInfo,\n\tlockupPeriod,\n\tloaded,\n\tactions,\n\tcomingSoon,\n\tactionBtn,\n\textraData = []\n}) {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\tbgcolor={\"background.paper\"}\n\t\t\tp={3}\n\t\t\tmy={3}\n\t\t\tmx={1.5}\n\t\t\tpt={7}\n\t\t\twidth={270}\n\t\t\tmaxWidth=\"100%\"\n\t\t\tminHeight={420}\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\talignItems=\"center\"\n\t\t\tboxShadow={25}\n\t\t\tposition=\"relative\"\n\t\t>\n\t\t\t<Box mb={3}>\n\t\t\t\t<Typography align=\"center\" variant=\"h5\" color=\"textPrimary\">\n\t\t\t\t\t{name}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\n\t\t\t{comingSoon ? (\n\t\t\t\t<Box>\n\t\t\t\t\t<SvgIcon className={classes.comingSoon} color=\"primary\">\n\t\t\t\t\t\t<ComingSoonImg\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t// width={160}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</SvgIcon>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Box>\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={\"Total Staked\"}\n\t\t\t\t\t\tinfoText={\"Total Staked\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\ttext={totalStakedADX}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={totalStakedADX}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={totalStakedUSD}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={totalStakedADX}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={\"Current annual yield (APY)\"}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\ttext={currentAPY}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={currentAPY}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={`Weekly yield ${weeklyYield}`}\n\t\t\t\t\t\tinfoText={weeklyYieldInfo}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={lockupPeriodTitle}\n\t\t\t\t\t\tinfoText={lockupPeriodInfo}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={lockupPeriod}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{extraData.map(data => (\n\t\t\t\t\t\t<Fragment key={data.id}>\n\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\ttext={data.title}\n\t\t\t\t\t\t\t\tinfoText={data.titleInfo}\n\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{data.importantValue && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\t\t\t\ttext={data.importantValue}\n\t\t\t\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t\t\t\tinfoText={data.valueInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{data.normalValue && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\t\ttext={data.normalValue}\n\t\t\t\t\t\t\t\t\tinfoText={data.valueInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\tmb={3}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{data.extra && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\t\ttext={data.extra}\n\t\t\t\t\t\t\t\t\tinfoText={data.extrInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\tmb={3}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))}\n\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tdisableFocusListener={!disabled}\n\t\t\t\t\t\tdisableHoverListener={!disabled}\n\t\t\t\t\t\tdisableTouchListener={!disabled}\n\t\t\t\t\t\ttitle={disabled ? disabledInfo : \"\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{actionBtn || (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tid={`stake-pool-${poolId}`}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tonClick={onStakeBtnClick}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{\"Stake\"}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t{!!loading && (\n\t\t\t\t<Box\n\t\t\t\t\tclasses={{ root: classes.overlay }}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t>\n\t\t\t\t\t<Typography align=\"center\" component=\"div\" variant=\"h3\"></Typography>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t{icon || null}\n\t\t\t\t{!!loading && (\n\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\tclasses={{ root: classes.loading }}\n\t\t\t\t\t\tsize={69}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25.81,123.07c-6.88,0-13.75,0-20.63,0a4.81,4.81,0,0,1-4.79-3.19,4.94,4.94,0,0,1,1.15-5.51,5.24,5.24,0,0,1,4.12-1.45q18,0,36,0c2.85,0,2.83,0,2.21-2.84a71,71,0,0,1,1.67-37.22,13.43,13.43,0,0,0,.65-4.74c-.6-12.82-2.17-25.57-3-38.37-.51-7.77-1-15.55.16-23.32a17.14,17.14,0,0,1,.36-1.73c1-4.15,2.48-5.09,6.64-4.35,6.88,1.24,13.07,4.18,18.93,7.86A102.65,102.65,0,0,1,89,24.93a2.66,2.66,0,0,0,3.23.77,70.38,70.38,0,0,1,44.8,0,2.51,2.51,0,0,0,3.06-.74c7.51-7.75,15.56-14.84,25.23-19.83A49.65,49.65,0,0,1,180,.12c2.64-.44,4,.32,5,2.88a25.67,25.67,0,0,1,1.49,8.54c.35,9-.37,17.92-1.11,26.86s-1.65,18.07-2.21,27.13a32.38,32.38,0,0,0,1.5,10.72,70.6,70.6,0,0,1,.57,34.45c-.5,2.22-.52,2.22,1.84,2.22q18.3,0,36.6,0c3.1,0,5.22,1.81,5.44,4.57a5,5,0,0,1-5.09,5.56c-4.67.06-9.35,0-14,0H183.6c-.54,0-1.08,0-1.61,0-.86.07-1.16.76-1.31,1.44-.19.87.61.87,1.15,1l24.91,6.66c.62.16,1.25.31,1.86.51a5,5,0,0,1,3.58,6.42,5.1,5.1,0,0,1-6.45,3.31c-4.57-1.2-9.13-2.44-13.7-3.66-5.08-1.37-10.18-2.7-15.25-4.12a1.86,1.86,0,0,0-2.42.88,41.55,41.55,0,0,1-2.6,3.49,1.22,1.22,0,0,0,.09,1.93q7.92,7.81,15.79,15.67c1.22,1.21,2.49,2.37,3.69,3.59a5.24,5.24,0,0,1,.29,7.52c-2.09,2.14-5.09,2.1-7.45-.23q-9.28-9.19-18.48-18.46c-1.56-1.56-1.59-1.58-3.18-.18a70.5,70.5,0,0,1-38.6,17.52A71.48,71.48,0,0,1,76.62,156.3a63,63,0,0,1-9.91-7.43c-1.13-1-2-1-3.12.11-6,6.13-12.14,12.18-18.22,18.27-1.26,1.26-2.65,2.22-4.53,2A4.84,4.84,0,0,1,36.47,166a5.12,5.12,0,0,1,1.35-5.63c2.27-2.28,4.61-4.49,6.9-6.76,4.12-4.09,8.2-8.22,12.35-12.27.94-.91,1-1.57.16-2.54a18.77,18.77,0,0,1-2.21-3c-.74-1.28-1.63-1.37-3-1-9.48,2.6-19,5.13-28.48,7.67a5.13,5.13,0,0,1-6-7.66,6,6,0,0,1,3.77-2.28q12.69-3.36,25.38-6.78c.67-.18,1.88,0,1.77-1.16s-1.07-1.52-2.24-1.51c-6.83,0-13.65,0-20.48,0Zm88.65,9.27c.68.22.6.74.73,1.11a31.42,31.42,0,0,0,2.19,5c3.33,6,8.82,8.25,15.14,5.72,8.42-3.38,13-10,14.63-18.81,1-5.23-1.31-8.69-5.68-11.13a25.34,25.34,0,0,0-4.68-2.14c-13.68-4.33-27.48-4.32-41.33-1a25.5,25.5,0,0,0-10,4.61c-2.53,2-4,4.49-3.66,7.8.86,9.11,5.36,15.88,13.42,20.09,4.56,2.37,9.24,2.32,13.44-1.15a17,17,0,0,0,4.6-6.9C113.67,134.5,114.05,133.42,114.46,132.34ZM82.2,88.18a7.38,7.38,0,0,0-7.49,7.41,7.5,7.5,0,1,0,15,.14A7.39,7.39,0,0,0,82.2,88.18Zm64.73,0a7.37,7.37,0,0,0-7.42,7.47,7.47,7.47,0,0,0,7.38,7.57,7.64,7.64,0,0,0,7.62-7.56A7.39,7.39,0,0,0,146.93,88.18Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M114.68,111.67A26.83,26.83,0,0,1,122,112.8c1.84.68,2.23,1.36,2.05,3.3-.47,4.94-4.66,8.94-9.37,8.94a9.82,9.82,0,0,1-9.42-8.89c-.2-2,.21-2.71,2.15-3.39A27.63,27.63,0,0,1,114.68,111.67Z\"\n})));\n\nvar SvgTomIc = function SvgTomIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 229.17 169.33\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTomIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tom-ic.13f67482.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport { Box, SvgIcon, useMediaQuery } from \"@material-ui/core\"\nimport PoolCard from \"./PoolCard\"\nimport {\n\tgetApproxAPY,\n\tformatADXPretty,\n\tgetADXInUSDFormatted\n} from \"../helpers/formatting\"\nimport { ReactComponent as TomIcon } from \"./../resources/tom-ic.svg\"\nimport { ReactComponent as LoyaltyIcon } from \"./../resources/loyalty-ic.svg\"\nimport SectionHeader from \"./SectionHeader\"\nimport { UNBOND_DAYS, POOLS, DEPOSIT_POOLS } from \"../helpers/constants\"\nimport WithDialog from \"./WithDialog\"\nimport DepositForm from \"./DepositForm\"\n\nconst DepositsDialog = WithDialog(DepositForm)\n\nconst Pools = () => {\n\tconst {\n\t\tstats,\n\t\tsetNewBondOpen,\n\t\tchosenWalletType,\n\t\tprices,\n\t\tsetNewBondPool\n\t} = useContext(AppContext)\n\tconst canStake = !!chosenWalletType.name && !!stats.connectedWalletAddress\n\tconst tomAPY = getApproxAPY(null, stats.totalStakeTom) * 100\n\tconst justifyCenter = useMediaQuery(theme => theme.breakpoints.down(\"xs\"))\n\tconst { loyaltyPoolStats } = stats\n\tconst loyaltyPoolAPY = loyaltyPoolStats.currentAPY\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader title={\"Pools\"} />\n\t\t\t<Box mt={4}>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflex={1}\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t\tjustifyContent={justifyCenter ? \"center\" : \"flex-start\"}\n\t\t\t\t>\n\t\t\t\t\t<PoolCard\n\t\t\t\t\t\tpoolId=\"validator-tom\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<TomIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={\"Tom\"}\n\t\t\t\t\t\ttotalStakedADX={`${formatADXPretty(stats.totalStakeTom)} ADX`}\n\t\t\t\t\t\ttotalStakedUSD={`${getADXInUSDFormatted(\n\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\tstats.totalStakeTom\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcurrentAPY={`${tomAPY.toFixed(2)} %`}\n\t\t\t\t\t\tweeklyYield={`${(tomAPY / (365 / 7)).toFixed(4)} %`}\n\t\t\t\t\t\tweeklyYieldInfo={[\n\t\t\t\t\t\t\t`Current daily yield ${(tomAPY / 365).toFixed(4)} %`\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonStakeBtnClick={() => {\n\t\t\t\t\t\t\tsetNewBondPool(POOLS[0].id)\n\t\t\t\t\t\t\tsetNewBondOpen(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tloadin\n\t\t\t\t\t\tloading={!stats.loaded}\n\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\tdisabledInfo={\"Connect wallet to stake\"}\n\t\t\t\t\t\tlockupPeriodTitle={\"Unbond period\"}\n\t\t\t\t\t\tlockupPeriodInfo={`The unbond period is the amount \n\t\t\t\t\t\t\tyou must wait before withdrawing your ADX tokens. \n\t\t\t\t\t\t\tFrom the moment you request unbonding, the ${UNBOND_DAYS} days start counting. \n\t\t\t\t\t\t\tDuring those days, you won't receive staking rewards.`}\n\t\t\t\t\t\tlockupPeriod={`${UNBOND_DAYS} days`}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PoolCard\n\t\t\t\t\t\tpoolId=\"loyalty-pool\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<LoyaltyIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={\"Loyalty pool \"}\n\t\t\t\t\t\ttotalStakedADX={`${formatADXPretty(\n\t\t\t\t\t\t\tloyaltyPoolStats.poolTotalStaked\n\t\t\t\t\t\t)} ADX`}\n\t\t\t\t\t\ttotalStakedUSD={`${getADXInUSDFormatted(\n\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\tloyaltyPoolStats.poolTotalStaked\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcurrentAPY={`${loyaltyPoolAPY.toFixed(2)} %`}\n\t\t\t\t\t\tweeklyYield={`${(loyaltyPoolAPY / (365 / 7)).toFixed(4)} %`}\n\t\t\t\t\t\tweeklyYieldInfo={[\n\t\t\t\t\t\t\t`Current daily yield ${(loyaltyPoolAPY / 365).toFixed(4)} %`\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonStakeBtnClick={() => {\n\t\t\t\t\t\t\tsetNewBondOpen(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tloading={!loyaltyPoolStats.loaded}\n\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\tdisabledInfo={\"Connect wallet to deposit\"}\n\t\t\t\t\t\tlockupPeriodTitle={\"Unbond period\"}\n\t\t\t\t\t\tlockupPeriodInfo={`No unbond period`}\n\t\t\t\t\t\tlockupPeriod={`No unbond period`}\n\t\t\t\t\t\textraData={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: \"loyalty-pool-deposits-limit\",\n\t\t\t\t\t\t\t\ttitle: \"Total deposits limit\",\n\t\t\t\t\t\t\t\ttitleInfo: \"\",\n\t\t\t\t\t\t\t\tnormalValue: \"25 000 000 ADX\",\n\t\t\t\t\t\t\t\timportantValue: \"\",\n\t\t\t\t\t\t\t\tvalueInfo: \"\",\n\t\t\t\t\t\t\t\textra: \"\",\n\t\t\t\t\t\t\t\textrInfo: \"\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tactionBtn={\n\t\t\t\t\t\t\t<DepositsDialog\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"loyalty-pool-deposit-form-card\"\n\t\t\t\t\t\t\t\ttitle=\"Add new deposit\"\n\t\t\t\t\t\t\t\tbtnLabel=\"Deposit\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\t\t\tdepositPool={DEPOSIT_POOLS[0].id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// comingSoon\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Pools\n","import React, { useEffect, useState } from \"react\"\nimport { getPool } from \"../helpers/bonds\"\nimport {\n\tparseADX,\n\tformatADX,\n\tformatADXPretty,\n\tgetApproxAPY,\n\ttoIdAttributeString\n} from \"../helpers/formatting\"\nimport {\n\tUNBOND_DAYS,\n\tZERO,\n\tDEFAULT_BOND,\n\tSTAKING_RULES_URL\n} from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTextField,\n\tTypography,\n\tButton,\n\tFormControl,\n\tInputLabel,\n\tSelect,\n\tMenuItem,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport { themeMUI } from \"../themeMUi\"\nimport { ExternalAnchor } from \"./Anchor\"\n\nexport default function NewBondForm({\n\tmaxAmount,\n\tonNewBond,\n\ttotalStake,\n\tpools,\n\tisEarly,\n\tchosenWalletType,\n\tnewBondPool,\n\tsetNewBondPool\n}) {\n\tconst [bond, setBond] = useState(DEFAULT_BOND)\n\tconst [stakingAmount, setStakingAmount] = useState(\"0.0\")\n\tconst [amountErr, setAmountErr] = useState(false)\n\tconst [amountErrText, setAmountErrText] = useState(\"\")\n\tconst [confirmation, setConfirmation] = useState(false)\n\tconst minWidthStyle = { minWidth: \"180px\" }\n\tconst activePool = getPool(newBondPool)\n\n\tconst onAction = () => {\n\t\tsetConfirmation(false)\n\t\tonNewBond(bond)\n\t}\n\n\tconst stakingRulesFrag = STAKING_RULES_URL ? (\n\t\t<>\n\t\t\t&nbsp;and{\" \"}\n\t\t\t<a target=\"_blank\" rel=\"noopener noreferrer\" href={STAKING_RULES_URL}>\n\t\t\t\tstaking conditions\n\t\t\t</a>\n\t\t</>\n\t) : (\n\t\t<></>\n\t)\n\tconst confirmationLabel = (\n\t\t<>\n\t\t\tI understand I am locking up my ADX for at least {UNBOND_DAYS} days and I\n\t\t\tam familiar with the&nbsp;\n\t\t\t<ExternalAnchor\n\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\thref=\"https://www.adex.network/tos/\"\n\t\t\t>\n\t\t\t\tTerms and conditions\n\t\t\t</ExternalAnchor>\n\t\t\t{stakingRulesFrag}.\n\t\t</>\n\t)\n\n\tconst validateFields = params => {\n\t\tconst { amountBN, poolToValidate } = params\n\t\tconst minStakingAmountBN = poolToValidate\n\t\t\t? parseADX(poolToValidate.minStakingAmount)\n\t\t\t: ZERO\n\t\tif (amountBN.gt(maxAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\"Insufficient ADX amount!\")\n\t\t\treturn\n\t\t}\n\t\tif (poolToValidate && amountBN.lt(minStakingAmountBN)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(\n\t\t\t\t\"ADX amount less than minimum required for selected pool!\"\n\t\t\t)\n\t\t\treturn\n\t\t}\n\t\tsetAmountErr(false)\n\t\treturn\n\t}\n\n\tconst updateStakingAmountBN = amountBN => {\n\t\tvalidateFields({ amountBN, poolToValidate: activePool })\n\t\tsetStakingAmount(formatADX(amountBN))\n\t\tsetBond({\n\t\t\t...bond,\n\t\t\tamount: amountBN\n\t\t})\n\t}\n\n\tconst updatePool = value => {\n\t\tsetNewBondPool(value)\n\t}\n\n\tuseEffect(() => {\n\t\tconst amountBN = parseADX(stakingAmount)\n\t\tconst poolToValidate = getPool(newBondPool)\n\t\tvalidateFields({ amountBN, poolToValidate })\n\t\tsetBond({ ...bond, poolId: newBondPool })\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [newBondPool])\n\n\tconst farmer = (\n\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t🌾\n\t\t</span>\n\t)\n\n\treturn (\n\t\t<Box\n\t\t\twidth={666}\n\t\t\tmaxWidth={1}\n\t\t\tm={1}\n\t\t\tmaxHeight=\"90vh\"\n\t\t\tp={2}\n\t\t\tpb={4}\n\t\t\tbgcolor=\"background.paper\"\n\t\t\toverflow=\"auto\"\n\t\t>\n\t\t\t<h2>Create a bond</h2>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"new-bond-form-amount-field\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel=\"ADX amount\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstyle={minWidthStyle}\n\t\t\t\t\t\tvalue={stakingAmount}\n\t\t\t\t\t\terror={amountErr}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t// since its a number input it can be a negative number which wouldn't make sense so we cap it at 0\n\t\t\t\t\t\t\tconst amount = Math.max(0, ev.target.value)\n\t\t\t\t\t\t\tconst amountBN = parseADX(amount.toString(10))\n\t\t\t\t\t\t\tupdateStakingAmountBN(amountBN)\n\t\t\t\t\t\t\tsetStakingAmount(amount.toString(10))\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thelperText={amountErr ? amountErrText : null}\n\t\t\t\t\t/>\n\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tid=\"new-bond-form-max-amount-btn\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tupdateStakingAmountBN(maxAmount)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`Max amount: ${formatADXPretty(maxAmount)} ADX`}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<FormControl fullWidth required>\n\t\t\t\t\t\t<InputLabel>Pool</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tid=\"new-bond-form-pool-select\"\n\t\t\t\t\t\t\tstyle={minWidthStyle}\n\t\t\t\t\t\t\tvalue={newBondPool}\n\t\t\t\t\t\t\tonChange={ev => updatePool(ev.target.value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={\"\"}>\n\t\t\t\t\t\t\t\t<em>None</em>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t{pools.map(({ label, id }) => (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tid={`new-bond-form-values-${toIdAttributeString(label)}`}\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t\t{activePool ? (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Pool reward policy:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">{activePool.rewardPolicy}</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Pool slashing policy:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">{activePool.slashPolicy}</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">Pool APY:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{farmer} Current annual yield of{\" \"}\n\t\t\t\t\t\t\t\t{(getApproxAPY(null, totalStake, isEarly) * 100).toFixed(2)}%{\" \"}\n\t\t\t\t\t\t\t\t{farmer}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<b>{`Please sign ALL ${chosenWalletType.name ||\n\t\t\t\t\t\t\t\t\t\"Metamask\"} transactions that pop up`}</b>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\tlabel={confirmationLabel}\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tid=\"new-bond-form-tos-check\"\n\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t></FormControlLabel>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`new-bond-stake-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\tbond ? bond.poolId || \"bond\" : \"pool-not-selected\"\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\t\tbond.poolId &&\n\t\t\t\t\t\t\t\t\tconfirmation &&\n\t\t\t\t\t\t\t\t\tbond.amount.gt(ZERO) &&\n\t\t\t\t\t\t\t\t\t!amountErr\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tStake ADX\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect, useState } from \"react\"\nimport { Contract } from \"ethers\"\nimport Snackbar from \"@material-ui/core/Snackbar\"\nimport MuiAlert from \"@material-ui/lab/Alert\"\nimport { formatUnits } from \"ethers/utils\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport { ZERO, ADDR_ADX } from \"../helpers/constants\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport { defaultProvider } from \"./../ethereum\"\n\nconst ADDR_ADX_OLD = \"0x4470BB87d77b963A013DB939BE332f927f2b992e\"\n\nconst provider = defaultProvider\nconst LegacyToken = new Contract(ADDR_ADX_OLD, ERC20ABI, provider)\n\nexport default function LegacyADXSwapDialog(\n\tgetSigner,\n\twrapDoingTxns,\n\tchosenWalletType\n) {\n\t// Amount to migrate\n\tconst [amount, setAmount] = useState(ZERO)\n\tconst [isSwapInPrg, setSwapInPrg] = useState(false)\n\n\tuseEffect(() => {\n\t\tif (!getSigner || !chosenWalletType.name) return\n\t\tconst refreshAmount = async () => {\n\t\t\tconst signer = await getSigner(chosenWalletType)\n\t\t\tif (!signer) return\n\t\t\tconst walletAddr = await signer.getAddress()\n\t\t\tsetAmount(await LegacyToken.balanceOf(walletAddr))\n\t\t}\n\t\trefreshAmount().catch(e => console.error(e))\n\t}, [getSigner, chosenWalletType])\n\n\tconst farmer = (\n\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t🌾\n\t\t</span>\n\t)\n\tconst content = (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\tThe ADX token completed a{\" \"}\n\t\t\t\t<a\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\thref=\"https://www.adex.network/blog/token-upgrade-defi-features/\"\n\t\t\t\t>\n\t\t\t\t\tsuccessful upgrade\n\t\t\t\t</a>{\" \"}\n\t\t\t\tto a new smart contract. You are currently holding{\" \"}\n\t\t\t\t<b>{amount.gt(ZERO) ? formatUnits(amount, 4) : \"\"} legacy ADX</b>.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>\n\t\t\t\t\tStarting August 21st 2020, the legacy ADX will be deprecated and will\n\t\t\t\t\tno longer be traded on exchanges or used for staking.\n\t\t\t\t</b>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tWe recommend that you swap your legacy ADX right now by clicking the{\" \"}\n\t\t\t\t<i>\n\t\t\t\t\t<b>Swap now</b>\n\t\t\t\t</i>{\" \"}\n\t\t\t\t{`button and signing the ${chosenWalletType.name ||\n\t\t\t\t\t\"MetaMask\"} transactions.`}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>\n\t\t\t\t\t{farmer} After this, you can stake your ADX to earn up to 150% APY\n\t\t\t\t\t(annual percentage yield) with no slashing risk (\n\t\t\t\t\t<a\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\thref=\"https://www.adex.network/blog/new-token-economics-and-staking/\"\n\t\t\t\t\t>\n\t\t\t\t\t\tread more\n\t\t\t\t\t</a>\n\t\t\t\t\t). {farmer}\n\t\t\t\t</b>\n\t\t\t</p>\n\t\t</div>\n\t)\n\tconst onSwap = wrapDoingTxns(\n\t\tswapTokens.bind(null, setAmount, amount, getSigner, chosenWalletType)\n\t)\n\tconst dialog = ConfirmationDialog({\n\t\tisOpen: amount.gt(ZERO),\n\t\tonDeny: () => setAmount(ZERO),\n\t\tonConfirm: async () => {\n\t\t\tconst txns = await onSwap()\n\t\t\tif (!txns) return\n\t\t\tsetSwapInPrg(true)\n\t\t\tawait Promise.all(txns.map(x => x.wait()))\n\t\t\tsetSwapInPrg(false)\n\t\t},\n\t\tconfirmActionName: \"Swap now\",\n\t\ttitle: \"ADX Token upgrade\",\n\t\tcontent\n\t})\n\treturn (\n\t\t<>\n\t\t\t{dialog}\n\t\t\t<Snackbar open={isSwapInPrg}>\n\t\t\t\t<MuiAlert elevation={6} variant=\"filled\" severity=\"success\">\n\t\t\t\t\tToken swap is in progress! It will be completed once all your pending\n\t\t\t\t\ttransactions have been confirmed.\n\t\t\t\t</MuiAlert>\n\t\t\t</Snackbar>\n\t\t</>\n\t)\n}\n\nasync function swapTokens(setAmount, amount, getSigner, chosenWalletType) {\n\tsetAmount(ZERO)\n\tconst signer = await getSigner(chosenWalletType)\n\tconst walletAddr = await signer.getAddress()\n\tconst legacyTokenWithSigner = new Contract(ADDR_ADX_OLD, ERC20ABI, signer)\n\tconst newTokenWithSigner = new Contract(\n\t\tADDR_ADX,\n\t\t[\"function swap(uint prevTokenAmount) external\"],\n\t\tsigner\n\t)\n\tconst allowance = await legacyTokenWithSigner.allowance(walletAddr, ADDR_ADX)\n\n\tlet txns = []\n\t// this mechanism is used so that we auto-calculate gas on the first tx, but hard-set on the next txns since they depend\n\t// on the state of the previous\n\tlet hasAutocalculatedGas = false\n\tconst firstTimeGasLimit = gasLimit => {\n\t\tif (hasAutocalculatedGas) return { gasLimit }\n\t\thasAutocalculatedGas = true\n\t\treturn {}\n\t}\n\tif (allowance.lt(amount)) {\n\t\tif (allowance.gt(ZERO)) {\n\t\t\ttxns.push(\n\t\t\t\tawait legacyTokenWithSigner.approve(\n\t\t\t\t\tADDR_ADX,\n\t\t\t\t\tZERO,\n\t\t\t\t\tfirstTimeGasLimit(60000)\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t\ttxns.push(\n\t\t\tawait legacyTokenWithSigner.approve(\n\t\t\t\tADDR_ADX,\n\t\t\t\tamount,\n\t\t\t\tfirstTimeGasLimit(60000)\n\t\t\t)\n\t\t)\n\t}\n\ttxns.push(await newTokenWithSigner.swap(amount, firstTimeGasLimit(100000)))\n\treturn txns\n}\n","import React, { useState } from \"react\"\nimport { Button, Menu, Link, MenuItem } from \"@material-ui/core\"\nimport HelpIcon from \"@material-ui/icons/HelpOutline\"\n\nexport const Help = () => {\n\tconst [menuEl, setMenuEl] = useState(null)\n\tconst openHelpMenu = ev => {\n\t\tsetMenuEl(ev.currentTarget)\n\t}\n\tconst closeHelpMenu = () => {\n\t\tsetMenuEl(null)\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tid=\"help-menu-btn\"\n\t\t\t\tsize=\"large\"\n\t\t\t\tstartIcon={<HelpIcon size=\"large\" />}\n\t\t\t\tonClick={openHelpMenu}\n\t\t\t>\n\t\t\t\tHelp\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid=\"help-menu-menu\"\n\t\t\t\tanchorEl={menuEl}\n\t\t\t\topen={Boolean(menuEl)}\n\t\t\t\tkeepMounted\n\t\t\t\tonClose={closeHelpMenu}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n\t\t\t>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-tos\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://www.adex.network/tos\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>Terms of Service</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-staking-user-guide\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://help.adex.network/hc/en-us/categories/360002707720-Staking\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>User Guide</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-staking-source-code\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://github.com/adexnetwork/adex-protocol-eth\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>Source Code</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-audits\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://github.com/adexnetwork/adex-protocol-eth#audits\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>Audits</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-wher-to-buy-markets\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://coinmarketcap.com/currencies/adx-net/markets/\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>Where to buy ADX</MenuItem>\n\t\t\t\t</Link>\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n","import React, { Fragment, useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Chip, Fab, Icon } from \"@material-ui/core\"\nimport { AccountBalanceWalletSharp as AccountBalanceWalletIcon } from \"@material-ui/icons\"\nimport Jazzicon, { jsNumberForAddress } from \"react-jazzicon\"\nimport { formatAddress } from \"../helpers/formatting\"\nimport copy from \"copy-to-clipboard\"\n\nconst useStyles = makeStyles(theme => ({\n\tfabIcon: {\n\t\tmarginRight: theme.spacing(1)\n\t},\n\tchipRoot: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tcolor: theme.palette.text.main,\n\t\tfontWeight: theme.typography.fontWeightBold,\n\t\tfontSize: theme.typography.pxToRem(15),\n\t\t// To match medium size fab\n\t\theight: 40,\n\t\tborderRadius: 40 / 2\n\t},\n\tchipIcon: {\n\t\tmarginLeft: 9,\n\t\tmarginRight: 0,\n\t\twidth: 26,\n\t\theight: 26\n\t}\n}))\n\nexport const Wallet = () => {\n\tconst classes = useStyles()\n\n\tconst { setConnectWallet, chosenWalletType, addSnack, account } = useContext(\n\t\tAppContext\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{!chosenWalletType.name || !account ? (\n\t\t\t\t<Fab\n\t\t\t\t\tid=\"connect-wallet-btn-topbar\"\n\t\t\t\t\tonClick={() => setConnectWallet(true)}\n\t\t\t\t\tvariant=\"extended\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\tdisabled={chosenWalletType.name && !account}\n\t\t\t\t>\n\t\t\t\t\t<AccountBalanceWalletIcon className={classes.fabIcon} />\n\t\t\t\t\t{\"Connect Wallet\"}\n\t\t\t\t</Fab>\n\t\t\t) : (\n\t\t\t\t<Chip\n\t\t\t\t\tid=\"wallet-address-top-bar-copy\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(account)\n\t\t\t\t\t\taddSnack(`Address ${account} copied to clipboard`, \"success\")\n\t\t\t\t\t}}\n\t\t\t\t\tclickable\n\t\t\t\t\tclasses={{ root: classes.chipRoot, icon: classes.chipIcon }}\n\t\t\t\t\ticon={\n\t\t\t\t\t\taccount ? (\n\t\t\t\t\t\t\t<Icon>\n\t\t\t\t\t\t\t\t<Jazzicon diameter={26} seed={jsNumberForAddress(account)} />\n\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t) : null\n\t\t\t\t\t}\n\t\t\t\t\tlabel={formatAddress(account)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n","import { fade } from \"@material-ui/core/styles/colorManipulator\"\n\nconst drawerWidth = 269\nconst maxContentWidth = 1420\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\toverflow: \"hidden\",\n\t\t\tposition: \"relative\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\theight: \"100vh\",\n\t\t\twidth: \"100vw\",\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tbackgroundImage: `radial-gradient(\n\t\t\t\tcircle,\n\t\t\t\t${fade(theme.palette.background.special, 0.333)} 0%,\n\t\t\t\t${fade(theme.palette.common.black, 0.69)} 146%\n\t\t\t)`,\n\t\t\tbackgroundRepeat: \"no-repeat\",\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tbackgroundPositionX: drawerWidth / 2,\n\t\t\t\tbackgroundImage: `radial-gradient(\n\t\t\t\t\tcircle,\n\t\t\t\t\t${fade(theme.palette.background.special, 0.333)} 0%,\n\t\t\t\t\t${fade(theme.palette.common.black, 0.69)} 93%\n\t\t\t\t)`\n\t\t\t}\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexWrap: \"wrap\",\n\t\t\tpaddingLeft: theme.spacing(2),\n\t\t\tpaddingRight: theme.spacing(2),\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(4),\n\t\t\t\tpaddingRight: theme.spacing(4),\n\t\t\t\tmarginLeft: drawerWidth\n\t\t\t},\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\n\t\t\t\tpaddingRight: theme.spacing(1.5)\n\t\t\t}\n\t\t},\n\t\ttoolbarActions: {\n\t\t\tmaxWidth: maxContentWidth,\n\t\t\tmargin: \"auto\"\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t// height: '110vh',\n\t\t\tbackgroundColor: theme.palette.background.darkerPaper\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tpadding: theme.spacing(2),\n\t\t\tpaddingTop: theme.spacing(2),\n\t\t\toverflow: \"auto\",\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tpadding: theme.spacing(4),\n\t\t\t\tpaddingTop: theme.spacing(4),\n\t\t\t\tmarginLeft: drawerWidth\n\t\t\t},\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\n\t\t\t\tpaddingRight: theme.spacing(1.5)\n\t\t\t}\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: maxContentWidth,\n\t\t\tmargin: \"auto\",\n\t\t\tmarginBottom: theme.spacing(2)\n\t\t\t// // Because of the floating button and table paging\n\t\t\t// [theme.breakpoints.down(\"sm\")]: {\n\t\t\t// \tpaddingBottom: 146 + theme.spacing(2)\n\t\t\t// }\n\t\t},\n\t\tmodal: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\talwaysOnTop: {\n\t\t\tzIndex: `${theme.zIndex.tooltip * 2} !important`\n\t\t}\n\t}\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { AppBar, Toolbar, IconButton, Box, Hidden } from \"@material-ui/core\"\nimport { MenuSharp as MenuIcon } from \"@material-ui/icons\"\nimport { Help } from \"./HelperMenu\"\nimport { Wallet } from \"./WalletMenu\"\nimport { styles } from \"./rootStyles\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles(styles)\n\nexport const AppToolbar = ({ handleDrawerToggle }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<AppBar elevation={0} color=\"transparent\" position=\"static\">\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tid=\"mobile-burger-btn\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t</Hidden>\n\t\t\t\t<Box\n\t\t\t\t\tclassName={classes.toolbarActions}\n\t\t\t\t\tflex=\"1\"\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"flex-end\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t>\n\t\t\t\t\t<Box mr={2}>\n\t\t\t\t\t\t<Help />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Wallet />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nAppToolbar.propTypes = {\n\thandleDrawerToggle: PropTypes.func.isRequired\n}\n","import React, { forwardRef } from \"react\"\nimport { withRouter } from \"react-router-dom\"\n\nconst WithRouterLink = Component => {\n\tconst Decorated = props => {\n\t\tconst resolveToLocation = to => {\n\t\t\tconst path = typeof to === \"object\" ? to : { pathname: to }\n\t\t\tconst href = props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\tconst handleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = props\n\n\t\t\tif (onClick && typeof onClick === \"function\") {\n\t\t\t\tawait onClick()\n\t\t\t\tprops.history.push(to)\n\t\t\t} else {\n\t\t\t\tprops.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\tconst {\n\t\t\tforwardedRef,\n\t\t\tto,\n\t\t\tmatch,\n\t\t\tlocation,\n\t\t\thistory,\n\t\t\tstaticContext,\n\t\t\tonClick,\n\t\t\t...rest\n\t\t} = props\n\t\tconst toLocation = resolveToLocation(to)\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={forwardedRef}\n\t\t\t\t{...rest}\n\t\t\t\thref={toLocation}\n\t\t\t\tonClick={handleClick}\n\t\t\t/>\n\t\t)\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n\nexport default WithRouterLink\n","import React from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport RewardCard from \"./RewardCard\"\nimport StatsCard from \"./StatsCard\"\nimport {\n\tformatADXPretty,\n\tgetApproxAPY,\n\tgetADXInUSDFormatted\n} from \"../helpers/formatting\"\n\nexport default function UserData({ stats, prices, onClaimRewards, onRestake }) {\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tsize: \"large\",\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: \"MY ADX BALANCE\",\n\t\t\t\t\tsubtitle: stats.totalBalanceADX\n\t\t\t\t\t\t? formatADXPretty(stats.totalBalanceADX) + \" ADX\"\n\t\t\t\t\t\t: \"\",\n\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.totalBalanceADX)\n\t\t\t\t\t/*actions: (<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t>upgrade</Button>)*/\n\t\t\t\t})}\n\t\t\t</Box>\n\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: \"Available on wallet\",\n\t\t\t\t\ttitleInfo: \"Amount available on your wallet\",\n\t\t\t\t\tsubtitle: stats.userBalance\n\t\t\t\t\t\t? formatADXPretty(stats.userBalance) + \" ADX\"\n\t\t\t\t\t\t: \"\",\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.userBalance)\n\t\t\t\t})}\n\t\t\t</Box>\n\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: \"Active Stake\",\n\t\t\t\t\ttitleInfo: `Active, earning ${(\n\t\t\t\t\t\tgetApproxAPY(null, stats.totalStakeTom) * 100\n\t\t\t\t\t).toFixed(2)}% APY`,\n\t\t\t\t\tsubtitle: formatADXPretty(stats.userTotalStake) + \" ADX\",\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.userTotalStake)\n\t\t\t\t})}\n\t\t\t</Box>\n\n\t\t\t<Box>\n\t\t\t\t{RewardCard({\n\t\t\t\t\tprices,\n\t\t\t\t\trewardChannels: stats.rewardChannels,\n\t\t\t\t\tuserBonds: stats.userBonds,\n\t\t\t\t\ttotalRewardADX: stats.totalRewardADX,\n\t\t\t\t\ttotalRewardDAI: stats.totalRewardDAI,\n\t\t\t\t\tonClaimRewards,\n\t\t\t\t\tonRestake\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport StatsCard from \"./StatsCard\"\nimport { ZERO } from \"../helpers/constants\"\nimport { Button, Box } from \"@material-ui/core\"\nimport {\n\tformatDAIPretty,\n\tformatADXPretty,\n\tgetADXInUSD,\n\tgetDAIInUSD,\n\tgetUSDFormatted\n} from \"../helpers/formatting\"\n\nexport default function RewardCard({\n\trewardChannels,\n\tuserBonds,\n\ttotalRewardADX,\n\ttotalRewardDAI,\n\tonClaimRewards,\n\tonRestake,\n\tprices\n}) {\n\tconst title = \"Unclaimed rewards\"\n\tconst loaded = rewardChannels != null\n\tif (!loaded) {\n\t\treturn StatsCard({\n\t\t\tloaded,\n\t\t\ttitle,\n\t\t\textra: \"0.00 USD\",\n\t\t\tsubtitle: \"0.00 DAI\"\n\t\t})\n\t}\n\n\tconst restakeEnabled =\n\t\ttotalRewardADX.gt(ZERO) && userBonds.find(x => x.status !== \"Unbonded\")\n\tconst rewardActions = (\n\t\t<Box display=\"flex\" flexDirection=\"row\" paddingTop={1} flex={1}>\n\t\t\t<Box width={1 / 2} pr={0.5}>\n\t\t\t\t<Button\n\t\t\t\t\tid=\"claim-reward-tom-side-nav\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisabled={totalRewardADX.add(totalRewardDAI).eq(ZERO)}\n\t\t\t\t\tonClick={() => onClaimRewards(rewardChannels)}\n\t\t\t\t\tdisableElevation\n\t\t\t\t>\n\t\t\t\t\tclaim\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box width={1 / 2} pl={0.5}>\n\t\t\t\t<Button\n\t\t\t\t\tid=\"re-stake-tom-side-nav\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tdisabled={!restakeEnabled}\n\t\t\t\t\tonClick={() => onRestake(totalRewardADX)}\n\t\t\t\t\tdisableElevation\n\t\t\t\t>\n\t\t\t\t\tre-stake\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n\treturn StatsCard({\n\t\tloaded: true,\n\t\ttitle,\n\t\tactions: rewardActions,\n\t\t// Hax to match the design\n\t\tsubtitle: `${formatADXPretty(totalRewardADX)} ADX`,\n\t\textra: `+  \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0${formatDAIPretty(\n\t\t\ttotalRewardDAI\n\t\t)} DAI`,\n\t\tmoreExtra: `Total \\u00A0${getUSDFormatted(\n\t\t\tgetADXInUSD(prices, totalRewardADX) + getDAIInUSD(totalRewardDAI)\n\t\t)}`\n\t})\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1606\",\n  \"data-name\": \"Group 1606\",\n  transform: \"translate(0 0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1128\",\n  \"data-name\": \"Path 1128\",\n  d: \"M3911.642,193.845a3.686,3.686,0,0,1,.714-1.652,13.68,13.68,0,0,1,1.193-1.212c.789-.771,1.575-1.545,2.366-2.313a3.624,3.624,0,0,1,3.258-1.051,3.533,3.533,0,0,1,1.808.869c.1.093.118.164.012.268-.589.579-1.172,1.164-1.757,1.746a.21.21,0,0,1-.206.076,1.866,1.866,0,0,0-1.773.586c-.683.658-1.376,1.306-2.03,1.993a1.668,1.668,0,0,0,.015,2.4c.623.643,1.262,1.274,1.919,1.882a1.758,1.758,0,0,0,2.524-.044c.644-.614,1.279-1.239,1.912-1.865a1.978,1.978,0,0,0,.662-1.774.236.236,0,0,1,.092-.22l1.715-1.647c.18-.174.2-.17.361.017a3.393,3.393,0,0,1,.877,2.278,3.263,3.263,0,0,1-.881,2.351c-1.019,1.078-2.118,2.076-3.168,3.124a4.913,4.913,0,0,1-1.163.92,4.8,4.8,0,0,1-1.168.395h-1.085a6.008,6.008,0,0,1-.956-.295,5.417,5.417,0,0,1-1.631-1.278c-.688-.667-1.362-1.35-2.043-2.026a5.42,5.42,0,0,1-1.25-1.532,5.066,5.066,0,0,1-.317-.99Z\",\n  transform: \"translate(-3911.642 -177.307)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1129\",\n  \"data-name\": \"Path 1129\",\n  d: \"M3945.354,175.231a3.788,3.788,0,0,1-.765,1.65c-.32.373-.685.7-1.035,1.043-.814.8-1.636,1.593-2.451,2.392a4.053,4.053,0,0,1-1.375.948,3.571,3.571,0,0,1-2.7-.015,3.706,3.706,0,0,1-1.015-.626c-.113-.095-.135-.169-.019-.281q.862-.835,1.716-1.678a.278.278,0,0,1,.248-.074,1.991,1.991,0,0,0,1.663-.573c.741-.709,1.487-1.413,2.2-2.151a1.619,1.619,0,0,0-.034-2.388c-.666-.666-1.3-1.364-2.026-1.967a1.722,1.722,0,0,0-2.1.014c-.442.358-.817.787-1.23,1.175-.385.361-.762.733-1.135,1.109a1.927,1.927,0,0,0-.569,1.138,1.349,1.349,0,0,0,.033.46.218.218,0,0,1-.062.227c-.578.553-1.157,1.1-1.729,1.663-.136.133-.221.113-.341-.022a3.391,3.391,0,0,1,.11-4.681q1.824-1.854,3.727-3.628a3.238,3.238,0,0,1,1.593-.75c.044-.01.087-.023.13-.034h1.085c.043.012.086.026.13.034a3.566,3.566,0,0,1,1.844.961c.933.911,1.849,1.839,2.779,2.753a7.469,7.469,0,0,1,.649.689,3.724,3.724,0,0,1,.679,1.566Z\",\n  transform: \"translate(-3921.107 -168.182)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1130\",\n  \"data-name\": \"Path 1130\",\n  d: \"M3934.977,185.166a.953.953,0,0,1-.307.721l-1.736,1.726c-.57.567-1.133,1.14-1.71,1.7-.462.447-.885.937-1.386,1.341a1.009,1.009,0,0,1-1.486-1.283,1.67,1.67,0,0,1,.329-.413q1-.995,2-1.985,1.262-1.252,2.524-2.5a1.016,1.016,0,0,1,1.624.132A.908.908,0,0,1,3934.977,185.166Z\",\n  transform: \"translate(-3919.456 -175.689)\"\n}));\n\nvar SvgLinkIc = function SvgLinkIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24.247,\n    height: 23.666,\n    viewBox: \"0 0 24.247 23.666\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLinkIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/link-ic.b389cfb7.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport {\n\tList,\n\tListItem,\n\tListItemIcon,\n\tListItemText,\n\tDivider,\n\tBox,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport clsx from \"clsx\"\nimport Anchor from \"./Anchor\"\nimport logo from \"./../resources/staking-logo.svg\"\nimport DashboardIcon from \"@material-ui/icons/Dashboard\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useLocation } from \"react-router-dom\"\nimport packageJson from \"./../../package.json\"\nimport { ADDR_ADX } from \"./../helpers/constants\"\nimport WithRouterLink from \"./WithRouterLink\"\nimport UserData from \"./UserData\"\nimport { HomeSharp as HomeIcon } from \"@material-ui/icons\"\nimport { ReactComponent as StakingIcon } from \"./../resources/link-ic.svg\"\nimport { ReactComponent as GaslessIcon } from \"./../resources/gasless-ic.svg\"\n\nconst RRListItem = WithRouterLink(ListItem)\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = theme.palette.primary.contrastText\n\tconst activeBgColor = theme.palette.primary.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tjustifyContent: \"space-between\"\n\t\t},\n\t\tnavList: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 100,\n\t\t\toverflowY: \"auto\",\n\t\t\toverflowX: \"hidden\"\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: \"absolute\",\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: \"solid\"\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\"&:focus\": {\n\t\t\t\tbackgroundColor: activeBgColor\n\t\t\t},\n\t\t\t\"&:hover\": {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\tcolor: activeColor,\n\t\t\t\t\"& .MuiListItemIcon-root\": {\n\t\t\t\t\tcolor: activeColor\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"& .MuiListItemIcon-root\": {\n\t\t\t\tcolor: theme.palette.common.white\n\t\t\t}\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t\"&:hover\": {\n\t\t\t\tcolor: theme.palette.text.secondary\n\t\t\t}\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`\n\t\t},\n\t\ticon: {\n\t\t\theight: 32,\n\t\t\twidth: \"auto\",\n\t\t\tcursor: \"pointer\"\n\t\t},\n\t\tamount: {\n\t\t\tfontSize: theme.typography.pxToRem(18)\n\t\t},\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: \"transparent\"\n\t\t},\n\t\tnoUserData: {\n\t\t\topacity: 0.23\n\t\t}\n\t}\n})\n\nfunction SideNav({\n\tprices,\n\tstats,\n\tonRequestUnbond,\n\tonUnbond,\n\tonClaimRewards,\n\tonRestake,\n\tsetConnectWallet\n}) {\n\tconst classes = useStyles()\n\tconst location = useLocation()\n\tconst path = location.pathname\n\n\treturn (\n\t\t<Box\n\t\t\tposition=\"relative\"\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"space-between\"\n\t\t\tflexGrow=\"1\"\n\t\t>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tmb={1}\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\talignItems=\"flex-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img height=\"40vh\" src={logo} alt=\"logo\"></img>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ListItem>\n\n\t\t\t\t\t\t<Box position=\"relative\">\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t[classes.noUserData]: !stats.connectedWalletAddress\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{UserData({\n\t\t\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\t\t\tonRequestUnbond,\n\t\t\t\t\t\t\t\t\tonUnbond,\n\t\t\t\t\t\t\t\t\tonClaimRewards,\n\t\t\t\t\t\t\t\t\tonRestake\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<Divider />\n\n\t\t\t\t\t\t\t{!stats.connectedWalletAddress && (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tid=\"side-nav-connect-wallet-overlay\"\n\t\t\t\t\t\t\t\t\tclasses={{ root: classes.overlay }}\n\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\t\t\tcolor=\"secondary.main\"\n\t\t\t\t\t\t\t\t\tfontSize=\"h1.fontSize\"\n\t\t\t\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\t\t\t\tonClick={() => setConnectWallet(true)}\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{\"CONNECT WALLET\"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\tflexDirection=\"column\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tflex=\"1\"\n\t\t\t>\n\t\t\t\t<Box>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-pools\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/\" }}\n\t\t\t\t\t\t\tclassName={clsx({ [classes.active]: path === \"/\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={\"Pools\"} />\n\t\t\t\t\t\t</RRListItem>\n\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-stakings\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/stakings\" }}\n\t\t\t\t\t\t\tclassName={clsx({ [classes.active]: path === \"/stakings\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<StakingIcon width=\"100%\" height=\"100%\" color=\"secondary\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={\"Staked\"} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-gasless\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/gasless\" }}\n\t\t\t\t\t\t\tclassName={clsx({ [classes.active]: path === \"/gasless\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<GaslessIcon width=\"100%\" height=\"100%\" color=\"secondary\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={\"Gasless Staking\"} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tid=\"side-nav-link-staking-landing-page\"\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\"https://www.adex.network/staking/\",\n\t\t\t\t\t\t\t\t\"_blank\",\n\t\t\t\t\t\t\t\t\"noopener,noreferrer\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<HomeIcon color=\"inherit\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={\"Homepage & Calculator\"} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-network\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://adex.network`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAdEx Network OÜ\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-network-tos\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://adex.network/tos`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{\"Terms and conditions\"}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-token\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://etherscan.io/address/${ADDR_ADX}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-staking-overview\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref=\"https://www.adex.network/blog/adex-defi-staking-overview/\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tv.{packageJson.version}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default SideNav\n","import React, { useEffect, useState } from \"react\"\nimport { Snackbar } from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\n\nexport function useSnack() {\n\tconst [snackPack, setSnackPack] = useState([])\n\tconst [snackOpen, setOpen] = useState(false)\n\tconst [snackMessageInfo, setMessageInfo] = useState(undefined)\n\n\tuseEffect(() => {\n\t\tif (snackPack.length && !snackMessageInfo) {\n\t\t\t// Set a new snack when we don't have an active one\n\t\t\tsetMessageInfo({ ...snackPack[0] })\n\t\t\tsetSnackPack(prev => prev.slice(1))\n\t\t\tsetOpen(true)\n\t\t} else if (snackPack.length && snackMessageInfo && snackOpen) {\n\t\t\t// Close an active snack when a new one is added\n\t\t\tsetOpen(false)\n\t\t}\n\t}, [snackPack, snackMessageInfo, snackOpen])\n\n\tconst addSnack = (message, severity, hideTimeout = 20000, action) => {\n\t\tsetSnackPack(prev => [\n\t\t\t...prev,\n\t\t\t{\n\t\t\t\tmessage,\n\t\t\t\tseverity,\n\t\t\t\thideTimeout,\n\t\t\t\taction,\n\t\t\t\tkey: new Date().getTime() + \"-\" + Math.random()\n\t\t\t}\n\t\t])\n\t}\n\n\tconst closeSnack = (event, reason) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn\n\t\t}\n\t\tsetMessageInfo(undefined)\n\t\tsetOpen(false)\n\t}\n\n\tconst snackExited = () => {\n\t\tsetMessageInfo(undefined)\n\t}\n\n\treturn {\n\t\tsnackOpen,\n\t\tsnackMessageInfo,\n\t\taddSnack,\n\t\tcloseSnack,\n\t\tsnackExited\n\t}\n}\n\nexport function ShtarvolinkiSnack({\n\tsnackOpen,\n\tsnackMessageInfo = {},\n\tcloseSnack,\n\tsnackExited\n}) {\n\treturn (\n\t\t<Snackbar\n\t\t\tkey={snackMessageInfo.key}\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: \"bottom\",\n\t\t\t\thorizontal: \"center\"\n\t\t\t}}\n\t\t\topen={snackOpen}\n\t\t\tautoHideDuration={snackMessageInfo.hideTimeout}\n\t\t\tonExited={snackExited}\n\t\t\tonClose={closeSnack}\n\t\t>\n\t\t\t<Alert\n\t\t\t\tonClose={closeSnack}\n\t\t\t\tseverity={snackMessageInfo.severity || \"info\"}\n\t\t\t\tvariant=\"filled\"\n\t\t\t\taction={snackMessageInfo.action || null}\n\t\t\t>\n\t\t\t\t{snackMessageInfo.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t)\n}\n","import React, { useState, useContext } from \"react\"\nimport { Switch, Route } from \"react-router-dom\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tDrawer,\n\tModal,\n\tBackdrop,\n\tFade,\n\tSnackbar,\n\tuseMediaQuery,\n\tBox\n} from \"@material-ui/core\"\nimport { Alert as MuiAlert, AlertTitle } from \"@material-ui/lab\"\nimport ChooseWallet from \"./ChooseWallet\"\nimport Stakings from \"./Stakings\"\nimport Gasless from \"./Gasless\"\nimport Pools from \"./Pools\"\nimport NewBondForm from \"./NewBondForm\"\nimport LegacyADXSwapDialog from \"./LegacyADXSwapDialog\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport { AppToolbar } from \"./Toolbar\"\nimport SideNav from \"./SideNav\"\nimport {\n\tZERO,\n\tUNBOND_DAYS,\n\tPOOLS,\n\tREACT_APP_RPC_URL\n} from \"../helpers/constants\"\nimport { formatADXPretty, toIdAttributeString } from \"../helpers/formatting\"\nimport { styles } from \"./rootStyles\"\nimport AppContext from \"../AppContext\"\nimport { createNewBond } from \"../actions\"\nimport { ShtarvolinkiSnack } from \"./../Snack\"\nimport clsx from \"clsx\"\n\nfunction Alert(props) {\n\treturn <MuiAlert variant=\"filled\" {...props} />\n}\n\nconst useStyles = makeStyles(styles)\n\nexport default function Root() {\n\tconst classes = useStyles()\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\tconst isTempDrawer = useMediaQuery(theme => theme.breakpoints.down(\"sm\"))\n\n\tconst {\n\t\tisNewBondOpen,\n\t\tsetNewBondOpen,\n\t\ttoUnbond,\n\t\tsetToUnbond,\n\t\ttoRestake,\n\t\tsetToRestake,\n\t\topenErr,\n\t\topenDoingTx,\n\t\tsnackbarErr,\n\t\tstats,\n\t\tconnectWallet,\n\t\tsetConnectWallet,\n\t\tchosenWalletType,\n\t\twrapDoingTxns,\n\t\tonRequestUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake,\n\t\thandleErrClose,\n\t\tgetSigner,\n\t\tprices,\n\t\tonWalletTypeSelect,\n\t\tsnackHooks,\n\t\tchainWarning,\n\t\tnewBondPool,\n\t\tsetNewBondPool\n\t} = useContext(AppContext)\n\n\tconst drawer = SideNav({\n\t\tprices,\n\t\tstats,\n\t\tonRequestUnbond: setToUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake: setToRestake,\n\t\tsetConnectWallet\n\t})\n\n\tconst container = window !== undefined ? document.body : undefined\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AppToolbar\n\t\t\t\tchosenWalletType={chosenWalletType}\n\t\t\t\tsetConnectWallet={setConnectWallet}\n\t\t\t\tsetNewBondOpen={setNewBondOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t\tstats={stats}\n\t\t\t/>\n\n\t\t\t<nav aria-label=\"side navigation\">\n\t\t\t\t<Drawer\n\t\t\t\t\tcontainer={container}\n\t\t\t\t\tvariant={isTempDrawer ? \"temporary\" : \"permanent\"}\n\t\t\t\t\tanchor=\"left\"\n\t\t\t\t\topen={isTempDrawer ? mobileOpen : true}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</nav>\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/stakings\">\n\t\t\t\t\t\t\t<Stakings />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/gasless\">\n\t\t\t\t\t\t\t<Gasless />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t\t<Pools />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\n\t\t\t\t\t{// Load stats first to prevent simultanious calls to getSigner\n\t\t\t\t\tLegacyADXSwapDialog(\n\t\t\t\t\t\tstats.loaded ? getSigner : null,\n\t\t\t\t\t\twrapDoingTxns,\n\t\t\t\t\t\tchosenWalletType\n\t\t\t\t\t)}\n\n\t\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\t\tisOpen: !!toUnbond,\n\t\t\t\t\t\tonDeny: () => setToUnbond(null),\n\t\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\t\tif (toUnbond) onRequestUnbond(toUnbond)\n\t\t\t\t\t\t\tsetToUnbond(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconfirmActionName: \"Unbond\",\n\t\t\t\t\t\tcontent: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\tAre you sure you want to request unbonding of{\" \"}\n\t\t\t\t\t\t\t\t{formatADXPretty(toUnbond ? toUnbond.currentAmount : ZERO)} ADX?\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\tPlease be aware:\n\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\tIt will take {UNBOND_DAYS} days before you will be able to\n\t\t\t\t\t\t\t\t\t\twithdraw your ADX!\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\tYou will not receive staking rewards for this amount in this{\" \"}\n\t\t\t\t\t\t\t\t\t\t{UNBOND_DAYS} day period.\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\n\t\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\t\tisOpen: !!toRestake,\n\t\t\t\t\t\tonDeny: () => setToRestake(null),\n\t\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\t\tif (toRestake) onRestake()\n\t\t\t\t\t\t\tsetToRestake(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconfirmActionName: \"Re-stake\",\n\t\t\t\t\t\tcontent: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\tAre you sure you want to stake your earnings of{\" \"}\n\t\t\t\t\t\t\t\t{formatADXPretty(toRestake ? toRestake : ZERO)} ADX?\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\tPlease be aware that this means that this amount will be locked\n\t\t\t\t\t\t\t\tup for at least {UNBOND_DAYS} days.\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t{!stats.userBonds.find(x => x.status === \"Active\")\n\t\t\t\t\t\t\t\t\t? \"Your bond will be re-activated, meaning that your request to unbond will be cancelled but it will start earning rewards again.\"\n\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\n\t\t\t\t\t{ChooseWallet({\n\t\t\t\t\t\topen: !!connectWallet,\n\t\t\t\t\t\tcontent: \"\",\n\t\t\t\t\t\thandleClose: () => {\n\t\t\t\t\t\t\tsetConnectWallet(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\thandleListItemClick: onWalletTypeSelect,\n\t\t\t\t\t\tdisableNonBrowserWallets: !REACT_APP_RPC_URL\n\t\t\t\t\t})}\n\n\t\t\t\t\t<Snackbar\n\t\t\t\t\t\topen={openErr}\n\t\t\t\t\t\tautoHideDuration={10000}\n\t\t\t\t\t\tonClose={handleErrClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tid={`err-aler-${toIdAttributeString(snackbarErr)}`}\n\t\t\t\t\t\t\tonClose={handleErrClose}\n\t\t\t\t\t\t\tseverity=\"error\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{snackbarErr}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</Snackbar>\n\t\t\t\t\t<ShtarvolinkiSnack {...snackHooks} />\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={isNewBondOpen}\n\t\t\t\t\t\tonClose={() => setNewBondOpen(false)}\n\t\t\t\t\t\tclassName={classes.modal}\n\t\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tBackdropProps={{\n\t\t\t\t\t\t\ttimeout: 300\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={isNewBondOpen}>\n\t\t\t\t\t\t\t{NewBondForm({\n\t\t\t\t\t\t\t\tsetNewBondPool,\n\t\t\t\t\t\t\t\tnewBondPool,\n\t\t\t\t\t\t\t\tpools: POOLS.filter(x => x.selectable),\n\t\t\t\t\t\t\t\ttotalStake: stats.totalStake,\n\t\t\t\t\t\t\t\tmaxAmount: stats.userBalance,\n\t\t\t\t\t\t\t\tonNewBond: async bond => {\n\t\t\t\t\t\t\t\t\tsetNewBondOpen(false)\n\t\t\t\t\t\t\t\t\tawait wrapDoingTxns(\n\t\t\t\t\t\t\t\t\t\tcreateNewBond.bind(null, stats, chosenWalletType, bond)\n\t\t\t\t\t\t\t\t\t)()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tchosenWalletType,\n\t\t\t\t\t\t\t\tisEarly: stats.userBonds.find(\n\t\t\t\t\t\t\t\t\tx => x.nonce.toNumber() < 1597276800\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={chainWarning}\n\t\t\t\t\t\taria-labelledby=\"alert-chain-warning-title\"\n\t\t\t\t\t\taria-describedby=\"alert-chain-description\"\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tclassName={clsx(classes.modal, classes.alwaysOnTop)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={chainWarning}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Alert severity=\"warning\">\n\t\t\t\t\t\t\t\t\t<AlertTitle id=\"alert-chain-warning-title\">\n\t\t\t\t\t\t\t\t\t\t{\"Unsupported ethereum chain detected\"}\n\t\t\t\t\t\t\t\t\t</AlertTitle>\n\t\t\t\t\t\t\t\t\t<Box id=\"alert-chain-description\">\n\t\t\t\t\t\t\t\t\t\t{\"Please, connect to mainnet ethereum network.\"}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={openDoingTx}\n\t\t\t\t\t\taria-labelledby=\"info-doingTx\"\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\t\tclassName={clsx(classes.modal)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={openDoingTx}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Alert severity=\"info\">\n\t\t\t\t\t\t\t\t\t<Box id=\"info-doingTx\" p={2}>\n\t\t\t\t\t\t\t\t\t\t{\"Please sign all pending MetaMask actions!\"}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n","import React from \"react\"\nimport {\n\tDialog,\n\tDialogTitle,\n\tList,\n\tListItem,\n\tListItemText,\n\tAvatar,\n\tListItemIcon\n} from \"@material-ui/core\"\nimport { Wallets, METAMASK } from \"../helpers/constants\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\n\nexport default function ChooseWalletDialog({\n\ttitle = \"Select Wallet\",\n\thandleListItemClick,\n\thandleClose,\n\topen,\n\tdisableNonBrowserWallets\n}) {\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<DialogTitle id=\"simple-dialog-title\">{title}</DialogTitle>\n\t\t\t<List>\n\t\t\t\t{Wallets.map(({ icon, name = \"\", title }) => (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tid={`connect-wallet-select-${toIdAttributeString(name)}`}\n\t\t\t\t\t\tdisabled={disableNonBrowserWallets && name !== METAMASK}\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tonClick={() => handleListItemClick(name)}\n\t\t\t\t\t\tkey={name}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<Avatar src={icon} />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={title} />\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t</List>\n\t\t</Dialog>\n\t)\n}\n","import { LedgerConnector } from \"@web3-react/ledger-connector\"\nimport { TrezorConnector } from \"@web3-react/trezor-connector\"\nimport { InjectedConnector } from \"@web3-react/injected-connector\"\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\"\nimport { REACT_APP_RPC_URL } from \"../helpers/constants\"\n\nconst POLLING_INTERVAL = 13000\n\nexport const injected = new InjectedConnector({\n\tsupportedChainIds: [1, 3, 4, 5, 42]\n})\n\nexport const ledger = new LedgerConnector({\n\tchainId: 1,\n\turl: REACT_APP_RPC_URL,\n\tpollingInterval: POLLING_INTERVAL\n})\n\nexport const trezor = new TrezorConnector({\n\tchainId: 1,\n\turl: REACT_APP_RPC_URL,\n\tpollingInterval: POLLING_INTERVAL,\n\tmanifestEmail: \"contactus@adex.network\",\n\tmanifestAppUrl: \"https://adex.network\"\n})\n\nexport const walletconnect = new WalletConnectConnector({\n\trpc: { 1: REACT_APP_RPC_URL },\n\tbridge: \"https://bridge.walletconnect.org\",\n\tqrcode: true,\n\tpollingInterval: POLLING_INTERVAL\n})\n","import { useEffect, useState } from \"react\"\nimport { useWeb3React, UnsupportedChainIdError } from \"@web3-react/core\"\nimport {\n\tNoEthereumProviderError,\n\tUserRejectedRequestError as UserRejectedRequestErrorInjected\n} from \"@web3-react/injected-connector\"\n\nimport { UserRejectedRequestError as UserRejectedRequestErrorWalletConnect } from \"@web3-react/walletconnect-connector\"\nimport { getSigner } from \"./ethereum\"\nimport {\n\tPRICES_API_URL,\n\tWALLET_CONNECT,\n\tMETAMASK,\n\tTREZOR,\n\tLEDGER,\n\tSUPPORTED_CHAINS\n} from \"./helpers/constants\"\nimport { injected, trezor, ledger, walletconnect } from \"./helpers/connector\"\nimport {\n\tEMPTY_STATS,\n\tloadStats,\n\tonUnbondOrRequest,\n\tclaimRewards,\n\trestake\n} from \"./actions\"\nimport { useInactiveListener } from \"./helpers/hooks\"\nimport { useSnack } from \"./Snack\"\n\nconst REFRESH_INTVL = 20000\n\nconst connectorsByName = {\n\t[METAMASK]: injected,\n\t[WALLET_CONNECT]: walletconnect,\n\t[TREZOR]: trezor,\n\t[LEDGER]: ledger\n}\n\nfunction tryGetErrMessage(error) {\n\tif (error && error.message) {\n\t\treturn error.message\n\t} else if (typeof error === \"string\") {\n\t\treturn error\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction getErrorMessage(error) {\n\tif (error instanceof NoEthereumProviderError) {\n\t\treturn \"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.\"\n\t} else if (error instanceof UnsupportedChainIdError) {\n\t\treturn \"You're connected to an unsupported network.\"\n\t} else if (\n\t\terror instanceof UserRejectedRequestErrorInjected ||\n\t\terror instanceof UserRejectedRequestErrorWalletConnect\n\t) {\n\t\treturn \"Please authorize this website to access your Ethereum account.\"\n\t} else if (tryGetErrMessage(error)) {\n\t\tconsole.error(error)\n\t\treturn tryGetErrMessage(error)\n\t} else {\n\t\tconsole.error(error)\n\t\treturn \"An unknown error occurred. Check the console for more details.\"\n\t}\n}\n\nexport default function Root() {\n\tconst { addSnack, ...snackHooks } = useSnack()\n\tconst {\n\t\tlibrary,\n\t\tactivate,\n\t\terror,\n\t\tdeactivate,\n\t\tchainId,\n\t\taccount\n\t} = useWeb3React()\n\n\tconst [isNewBondOpen, setNewBondOpen] = useState(false)\n\tconst [toUnbond, setToUnbond] = useState(null)\n\tconst [toRestake, setToRestake] = useState(null)\n\tconst [openErr, setOpenErr] = useState(false)\n\tconst [openDoingTx, setOpenDoingTx] = useState(false)\n\tconst [snackbarErr, setSnackbarErr] = useState(\n\t\t\"Error! Unspecified error occured.\"\n\t)\n\tconst [stats, setStats] = useState(EMPTY_STATS)\n\tconst [connectWallet, setConnectWallet] = useState(null)\n\tconst [chosenWalletTypeName, setChosenWalletTypeName] = useState(null)\n\tconst [chosenWalletType, setChosenWalletType] = useState({})\n\tconst [prices, setPrices] = useState({})\n\tconst [chainWarning, setChainWarning] = useState(false)\n\tconst [newBondPool, setNewBondPool] = useState(null)\n\n\tuseInactiveListener(!!connectWallet)\n\n\tconst refreshStats = () =>\n\t\tloadStats(chosenWalletType)\n\t\t\t.then(setStats)\n\t\t\t.catch(e => {\n\t\t\t\tconsole.error(\"loadStats\", e)\n\t\t\t\tsetOpenErr(true)\n\t\t\t\tif (e.code === 4001) {\n\t\t\t\t\tsetSnackbarErr(\"Error! User denied authorization!\")\n\t\t\t\t}\n\t\t\t})\n\n\tconst refreshPrices = () =>\n\t\tfetch(PRICES_API_URL)\n\t\t\t.then(r => r.json())\n\t\t\t.then(setPrices)\n\t\t\t.catch(console.error)\n\n\tuseEffect(() => {\n\t\trefreshStats()\n\t\trefreshPrices()\n\t\tconst intvl = setInterval(refreshStats, REFRESH_INTVL)\n\t\treturn () => clearInterval(intvl)\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletType])\n\n\tuseEffect(() => {\n\t\tsetChosenWalletType({ name: chosenWalletTypeName, library, account })\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletTypeName, library, account])\n\n\tuseEffect(() => {\n\t\tif (!!chainId && !SUPPORTED_CHAINS.some(chain => chainId === chain.id)) {\n\t\t\tsetChainWarning(true)\n\t\t} else {\n\t\t\tsetChainWarning(false)\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletTypeName, chainId, account])\n\n\tuseEffect(() => {\n\t\tif (!!error) {\n\t\t\tsetOpenErr(true)\n\t\t\tsetSnackbarErr(getErrorMessage(error))\n\t\t\tdeactivate()\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [error])\n\n\tconst wrapDoingTxns = fn => async (...args) => {\n\t\ttry {\n\t\t\tsetOpenDoingTx(true)\n\t\t\tsetOpenErr(false)\n\t\t\tconst res = await fn.apply(null, args)\n\t\t\tsetOpenDoingTx(false)\n\t\t\treturn res\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tsetOpenDoingTx(false)\n\t\t\tsetOpenErr(true)\n\t\t\tsetSnackbarErr(e.message || \"Unknown error\")\n\t\t}\n\t}\n\tconst onRequestUnbond = wrapDoingTxns(\n\t\tonUnbondOrRequest.bind(null, false, chosenWalletType)\n\t)\n\tconst onUnbond = wrapDoingTxns(\n\t\tonUnbondOrRequest.bind(null, true, chosenWalletType)\n\t)\n\tconst onClaimRewards = wrapDoingTxns(\n\t\tclaimRewards.bind(null, chosenWalletType)\n\t)\n\tconst onRestake = wrapDoingTxns(restake.bind(null, chosenWalletType, stats))\n\tconst handleErrClose = (event, reason) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn\n\t\t}\n\t\tsetOpenErr(false)\n\t}\n\n\tconst onWalletTypeSelect = async walletTypeName => {\n\t\tsetChosenWalletTypeName(walletTypeName)\n\t\tsetConnectWallet(null)\n\t\tconsole.log(\"activating\")\n\t\tawait activate(connectorsByName[walletTypeName])\n\t}\n\n\tuseEffect(() => {\n\t\tasync function updateWalletType() {\n\t\t\tif (library && chosenWalletTypeName) {\n\t\t\t\tconst newWalletType = { name: chosenWalletTypeName, library }\n\t\t\t\tconst signer = await getSigner(newWalletType)\n\n\t\t\t\tif (signer) {\n\t\t\t\t\tsetChosenWalletType(newWalletType)\n\t\t\t\t} else {\n\t\t\t\t\tsetChosenWalletType({})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetChosenWalletType({})\n\t\t\t}\n\t\t}\n\n\t\tupdateWalletType()\n\t}, [library, chosenWalletTypeName])\n\n\treturn {\n\t\tisNewBondOpen,\n\t\tsetNewBondOpen,\n\t\ttoUnbond,\n\t\tsetToUnbond,\n\t\ttoRestake,\n\t\tsetToRestake,\n\t\topenErr,\n\t\tsetOpenErr,\n\t\topenDoingTx,\n\t\tsetOpenDoingTx,\n\t\tsnackbarErr,\n\t\tsetSnackbarErr,\n\t\tstats,\n\t\tconnectWallet,\n\t\tsetConnectWallet,\n\t\tchosenWalletType,\n\t\trefreshStats,\n\t\twrapDoingTxns,\n\t\tonRequestUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake,\n\t\thandleErrClose,\n\t\tgetSigner,\n\t\tprices,\n\t\tonWalletTypeSelect,\n\t\taddSnack,\n\t\tsnackHooks,\n\t\tchainId,\n\t\taccount,\n\t\tchainWarning,\n\t\tnewBondPool,\n\t\tsetNewBondPool\n\t}\n}\n","import { useEffect } from \"react\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { injected } from \"./connector\"\n\nexport function useInactiveListener(suppress) {\n\tconst { active, error, activate } = useWeb3React()\n\n\tuseEffect(() => {\n\t\tconst { ethereum } = window\n\t\tif (ethereum && ethereum.on && !active && !error && !suppress) {\n\t\t\tconst handleConnect = () => {\n\t\t\t\tconsole.log(\"Handling 'connect' event\")\n\t\t\t\tactivate(injected)\n\t\t\t}\n\n\t\t\tconst handleChainChanged = chainId => {\n\t\t\t\tconsole.log(\"Handling 'chainChanged' event with payload\", chainId)\n\t\t\t\tactivate(injected)\n\t\t\t}\n\n\t\t\tconst handleAccountsChanged = accounts => {\n\t\t\t\tconsole.log(\"Handling 'accountsChanged' event with payload\", accounts)\n\t\t\t\tif (accounts.length > 0) {\n\t\t\t\t\tactivate(injected)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst handleNetworkChanged = networkId => {\n\t\t\t\tconsole.log(\"Handling 'networkChanged' event with payload\", networkId)\n\t\t\t\tactivate(injected)\n\t\t\t}\n\n\t\t\tethereum.on(\"connect\", handleConnect)\n\t\t\tethereum.on(\"chainChanged\", handleChainChanged)\n\t\t\tethereum.on(\"accountsChanged\", handleAccountsChanged)\n\t\t\tethereum.on(\"networkChanged\", handleNetworkChanged)\n\n\t\t\treturn () => {\n\t\t\t\tif (ethereum.removeListener) {\n\t\t\t\t\tethereum.removeListener(\"connect\", handleConnect)\n\t\t\t\t\tethereum.removeListener(\"chainChanged\", handleChainChanged)\n\t\t\t\t\tethereum.removeListener(\"accountsChanged\", handleAccountsChanged)\n\t\t\t\t\tethereum.removeListener(\"networkChanged\", handleNetworkChanged)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [active, error, suppress, activate])\n}\n","import React from \"react\"\nimport { MuiThemeProvider } from \"@material-ui/core/styles\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport { themeMUI } from \"./themeMUi\"\nimport { HashRouter as Router } from \"react-router-dom\"\nimport { Web3ReactProvider } from \"@web3-react/core\"\nimport { Web3Provider } from \"ethers/providers\"\nimport Root from \"./components/Root\"\nimport AppContext from \"./AppContext\"\nimport useApp from \"./AppHooks\"\nimport \"./App.css\"\n\nconst App = () => {\n\tconst appHooks = useApp()\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<MuiThemeProvider theme={themeMUI}>\n\t\t\t\t<CssBaseline />\n\t\t\t\t<AppContext.Provider value={appHooks}>\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<Root />\n\t\t\t\t\t</Router>\n\t\t\t\t</AppContext.Provider>\n\t\t\t</MuiThemeProvider>\n\t\t</React.Fragment>\n\t)\n}\n\nexport default () => (\n\t<Web3ReactProvider getLibrary={provider => new Web3Provider(provider)}>\n\t\t<App />\n\t</Web3ReactProvider>\n)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}