(this["webpackJsonpadex-staking-ui"]=this["webpackJsonpadex-staking-ui"]||[]).push([[0],{131:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},210:function(e,t,a){e.exports=a.p+"static/media/adex-staking.bf64bad2.svg"},228:function(e,t,a){e.exports=a(379)},233:function(e,t,a){},239:function(e,t){},247:function(e,t){},249:function(e,t){},280:function(e,t){},335:function(e,t){},337:function(e,t){},379:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),l=a.n(o),c=(a(233),a(30)),i=a(10),s=a.n(i),u=a(20),d=a(438),m=a(217),p=a(445),b=a(205),f=a.n(b),y=a(203),w=a.n(y),g=a(204),h=a.n(g),v=a(206),x=a.n(v),E={primary:{main:"#1B75BC",contrastText:"#fff"},accentOne:{main:"#57467B",contrastText:"#fff"},accentTwo:{main:"#7CB4B8",contrastText:"#fff"},grey:{main:"#3f3e3e",contrastText:"#fff"},error:w.a,warning:h.a,first:f.a,contrastThreshold:3,tonalOffset:.2,text:x.a},k=Object(m.a)({typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:13},palette:Object(c.a)({},E),overrides:{MuiButton:{root:{borderRadius:0},outlined:{borderRadius:0}},MuiTableCell:{head:{whiteSpace:"nowrap"},root:{whiteSpace:"nowrap"}},MuiPaper:{rounded:{borderRadius:0}},MuiTooltip:{tooltip:{borderRadius:0}}}}),O=Object(p.a)(k,{options:["xs","sm","md","lg","xl"],factor:3}),j=a(439),C=a(440),A=a(381),S=a(380),B=a(441),D=a(216),U=a.n(D),T=a(220),I=a(446),P=a(442),R=a(415),M=a(218),N=a(209),X=a.n(N),F=a(419),_=a(447),q=a(210),L=a.n(q),W=a(36),z=a(24),V=a(211),Y=a(212),J=a.n(Y),H=a(101),G=a(130),Z=a(131),$=a(422),K=a(423),Q=a(421),ee=a(424),te=a(425),ae=a(426),ne=a(427),re=a(428),oe=a(429),le=a(213),ce=a.n(le),ie=a(132),se=a(420),ue=a(133);function de(e){var t=e.title,a=e.subtitle,n=e.extra,o=e.loaded,l=e.actions,c="string"===typeof n?r.a.createElement(ue.a,{color:"primary",variant:"h6"},n):n||r.a.createElement(r.a.Fragment,null);return r.a.createElement(ie.a,{elevation:3,style:{margin:O.spacing(1)}},r.a.createElement("div",{style:{padding:O.spacing(2),minHeight:"75px"}},r.a.createElement(ue.a,{variant:"h5"},a),c,r.a.createElement(ue.a,{color:"textSecondary",variant:"subtitle2"},t),l||r.a.createElement(r.a.Fragment,null)),o?r.a.createElement(r.a.Fragment,null):r.a.createElement(se.a,null))}var me="0x46ad2d37ceaee1e82b70b867e674b903a4b4ca32",pe=Object(z.bigNumberify)(0),be={poolId:"",amount:pe},fe=[{label:"Validator Tom",id:Object(z.id)("validator:0x2892f6C41E0718eeeDd49D98D648C789668cA67d"),selectable:!0,minStakingAmount:0,rewardPolicy:'The "Validator Tom" pool will distribute its fee earnings proportionally to each staker. The fee earnings will be 7% of the total volume, which you can track on our Explorer. The APY percentage is calculated as follows: 100*(0.07 * annualVolumeInUSD / totalStakedInPoolInUSD)',slashPolicy:"No slashing.",url:"https://tom.adex.network"},{label:"Validator Jerry",id:Object(z.id)("validator:0xce07CbB7e054514D590a0262C93070D838bFBA2e"),selectable:!1,minStakingAmount:0,rewardPolicy:"",slashPolicy:""}],ye=function(e){return fe.find((function(t){return t.id===e}))};function we(e){var t=e.owner,a=e.amount,n=e.poolId,r=e.nonce;return Object(z.keccak256)(z.defaultAbiCoder.encode(["address","address","uint","bytes32","uint"],[me,t,a,n,r]))}function ge(e){return(e.toNumber(10)/1e4).toFixed(2)}function he(e){var t=e.stats,a=e.onRequestUnbond,o=e.onUnbond,l=e.onClaimRewards,c=t.userBonds.filter((function(e){return"Active"===e.status})).map((function(e){return e.amount})).reduce((function(e,t){return e.add(t)}),pe),i=Object(n.useState)({}),s=Object(u.a)(i,2),d=s[0],m=s[1];Object(n.useEffect)((function(){fetch("https://min-api.cryptocompare.com/data/price?fsym=ADX&tsyms=BTC,USD,EUR").then((function(e){return e.json()})).then(m).catch(console.error)}),[]);var p=function(e){if(!e)return null;if(!d.USD)return null;var t=e.toNumber(10)/1e4*d.USD;return"".concat(t.toFixed(2)," USD")},b=r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(ce.a,{style:{marginRight:O.spacing(2)}}),r.a.createElement("p",null,"This table will show all your individual ADX deposits (bonds), along with information as status, amount and earned reward. By using the action buttons, you will be able to request unbonding and withdraw your ADX after the ",30," day lock-up period.")),f=!t.loaded||t.userBonds.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(ee.a,{item:!0,xs:12,style:{marginTop:O.spacing(2)}},r.a.createElement(te.a,{style:{fontSize:"15px",backgroundColor:O.palette.primary.main},message:b})),y={fontWeight:"bold"};return r.a.createElement(ee.a,{container:!0,style:{padding:O.spacing(4),maxWidth:"1200px",margin:"auto"}},r.a.createElement(ee.a,{item:!0,sm:3,xs:6},function(e){var t=e.rewardChannels,a=e.onClaimRewards,n="Your total unclaimed reward",o=null!=t;if(!o)return de({loaded:o,title:n,extra:"0.00 USD",subtitle:"0.00 DAI"});var l,c=t.map((function(e){return e.outstandingReward})).reduce((function(e,t){return e.add(t)}),pe);return de({loaded:!0,title:n,actions:r.a.createElement(Q.a,{size:"small",variant:"contained",color:"secondary",disabled:c.eq(pe),onClick:function(){return a(t)}},"claim reward"),subtitle:(l=c,(l.div(Object(z.bigNumberify)("10000000000000000")).toNumber(10)/100).toFixed(2)+" DAI")})}({rewardChannels:t.rewardChannels,onClaimRewards:l})),r.a.createElement(ee.a,{item:!0,sm:3,xs:6},de({loaded:t.loaded,title:"Total ADX staked",extra:p(t.totalStake),subtitle:ge(t.totalStake)+" ADX"})),r.a.createElement(ee.a,{item:!0,sm:3,xs:6},de({loaded:t.loaded,title:"Your total active stake",extra:p(c),subtitle:ge(c)+" ADX"})),r.a.createElement(ee.a,{item:!0,sm:3,xs:6},de({loaded:t.loaded,title:"Your balance",subtitle:t.userBalance?ge(t.userBalance)+" ADX":"",extra:p(t.userBalance)})),r.a.createElement(ae.a,{xs:12},r.a.createElement(ne.a,{"aria-label":"Bonds table",style:{marginTop:O.spacing(2)}},r.a.createElement(re.a,null,r.a.createElement($.a,null,r.a.createElement(K.a,{style:y},"Bond amount"),r.a.createElement(K.a,{style:y,align:"right"},"Reward to collect"),r.a.createElement(K.a,{style:y,align:"right"},"Pool"),r.a.createElement(K.a,{style:y,align:"right"},"Status"),r.a.createElement(K.a,{style:y,align:"right"},"Actions"))),r.a.createElement(oe.a,null,(t.userBonds||[]).reverse().map((function(e){var t=ye(e.poolId),n=t?t.label:e.poolId;return r.a.createElement($.a,{key:we(e)},r.a.createElement(K.a,null,ge(e.currentAmount)," ADX"),r.a.createElement(K.a,{align:"right"},"0.00 DAI"),r.a.createElement(K.a,{align:"right"},n),r.a.createElement(K.a,{align:"right"},function(e){if("UnbondRequested"===e.status){var t=e.willUnlock.getTime(),a=Date.now();if(t>a){var n=Math.ceil((t-a)/864e5);return"Can unbond in ".concat(n," days")}return"Can unbond"}return e.status}(e)),r.a.createElement(K.a,{align:"right"},"Active"===e.status?r.a.createElement(Q.a,{color:"primary",onClick:function(){return a(e)}},"Request Unbond"):r.a.createElement(Q.a,{disabled:e.willUnlock.getTime()>Date.now(),onClick:function(){return o(e)},color:"secondary"},"Unbond")))}))))),f)}var ve=a(448),xe=a(432),Ee=a(450),ke=a(443),Oe=a(433),je=a(444);function Ce(e){var t=e.maxAmount,a=e.onNewBond,o=e.pools,l=Object(n.useState)(be),i=Object(u.a)(l,2),s=i[0],d=i[1],m=Object(n.useState)(0),p=Object(u.a)(m,2),b=p[0],f=p[1],y=Object(n.useState)(!1),w=Object(u.a)(y,2),g=w[0],h=w[1],v=Object(n.useState)(""),x=Object(u.a)(v,2),E=x[0],k=x[1],j=Object(n.useState)(!1),C=Object(u.a)(j,2),A=C[0],S=C[1],B=Object(n.useState)(""),D=Object(u.a)(B,2),U=D[0],T=D[1],I={minWidth:"180px"},P=ye(U),R=r.a.createElement(r.a.Fragment,null),M=r.a.createElement(r.a.Fragment,null,"I understand I am locking up my ADX for at least ",30," days and I am familiar with the\xa0",r.a.createElement("a",{href:"https://www.adex.network/tos/",target:"_blank"},"Terms and conditions"),R,"."),N=function(e){var a=e.amountBN,n=e.poolToValidate,r=n?Object(z.bigNumberify)(1e4*n.minStakingAmount):pe;return a.gt(t)?(h(!0),void k("Insufficient ADX amount!")):n&&a.lt(r)?(h(!0),void k("ADX amount less than minimum required for selected pool!")):void h(!1)};return r.a.createElement(ie.a,{elevation:2,style:{width:"500px",padding:O.spacing(2,4,3)}},r.a.createElement("h2",null,"Create a bond"),r.a.createElement(ee.a,{container:!0,spacing:2},r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(ve.a,{required:!0,label:"ADX amount",type:"number",style:I,value:b,error:g,onChange:function(e){return function(e){var t=e<0?0:e,a=Object(z.bigNumberify)(Math.abs(Math.floor(1e4*t)));N({amountBN:a,poolToValidate:P}),f(t),d(Object(c.a)({},s,{amount:a}))}(e.target.value)},helperText:g?E:null}),r.a.createElement(ue.a,{variant:"subtitle2"},"Max amount:",r.a.createElement(Q.a,{onClick:function(e){f((t.toNumber()/1e4).toFixed(2)),d(Object(c.a)({},s,{amount:t}))}},ge(t)," ADX"))),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(xe.a,{required:!0},r.a.createElement(Ee.a,null,"Pool"),r.a.createElement(ke.a,{style:I,value:U,onChange:function(e){return function(e){var t=Object(z.bigNumberify)(1e4*b),a=ye(e);N({amountBN:t,poolToValidate:a}),T(e),d(Object(c.a)({},s,{poolId:e}))}(e.target.value)}},r.a.createElement(_.a,{value:""},r.a.createElement("em",null,"None")),o.map((function(e){var t=e.label,a=e.id;return r.a.createElement(_.a,{key:a,value:a},t)}))))),P?r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(ue.a,{variant:"h6"},"Pool reward policy:"),r.a.createElement(ue.a,{variant:"body1"},P.rewardPolicy)),r.a.createElement(ee.a,{item:!0,xs:12,style:{marginTop:O.spacing(2)}},r.a.createElement(ue.a,{variant:"h6"},"Pool slashing policy:"),r.a.createElement(ue.a,{variant:"body1"},P.slashPolicy))):"",r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(Oe.a,{style:{userSelect:"none"},label:M,control:r.a.createElement(je.a,{checked:A,onChange:function(e){return S(e.target.checked)}})})),r.a.createElement(ee.a,{item:!0,xs:12},r.a.createElement(xe.a,{style:{display:"flex"}},r.a.createElement(Q.a,{disabled:!(s.poolId&&A&&s.amount.gt(pe)&&!g),color:"primary",variant:"contained",onClick:function(){S(!1),a(s)}},"Stake ADX")))))}var Ae=a(434),Se=a(435),Be=a(436),De=a(437);var Ue="0x333420fc6a897356e69b62417cd17ff012177d2b",Te="0x4470bb87d77b963a013db939be332f927f2b992e",Ie=Object(W.getDefaultProvider)(),Pe=new W.Contract(me,H,Ie),Re=new W.Contract(Te,Z,Ie),Me=new W.Contract(Ue,G,Ie),Ne=Object(z.bigNumberify)("1000000000000000000"),Xe={loaded:!1,userBonds:[],userBalance:pe,totalStake:pe};function Fe(e){return r.a.createElement(P.a,Object.assign({elevation:6,variant:"filled"},e))}function _e(){var e,t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("undefined"===typeof window.ethereum){a.next=3;break}return a.next=3,s.a.awrap(window.ethereum.enable());case 3:if(window.web3){a.next=5;break}return a.abrupt("return",null);case 5:return e=new V.Web3Provider(window.web3.currentProvider),t=e.getSigner(),a.abrupt("return",t);case 8:case"end":return a.stop()}}))}function qe(){var e,t,a,n,r,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,s.a.awrap(_e());case 2:if(e=l.sent){l.next=5;break}return l.abrupt("return",{loaded:!0,userBonds:[],userBalance:pe,rewardChannels:[]});case 5:return l.next=7,s.a.awrap(e.getAddress());case 7:return t=l.sent,l.next=10,s.a.awrap(Promise.all([Le(t),We(t)]));case 10:return a=l.sent,n=Object(u.a)(a,2),r=n[0],o=n[1],l.abrupt("return",Object(c.a)({},r,{loaded:!0,rewardChannels:o}));case 15:case"end":return l.stop()}}))}function Le(e){var t,a,n,r,o,l,i;return s.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,s.a.awrap(Promise.all([Re.balanceOf(e),Ie.getLogs({fromBlock:0,address:me,topics:[null,Object(z.hexZeroPad)(e,32)]}),Ie.getLogs(Object(c.a)({fromBlock:0},Pe.filters.LogSlash(null,null)))]));case 2:return t=d.sent,a=Object(u.a)(t,3),n=a[0],r=a[1],o=a[2],l=o.reduce((function(e,t){var a=Pe.interface.parseLog(t).values,n=a.poolId,r=a.newSlashPts;return e[n]=r,e}),{}),i=r.reduce((function(e,t){var a=t.topics[0],n=Pe.interface.events;if(a===n.LogBond.topic){var r=Pe.interface.parseLog(t).values,o=r.owner,i=r.amount,s=r.poolId,u=r.nonce,d=r.slashedAtStart,m={owner:o,amount:i,poolId:s,nonce:u,slashedAtStart:d};e.push(Object(c.a)({id:we(m),status:"Active",currentAmount:m.amount.mul(Ne.sub(l[s]||pe)).div(Ne.sub(d))},m))}else if(a===n.LogUnbondRequested.topic){var p=Pe.interface.parseLog(t).values,b=p.bondId,f=p.willUnlock,y=e.find((function(e){return e.id===b}));y.status="UnbondRequested",y.willUnlock=new Date(1e3*f)}else if(a===n.LogUnbonded.topic){var w=Pe.interface.parseLog(t).values.bondId;e.find((function(e){return e.id===w})).status="Unbonded"}return e}),[]),d.abrupt("return",{userBonds:i,userBalance:n});case 10:case"end":return d.stop()}}))}function We(e){var t,a,n,r,o;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=fe[0],l.next=3,s.a.awrap(fetch("".concat(t.url,"/fee-rewards")));case 3:return a=l.sent,l.next=6,s.a.awrap(a.json());case 6:return n=l.sent,r=Math.floor(Date.now()/1e3),l.next=10,s.a.awrap(Promise.all(n.map((function(t){var a,n;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(t.channelArgs.validUntil<r)){o.next=2;break}return o.abrupt("return",null);case 2:if(t.balances[e]){o.next=4;break}return o.abrupt("return",null);case 4:return a=new J.a(t.balances),o.t0=Object(z.bigNumberify)(t.balances[e]),o.next=8,s.a.awrap(Me.withdrawnPerUser(t.channelId,e));case 8:return o.t1=o.sent,n=o.t0.sub.call(o.t0,o.t1),o.abrupt("return",Object(c.a)({},t,{outstandingReward:n,proof:a.getProof(e),stateRoot:a.mTree.getRoot(),amount:t.balances[e]}));case 11:case"end":return o.stop()}}))}))));case 10:return o=l.sent,l.abrupt("return",o.filter((function(e){return e})));case 12:case"end":return l.stop()}}))}function ze(e,t){var a,n,r,o,l,c,i,u;return s.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(a=t.amount,n=t.poolId,r=t.nonce,n){d.next=3;break}return d.abrupt("return");case 3:if(e.userBalance){d.next=5;break}return d.abrupt("return");case 5:if(!a.gt(e.userBalance)){d.next=7;break}return d.abrupt("return");case 7:return d.next=9,s.a.awrap(_e());case 9:if(o=d.sent){d.next=12;break}return d.abrupt("return");case 12:return l=new W.Contract(me,H,o),c=new W.Contract(Te,Z,o),d.t0=s.a,d.t1=c,d.next=18,s.a.awrap(o.getAddress());case 18:return d.t2=d.sent,d.t3=me,d.t4=d.t1.allowance.call(d.t1,d.t2,d.t3),d.next=23,d.t0.awrap.call(d.t0,d.t4);case 23:if(i=d.sent,u=[],i.eq(a)){d.next=37;break}if(!i.gt(pe)){d.next=32;break}return d.t5=u,d.next=30,s.a.awrap(c.approve(me,pe,{gasLimit:8e4}));case 30:d.t6=d.sent,d.t5.push.call(d.t5,d.t6);case 32:return d.t7=u,d.next=35,s.a.awrap(c.approve(me,a,{gasLimit:8e4}));case 35:d.t8=d.sent,d.t7.push.call(d.t7,d.t8);case 37:return d.t9=u,d.next=40,s.a.awrap(l.addBond([a,n,r||pe],{gasLimit:11e4}));case 40:return d.t10=d.sent,d.t9.push.call(d.t9,d.t10),d.next=44,s.a.awrap(Promise.all(u.map((function(e){return e.wait()}))));case 44:case"end":return d.stop()}}))}function Ve(e){var t,a,n,r,o,l,c,i,u,d,m;return s.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,s.a.awrap(_e());case 2:if(t=p.sent){p.next=5;break}return p.abrupt("return");case 5:a=new W.Contract(Ue,G,t),n=[],r=!0,o=!1,l=void 0,p.prev=10,c=e[Symbol.iterator]();case 12:if(r=(i=c.next()).done){p.next=24;break}return u=i.value,d=u.channelArgs,m=[d.creator,d.tokenAddr,d.tokenAmount,d.validUntil,d.validators,d.spec],p.t0=n,p.next=19,s.a.awrap(a.channelWithdraw(m,u.stateRoot,u.signatures,u.proof,u.amount));case 19:p.t1=p.sent,p.t0.push.call(p.t0,p.t1);case 21:r=!0,p.next=12;break;case 24:p.next=30;break;case 26:p.prev=26,p.t2=p.catch(10),o=!0,l=p.t2;case 30:p.prev=30,p.prev=31,r||null==c.return||c.return();case 33:if(p.prev=33,!o){p.next=36;break}throw l;case 36:return p.finish(33);case 37:return p.finish(30);case 38:return p.abrupt("return",Promise.all(n.map((function(e){return e.wait()}))));case 39:case"end":return p.stop()}}),null,null,[[10,26,30,38],[31,,33,37]])}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],l=r.a.useState(null),i=Object(u.a)(l,2),m=i[0],p=i[1],b=Object(n.useState)(!1),f=Object(u.a)(b,2),y=f[0],w=f[1],g=Object(n.useState)("Error! Unspecified error occured."),h=Object(u.a)(g,2),v=h[0],x=h[1],E=Object(n.useState)(Xe),k=Object(u.a)(E,2),D=k[0],P=k[1],N=function(){return function(){var e,t,a,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(Promise.all([Re.balanceOf(me),qe()]));case 2:return e=r.sent,t=Object(u.a)(e,2),a=t[0],n=t[1],r.abrupt("return",Object(c.a)({totalStake:a},n));case 7:case"end":return r.stop()}}))}().then(P).catch((function(e){console.error("loadStats",e),w(!0),4001===e.code&&x("Error! User denied authorization!")}))};Object(n.useEffect)((function(){N();var e=setInterval(N,3e4);return function(){return clearInterval(e)}}),[]);var q=function(e){return function(t){var a,n,r,o,l,c,i;return s.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=t.amount,n=t.poolId,r=t.nonce,u.next=3,s.a.awrap(_e());case 3:if(o=u.sent){u.next=6;break}return u.abrupt("return");case 6:return l=new W.Contract(me,H,o),c=e?l.unbond.bind(l):l.requestUnbond.bind(l),u.prev=8,u.next=11,s.a.awrap(c([a,n,r||pe]));case 11:return i=u.sent,u.next=14,s.a.awrap(i.wait());case 14:u.next=20;break;case 16:u.prev=16,u.t0=u.catch(8),w(!0),x(u.t0.message||"Unknown error");case 20:case"end":return u.stop()}}),null,null,[[8,16]])}},z=q(!1),V=q(!0),Y=function(e,t){"clickaway"!==t&&w(!1)};return r.a.createElement(d.a,{theme:O},r.a.createElement(j.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement("img",{height:"40vh",src:L.a,alt:"logo"}),r.a.createElement(B.a,{disabled:!D.loaded,onClick:function(){return o(!0)},variant:"extended",color:"secondary",style:{position:"absolute",right:"5%",top:"50%"}},r.a.createElement(U.a,{style:{margin:O.spacing(1)}}),"Stake your ADX"),function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],o=t[1],l=function(){o(null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{style:{position:"absolute",right:"1.25%",top:"10%"},onClick:function(e){o(e.currentTarget)}},r.a.createElement(X.a,{style:{fontSize:"1.5em",color:"white"}})),r.a.createElement(M.a,{id:"simple-menu",anchorEl:a,open:Boolean(a),keepMounted:!0,onClose:l,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(F.a,{href:"https://www.adex.network/tos",target:"_blank"},r.a.createElement(_.a,{onClick:l},"Terms of Service")),r.a.createElement(F.a,{href:"https://www.adex.network/blog/adx-staking-is-here/",target:"_blank"},r.a.createElement(_.a,{onClick:l},"User Guide")),r.a.createElement(F.a,{href:"https://github.com/adexnetwork/adex-protocol-eth",target:"_blank"},r.a.createElement(_.a,{onClick:l},"Source Code")),r.a.createElement(F.a,{href:"https://coinmarketcap.com/currencies/adx-net/markets/",target:"_blank"},r.a.createElement(_.a,{onClick:l},"Where to buy ADX"))))}())),he({stats:D,onRequestUnbond:p,onUnbond:V,onClaimRewards:function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.awrap(Ve(e));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),w(!0),x(t.t0.message||"Unknown error");case 9:case"end":return t.stop()}}),null,null,[[0,5]])}}),function(e){var t=e.toUnbond,a=e.onDeny,n=e.onConfirm;return r.a.createElement(Ae.a,{open:!!t,onClose:a},r.a.createElement(Se.a,{id:"alert-dialog-title"},"Are you sure?"),r.a.createElement(Be.a,null,"Are you sure you want to request unbonding of"," ",ge(t?t.currentAmount:pe)," ADX?",r.a.createElement("br",null),r.a.createElement("br",null),"Please be aware:",r.a.createElement("ol",null,r.a.createElement("li",null,"It will take ",30," days before you will be able to withdraw your ADX!"),r.a.createElement("li",null,"You will not receive staking rewards for this amount in this"," ",30," day period."))),r.a.createElement(De.a,null,r.a.createElement(Q.a,{onClick:a,autoFocus:!0,color:"primary"},"Cancel"),r.a.createElement(Q.a,{onClick:n,color:"primary"},"Unbond")))}({toUnbond:m,onDeny:function(){return p(null)},onConfirm:function(){m&&z(m),p(null)}}),r.a.createElement(I.a,{open:y,autoHideDuration:6e3,onClose:Y},r.a.createElement(Fe,{onClose:Y,severity:"error"},v)),r.a.createElement(A.a,{open:a,onClose:function(){return o(!1)},style:{display:"flex",alignItems:"center",justifyContent:"center"},closeAfterTransition:!0,BackdropComponent:S.a,BackdropProps:{timeout:300}},r.a.createElement(T.a,{in:a},Ce({pools:fe.filter((function(e){return e.selectable})),maxAmount:D.userBalance,onNewBond:function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!1),t.prev=1,t.next=4,s.a.awrap(ze(D,e));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),w(!0),x(t.t0.message||"Unknown error");case 10:case"end":return t.stop()}}),null,null,[[1,6]])}}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[228,1,2]]]);
//# sourceMappingURL=main.489058f2.chunk.js.map