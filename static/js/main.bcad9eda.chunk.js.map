{"version":3,"sources":["helpers/identity.js","resources/staking-logo.svg","helpers/constants.js","walletconnect-logo.svg","metamask-fox.svg","themeMUi.js","helpers/formatting.js","AppContext.js","components/Tooltip.js","components/cardCommon.js","helpers/bonds.js","components/Bonds.js","components/WithDialog.js","ethereum.js","actions/loyaltyPoolActions.js","actions/actions.js","actions/pools.js","components/DepositForm.js","actions/validations.js","resources/loyalty-ic.svg","components/Deposits.js","components/SectionHeader.js","components/Stakings.js","resources/gasless-ic.svg","components/StatsCard.js","components/Anchor.js","components/ConfirmationDialog.js","components/Gasless.js","components/NewGaslessBondForm.js","resources/gift-ic.svg","components/Rewards.js","resources/coming-soon-ic.svg","components/PoolCard.js","resources/tom-ic.svg","resources/mail-awards.svg","helpers/validation.js","mauticActions.js","components/EmailSignUpCard.js","components/Pools.js","components/NewBondForm.js","components/LegacyADXSwapDialog.js","components/HelperMenu.js","components/WalletMenu.js","components/rootStyles.js","components/Toolbar.js","components/WithRouterLink.js","components/UserData.js","components/RewardCard.js","resources/link-ic.svg","components/SideNav.js","Snack.js","components/Root.js","components/ChooseWallet.js","helpers/connector.js","AppHooks.js","helpers/hooks.js","components/Loading.js","App.js","serviceWorker.js","i18n.js","index.js"],"names":["getUserIdentity","walletAddr","bytecode","addr","addrHex","slice","toLowerCase","getBytecode","getAddress","generateAddress2","ADDR_FACTORY","Buffer","alloc","toString","rawZeroFeeTx","idAddr","nonce","to","data","identityContract","feeTokenAddr","feeAmount","zeroFeeTx","Transaction","module","exports","ADDR_STAKING","ZERO","bigNumberify","PRICES_API_URL","UNBOND_DAYS","STAKING_RULES_URL","ADDR_ADX","ADDR_ADX_LOYALTY_TOKEN","MAX_UINT","MIN_BALANCE_FOR_GASLESS_TXNS","DEFAULT_BOND","poolId","amount","POOLS","label","id","selectable","minStakingAmount","rewardPolicy","slashPolicy","url","estimatedAnnualFeeYield","estimatedAnnualADXYield","estimatedAnnualADXEarlyYield","DEPOSIT_POOLS","confirmationLabel","confirmationUrl","METAMASK","WALLET_CONNECT","TREZOR","LEDGER","Wallets","name","icon","metamaskLogo","walletconnectLogo","SUPPORTED_CHAINS","REACT_APP_INFURA_ID","REACT_APP_RPC_URL","ADEX_RELAYER_HOST","WHITE","BLACK","palette","type","primary","main","contrastText","secondary","grey","warning","success","info","error","first","lime","text","fade","disabled","hint","divider","background","darkerPaper","paper","default","special","overlay","action","hover","hoverOpacity","selected","selectedOpacity","disabledOpacity","focus","focusOpacity","activatedOpacity","common","white","black","typography","fontFamily","fontSize","defaultTheme","createMuiTheme","theme","shadows","overrides","MuiButton","root","borderRadius","outlined","borderColor","contained","backgroundColor","color","boxShadow","MuiFab","MuiTableCell","head","whiteSpace","fontWeight","MuiPaper","rounded","MuiTooltip","tooltip","padding","spacing","arrow","MuiDrawer","paperAnchorLeft","borderRight","paperAnchorDockedLeft","MuiAlert","maxWidth","alignItems","message","wordBreak","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","filledSuccess","filledInfo","filledWarning","filledError","MuiBackdrop","MuiFilledInput","borderTopLeftRadius","borderTopRightRadius","themeMUI","responsiveFontSizes","breakpoints","factor","formatADX","num","formatUnits","formatADXPretty","commify","div","formatDAIPretty","formatAmountPretty","currency","toLocaleString","parseADX","n","parseUnits","getADXInUSD","prices","ADX","USD","parseFloat","getADXInUSDFormatted","adxUsd","toFixed","getDAIInUSD","DAI","getUSDFormatted","usdAmount","formatAddress","address","joinSymbol","substring","toIdAttributeString","string","defaultValue","replace","AppContext","React","createContext","CommonTooltip","children","props","Tooltip","leaveTouchDelay","enterTouchDelay","title","disableFocusListener","disableHoverListener","disableTouchListener","ExtraLabel","Array","isArray","map","x","index","Typography","key","display","variant","Info","AmountTextSingle","multiline","decimalSeparatorSplit","split","length","decimalsSplit","Box","component","style","opacity","AmountText","multipleAmountsSplit","trim","filter","i","reduce","prev","curr","CardRow","infoText","justify","isAmountText","multilineLinesAmounts","restBox","flexDirection","flexWrap","justifyContent","ml","getPool","find","getBondId","owner","keccak256","defaultAbiCoder","encode","Bonds","stats","onRequestUnbond","onUnbond","t","useTranslation","bondStatus","bond","status","willUnlock","getTime","now","Date","days","Math","ceil","count","totalStake","isEarly","isZero","bondCreatedSeconds","toNumber","getsEarlyBird","base","early","getApproxAPY","totalStakeTom","TableContainer","xs","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","userBonds","reverse","d","pool","poolLabel","created","gt","time","bondId","currentAmount","getDate","month","getFullYear","Button","onClick","loaded","mt","Alert","severity","styles","dialog","dialogTitle","wordWrap","margin","marginLeft","marginBottom","content","flex","position","overflowX","overflowY","textBtn","cursor","btnIconLeft","marginRight","breakLong","overflowWrap","hyphens","TextBtn","withStyles","className","classes","clsx","Transition","forwardRef","ref","Slide","direction","useStyles","makeStyles","WithDialogHoc","Decorated","WithDialog","disableBackdropClick","forwardedRef","iconButton","textButton","fabButton","size","btnLabel","mini","dialogActions","fullWidth","onBeforeOpen","tooltipTitle","rest","btnProps","useState","open","setOpen","handleToggle","a","handleClick","ev","stopPropagation","preventDefault","ButtonComponent","IconButton","Fab","width","floating","second","Dialog","onClose","TransitionComponent","DialogTitle","disableTypography","DialogContent","closeDialog","DialogActions","defaultProvider","providers","InfuraProvider","getSigner","chosenWalletType","library","Error","getDepositPool","provider","Token","Contract","ERC20ABI","LoyaltyToken","ADXLoyaltyPoolTokenABI","ZERO_ADDR","LOYALTY_POOP_EMPTY_STATS","balanceLpToken","balanceLpADX","rewardADX","poolTotalStaked","currentAPY","poolDepositsLimit","userDataLoaded","loadLoyaltyPoolData","Promise","all","balanceOf","incentivePerTokenPerAnnum","maxTotalADX","mul","loadUserLoyaltyPoolsStats","poolData","shareValue","getLogs","fromBlock","filters","Transfer","currentShareValue","loyaltyTokenTransfersLogs","adexTokenTransfersLogs","currentBalance","some","log","interface","parseLog","values","adxTransfersByTxHash","txns","transactionHash","userDeposits","deposits","axdTransferLog","lpTokenLog","adxTransferLog","adx","add","adxLPT","avgDepositShareValue","reward","sub","onLoyaltyPoolDeposit","adxDepositAmount","userBalance","signer","allowance","allowanceADXLOYALTY","setAllowance","lt","tokenWithSigner","approve","loyaltyTokenWithSigner","enter","gasLimit","onLoyaltyPoolWithdraw","withdrawAmountADX","loyaltyPoolStats","lpTokensToWithdraw","leave","ADDR_CORE","Staking","StakingABI","Core","CoreABI","MAX_SLASH","OUTSTANDING_REWARD_THRESHOLD","POOL_EMPTY_STATS","currentAdxIncentiveAPY","lastDaiFeesAPY","totalAPY","userRewardsADX","userRewardsDAI","rewardChannels","EMPTY_STATS","connectedWalletAddress","totalRewardADX","totalRewardDAI","tomRewardADX","apyTomADX","userTotalStake","totalBalanceADX","userWalletBalance","userIdentityBalance","canExecuteGasless","canExecuteGaslessError","tomPoolStats","sumRewards","outstandingReward","b","isTomChannelId","channel","channelArgs","validators","val","getIncentiveChannelCurrentAPY","periodEnd","currentRewardPerSecond","currentTotalActiveStake","poolTotalStake","distributionEnds","secondsLeft","floor","getValidatorFeesAPY","periodStart","spec","tokenAmount","totalActiveStaked","totalStakeInDaiValue","toDistribute","distributionSeconds","getChannelAPY","getPrices","fetch","res","json","console","loadStats","loadUserStats","userStats","loadActivePoolsStats","getPoolStats","getRewardChannels","adxIncentiveRewardsChannels","tokenAddr","validUntil","feeRewardsChannels","currentActiveIncentiveChannels","sort","lastFeeRewardChannel","poolStats","identityAddr","loadBondStats","getRewards","getGaslessInfo","tomPoolUserRewardChannels","poolsStats","tomAdxRewardsChannels","tomPoolDaiRewardsChannels","tomRewardDAI","tomPoolStatsWithUserData","topics","hexZeroPad","LogSlash","logs","slashLogs","slashedByPool","pools","newSlashPts","bonds","topic","evs","events","LogBond","vals","slashedAtStart","push","LogUnbondRequested","LogUnbonded","rewardPool","resp","rewardChannel","claimFrom","balances","balanceTree","BalanceTree","withdrawnPerUser","channelId","proof","getProof","stateRoot","mTree","getRoot","forUser","resData","canExecute","createNewBond","gasless","allowanceStaking","balanceOnIdentity","eq","getCode","executeOnIdentity","needed","gte","identityTxns","functions","transferFrom","active","stakingData","replaceBond","addBond","onUnbondOrRequest","isUnbond","unbond","transfer","requestUnbond","claimRewards","coreWithSigner","legacyChannels","channelTuple","toChannelTuple","channelWithdraw","signatures","identityChannels","toTransfer","forEach","amnt","concat","Object","entries","restake","channels","collected","userBond","newBond","args","creator","opts","identity","IdentityABI","needsToDeploy","idNonce","toTuples","offset","toSolidityTuple","txnsRaw","tx","signMessage","hash","sig","splitSig","executeUrl","method","body","JSON","stringify","headers","txnTuples","executeBySender","factoryWithSigner","FactoryABI","executeTx","deployAndExecute","getDepositActionByPoolId","getPoolStatsByPoolId","getWithdrawActionBySelectedRewardChannels","rewards","byPool","r","rwds","bind","DepositForm","depositPool","withdraw","useContext","wrapDoingTxns","actionAmount","setActionAmount","amountErr","setAmountErr","amountErrText","setAmountErrText","confirmation","setConfirmation","newDepositPool","setNewDepositPool","activePool","actionName","maxAmount","onAction","confirmed","validateFields","params","numStr","userInputAmount","poolToValidate","isNaN","amountBN","minStakingAmountBN","lte","onAmountChange","amountStr","useEffect","Grid","container","item","sm","TextField","required","value","onChange","target","helperText","FormControl","InputLabel","Select","MenuItem","marginTop","Trans","i18nKey","apy","sign","components","farmer","role","FormControlLabel","userSelect","control","Checkbox","checked","disableElevation","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","points","_ref","svgRef","viewBox","ForwardRef","DepositsDialog","iconBox","height","Deposits","setDeposits","disableDepositsMsg","disabledWithdrawsMsg","loyaltyPoolDeposit","disabledDepositsMsg","balance","actions","getLoyaltyPoolDeposit","newDeposit","findIndex","newDeposits","updateDeposits","deposit","PoolIcon","LoyaltyIcon","iconByPoolId","mr","SvgIcon","m","fabIcon","SectionHeader","setNewBondOpen","setNewBondPool","canStake","mb","Stakings","setToUnbond","setToRestake","onClaimRewards","gutterBottom","bgcolor","p","onRestake","transform","StatsCard","titleInfo","subtitle","subtitleInfo","extra","extraInfo","moreExtra","moreExtraInfo","LinearProgress","externalIcon","link","Anchor","href","underline","isExternal","getUrl","linkProps","draggable","rel","Link","OpenInNew","ExternalAnchor","ConfirmationDialog","isOpen","onDeny","onConfirm","confirmActionName","MIN_GASLESS_RE_STAKE_REWARDS","left","top","right","bottom","noUserData","modal","bullets","up","Gasless","bondOpen","setBondOpen","reStakeOpen","setReStakeOpen","setBond","setConnectWallet","addSnack","canExecuteGaslessErrorKey","hasEnoughForReStake","walletConnected","disableReStake","canExecuteGaslessReStakeErrorKey","includes","canExecuteGaslessReStakeError","showReStake","onTxRes","btnId","txId","onStake","onReStake","my","flexGrow","mx","copy","minBalance","external","Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","unbondDays","e1","e2","maxHeight","pb","overflow","NewGaslessBondForm","box","getTotalSelectedRewards","getTotal","amounts","totalAmountsLabel","join","Rewards","setRewards","setSelected","totalAmountsSelected","setTotalAmountsSelected","claimOpen","setClaimOpen","totalRewardsAmounts","totalOutstandingRewardsAmounts","totalRewardsInUsd","totalOutstandingRewardsInUsd","selectedRewards","disableActionsMsg","disableReStakeMsg","startsWith","tomRewardChannels","tomUserDataLoaded","loPoCurrentAPY","loPoRewardADX","loPoUserDataLoaded","loPoReward","onSelectChange","newSelected","totalAmountSelected","onClaim","totalSelectedLabel","totalRewardsLabel","totalOutstandingRewardsLabel","inputProps","renderRewardRow","total","loading","comingSoon","PoolCard","totalStakedADX","totalStakedUSD","weeklyYield","weeklyYieldInfo","onStakeBtnClick","disabledInfo","lockupPeriodTitle","lockupPeriodInfo","lockupPeriod","actionBtn","extraData","pt","minHeight","yield","importantValue","valueInfo","normalValue","extrInfo","CircularProgress","y","filterUnits","dx","dy","input","stdDeviation","result","floodOpacity","operator","in2","fill","cx","cy","rx","ry","validateEmail","email","test","String","submitFormToMautic","formId","returnValue","formName","messenger","response","utf8Decoder","TextDecoder","reader","getReader","read","mauticDataResponse","decode","extractJSONResponseFromHTML","matches","exec","messageCopy","asciiRegex","lastIndex","match","groupIndex","decoded","fromCharCode","parse","warn","bold","singUp","gdprCheckbox","errors","gdpr","tosCheckbox","tos","EmailSignUp","setEmail","mauticState","setMauticState","waiting","setWaiting","setGDPR","setTos","setErrors","handleSubmit","HTMLResponse","jsonResponse","successMessage","strong","onBlur","e","FormGroup","externalLink","Pools","tomAPY","justifyCenter","useMediaQuery","down","loyaltyPoolAPY","NewBondForm","onNewBond","newBondPool","stakingAmount","setStakingAmount","minWidthStyle","minWidth","updateStakingAmountBN","max","wallet","ADDR_ADX_OLD","LegacyToken","LegacyADXSwapDialog","setAmount","isSwapInPrg","setSwapInPrg","refreshAmount","catch","onSwap","swapTokens","wait","Snackbar","elevation","legacyTokenWithSigner","newTokenWithSigner","hasAutocalculatedGas","firstTimeGasLimit","swap","Help","menuEl","setMenuEl","closeHelpMenu","startIcon","currentTarget","Menu","anchorEl","Boolean","keepMounted","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","chipRoot","fontWeightBold","pxToRem","chipIcon","Wallet","account","Chip","clickable","Icon","diameter","seed","jsNumberForAddress","backgroundImage","backgroundRepeat","backgroundPositionX","drawerWidth","toolbar","paddingLeft","paddingRight","toolbarActions","drawerPaper","paddingTop","contentInner","alwaysOnTop","zIndex","AppToolbar","handleDrawerToggle","AppBar","Toolbar","Hidden","mdUp","WithRouterLink","Component","WithRouter","withRouter","event","history","location","staticContext","toLocation","path","pathname","createHref","resolveToLocation","UserData","restakeEnabled","pr","pl","RewardCard","RRListItem","ListItem","activeColor","activeBgColor","navigation","sntPadding","navListRoot","navList","sideNavToolbar","version","borderTopWidth","borderTopColor","borderTopStyle","adxLink","sideSwitch","textTransform","SideNav","useLocation","src","logo","alt","Divider","textAlign","List","button","ListItemIcon","ListItemText","window","packageJson","ShtarvolinkiSnack","snackOpen","snackMessageInfo","closeSnack","snackExited","autoHideDuration","hideTimeout","onExited","Root","mobileOpen","setMobileOpen","isTempDrawer","isNewBondOpen","toUnbond","toRestake","openErr","openDoingTx","snackbarErr","connectWallet","handleErrClose","onWalletTypeSelect","snackHooks","chainWarning","drawer","undefined","document","Drawer","anchor","ModalProps","ol","li","handleListItemClick","handleClose","disableNonBrowserWallets","aria-labelledby","Avatar","ChooseWallet","msg","aria-describedby","AlertTitle","injected","InjectedConnector","supportedChainIds","ledger","LedgerConnector","chainId","pollingInterval","trezor","TrezorConnector","manifestEmail","manifestAppUrl","walletconnect","WalletConnectConnector","rpc","1","bridge","qrcode","connectorsByName","tryGetErrMessage","snackPack","setSnackPack","setMessageInfo","random","reason","useSnack","useWeb3React","activate","deactivate","setOpenErr","setOpenDoingTx","setSnackbarErr","setStats","chosenWalletTypeName","setChosenWalletTypeName","setChosenWalletType","setPrices","setChainWarning","suppress","handleConnect","handleChainChanged","handleAccountsChanged","accounts","reload","handleNetworkChanged","networkId","ethereum","on","removeListener","useInactiveListener","refreshStats","useCallback","newPrices","updatePrices","newStats","code","intvl","setInterval","clearInterval","chain","NoEthereumProviderError","UnsupportedChainIdError","UserRejectedRequestErrorInjected","UserRejectedRequestErrorWalletConnect","getErrorMessage","fn","walletTypeName","newWalletType","updateWalletType","Loading","App","appHooks","useApp","Fragment","Provider","CssBaseline","fallback","getLibrary","Web3Provider","hostname","i18n","use","Backend","LanguageDetector","initReactI18next","init","backend","loadPath","fallbackLng","defaultNS","debug","keySeparator","interpolation","escapeValue","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.bcad9eda.chunk.js","sourcesContent":["import { generateAddress2 } from \"ethereumjs-util\"\nimport { getAddress } from \"ethers/utils\"\nimport { Transaction } from \"adex-protocol-eth/js\"\nimport { ADDR_FACTORY } from \"./constants\"\n\nfunction getBytecode(addr) {\n\tconst addrHex = addr.slice(2).toLowerCase()\n\t// Do not change that bytecode! It comes from compiling this https://gist.github.com/Ivshti/e66cd57ade1abfb07c2517df9e73ceb9\n\treturn `0x608060405234801561001057600080fd5b5060026000803073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908360ff160217905550600260008073${addrHex}73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff021916908360ff1602179055506000734470bb87d77b963a013db939be332f927f2b992e9050600073ade00c28244d5ce17d72e40330b1c318cd12b7c3905060008273ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016101429190610501565b60206040518083038186803b15801561015a57600080fd5b505afa15801561016e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610192919061045a565b90506000811115610276578273ffffffffffffffffffffffffffffffffffffffff1663095ea7b383836040518363ffffffff1660e01b81526004016101d892919061051c565b600060405180830381600087803b1580156101f257600080fd5b505af1158015610206573d6000803e3d6000fd5b505050508173ffffffffffffffffffffffffffffffffffffffff166394b918de826040518263ffffffff1660e01b81526004016102439190610560565b600060405180830381600087803b15801561025d57600080fd5b505af1158015610271573d6000803e3d6000fd5b505050505b60008273ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016102b19190610501565b60206040518083038186803b1580156102c957600080fd5b505afa1580156102dd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610301919061045a565b9050600081111561043c576000734846c6837ec670bbd1f5b485471c8f64ecb9c53490508373ffffffffffffffffffffffffffffffffffffffff1663095ea7b382846040518363ffffffff1660e01b815260040161036092919061051c565b600060405180830381600087803b15801561037a57600080fd5b505af115801561038e573d6000803e3d6000fd5b505050508073ffffffffffffffffffffffffffffffffffffffff1663b4dca72460405180606001604052808581526020017f2ce0c96383fb229d9776f33846e983a956a7d95844fac57b180ed0071d93bb2860001b8152602001428152506040518263ffffffff1660e01b81526004016104089190610545565b600060405180830381600087803b15801561042257600080fd5b505af1158015610436573d6000803e3d6000fd5b50505050505b505050506105d8565b600081519050610454816105c1565b92915050565b60006020828403121561046c57600080fd5b600061047a84828501610445565b91505092915050565b61048c8161057b565b82525050565b61049b8161058d565b82525050565b6060820160008201516104b760008501826104e3565b5060208201516104ca6020850182610492565b5060408201516104dd60408501826104e3565b50505050565b6104ec816105b7565b82525050565b6104fb816105b7565b82525050565b60006020820190506105166000830184610483565b92915050565b60006040820190506105316000830185610483565b61053e60208301846104f2565b9392505050565b600060608201905061055a60008301846104a1565b92915050565b600060208201905061057560008301846104f2565b92915050565b600061058682610597565b9050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6105ca816105b7565b81146105d557600080fd5b50565b6101b7806105e76000396000f3fe608060405234801561001057600080fd5b506004361061002f5760003560e01c8063c066a5b11461007357610030565b5b60007396e3cb4b4632ed45363ff2c9f0fbec9b583d9d3a90503660008037600080366000846127105a03f43d6000803e806000811461006e573d6000f35b3d6000fd5b61008d600480360381019061008891906100d8565b6100a3565b60405161009a9190610110565b60405180910390f35b60006020528060005260406000206000915054906101000a900460ff1681565b6000813590506100d28161016a565b92915050565b6000602082840312156100ea57600080fd5b60006100f8848285016100c3565b91505092915050565b61010a8161015d565b82525050565b60006020820190506101256000830184610101565b92915050565b60006101368261013d565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600060ff82169050919050565b6101738161012b565b811461017e57600080fd5b5056fea26469706673582212200e40aa3025d54e828fb973089b64ce06688fedcd71b98ae68521a0217652c59564736f6c634300060c0033`\n}\n\nexport function getUserIdentity(walletAddr) {\n\tconst bytecode = getBytecode(walletAddr)\n\tconst addr = getAddress(\n\t\t`0x${generateAddress2(ADDR_FACTORY, Buffer.alloc(32), bytecode).toString(\n\t\t\t\"hex\"\n\t\t)}`\n\t)\n\treturn { bytecode, addr }\n}\n\nexport function rawZeroFeeTx(idAddr, nonce, to, data) {\n\treturn {\n\t\tidentityContract: idAddr,\n\t\tnonce: nonce.toString(10),\n\t\tfeeTokenAddr: \"0x6b175474e89094c44da98b954eedeac495271d0f\",\n\t\tfeeAmount: 0,\n\t\tto,\n\t\tdata\n\t}\n}\n\nexport function zeroFeeTx(idAddr, nonce, to, data) {\n\treturn new Transaction({\n\t\tidentityContract: idAddr,\n\t\tnonce: nonce.toString(10),\n\t\tfeeTokenAddr: \"0x6b175474e89094c44da98b954eedeac495271d0f\",\n\t\tfeeAmount: 0,\n\t\tto,\n\t\tdata\n\t})\n}\n","module.exports = __webpack_public_path__ + \"static/media/staking-logo.7e002c99.svg\";","import { bigNumberify, id } from \"ethers/utils\"\nimport walletconnectLogo from \"../walletconnect-logo.svg\"\nimport metamaskLogo from \"../metamask-fox.svg\"\n// import trezorLogo from \"../trezor.svg\"\n// import ledgerLogo from \"../ledger.png\"\n\nexport const ADDR_STAKING = \"0x4846c6837ec670bbd1f5b485471c8f64ecb9c534\"\nexport const ZERO = bigNumberify(0)\nexport const PRICES_API_URL =\n\t\"https://min-api.cryptocompare.com/data/price?fsym=ADX&tsyms=BTC,USD,EUR\"\nexport const UNBOND_DAYS = 30\nexport const STAKING_RULES_URL = null\n\nexport const ADDR_ADX = \"0xADE00C28244d5CE17D72E40330B1c318cD12B7c3\"\nexport const ADDR_FACTORY = \"0x9fe0d438e3c29c7cff949ad8e8da9403a531cc1a\"\nexport const ADDR_ADX_LOYALTY_TOKEN =\n\t\"0xd9A4cB9dc9296e111c66dFACAb8Be034EE2E1c2C\"\n\nexport const MAX_UINT = bigNumberify(\n\t\"115792089237316195423570985008687907853269984665640564039457584007913129639935\"\n)\n\nexport const MIN_BALANCE_FOR_GASLESS_TXNS = bigNumberify(\n\t\"10000000000000000000000\"\n) // 10 000 ADX\n\nexport const DEFAULT_BOND = {\n\tpoolId: \"\",\n\tamount: ZERO\n}\n\nexport const POOLS = [\n\t{\n\t\tlabel: \"common.validatorTom\",\n\t\tid: id(\"validator:0x2892f6C41E0718eeeDd49D98D648C789668cA67d\"),\n\t\tselectable: true,\n\t\tminStakingAmount: \"0.0\",\n\t\trewardPolicy: \"pools.tomRewardPolicy\",\n\t\tslashPolicy: \"pools.tomSlashPolicy\",\n\t\turl: \"https://tom.adex.network\",\n\t\testimatedAnnualFeeYield: 182500,\n\t\testimatedAnnualADXYield: 15103448.2758,\n\t\testimatedAnnualADXEarlyYield: 12166666.6666\n\t},\n\t{\n\t\tlabel: \"common.validatorJerry\",\n\t\tid: id(\"validator:0xce07CbB7e054514D590a0262C93070D838bFBA2e\"),\n\t\tselectable: false,\n\t\tminStakingAmount: 0,\n\t\trewardPolicy: \"\",\n\t\tslashPolicy: \"\"\n\t}\n]\n\nexport const DEPOSIT_POOLS = [\n\t{\n\t\tlabel: \"common.loPo\",\n\t\tid: id(\"deposit:0x49ee1555672E1b7928Fc581810B4e79dD85263E1\"),\n\t\tselectable: true,\n\t\tminStakingAmount: \"0.0\",\n\t\trewardPolicy: \"pools.loPoRewardPolicy\",\n\t\tslashPolicy: \"pools.loPoSlashPolicy\",\n\t\turl:\n\t\t\t\"https://etherscan.io/address/0x49ee1555672e1b7928fc581810b4e79dd85263e1\",\n\t\tconfirmationLabel: null,\n\t\tconfirmationUrl: \"https://www.adex.network/tos/\"\n\t}\n]\n\nexport const METAMASK = \"Metamask\"\nexport const WALLET_CONNECT = \"WalletConnect\"\nexport const TREZOR = \"Trezor\"\nexport const LEDGER = \"Ledger\"\n\nexport const Wallets = [\n\t{\n\t\tname: METAMASK,\n\t\ticon: metamaskLogo\n\t},\n\t{\n\t\tname: WALLET_CONNECT,\n\t\ticon: walletconnectLogo\n\t}\n\t// {\n\t// \tname: TREZOR,\n\t// \ticon: trezorLogo\n\t// },\n\t// {\n\t// \tname: LEDGER,\n\t// \ticon: ledgerLogo\n\t// }\n]\n\nexport const SUPPORTED_CHAINS = [{ id: 1, name: \"mainnet\" }]\n\nexport const TOKEN_OLD_TO_NEW_MULTIPLIER = bigNumberify(\"100000000000000\")\n\nexport const REACT_APP_INFURA_ID = \"3d22938fd7dd41b7af4197752f83e8a1\"\n\nexport const REACT_APP_RPC_URL =\n\t\"https://mainnet.infura.io/v3/3d22938fd7dd41b7af4197752f83e8a1\"\n\nexport const ADEX_RELAYER_HOST = \"https://relayer.adex.network\"\n","module.exports = __webpack_public_path__ + \"static/media/walletconnect-logo.37f2bc6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/metamask-fox.c879a582.svg\";","import { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\"\nimport lime from \"@material-ui/core/colors/lime\"\nimport { fade } from \"@material-ui/core/styles/colorManipulator\"\n\nconst WHITE = \"#fafafa\"\nconst BLACK = \"#0f0f0f\"\nexport const PRIMARY = \"#494560\"\nexport const SECONDARY = \"#ff4269\"\nexport const ALEX_GREY = \"#3f3e3e\"\nexport const ALEX_GREY_LIGHT = \"#666\"\nexport const WARNING = \"#FEB006\"\nexport const SUCCESS = \"#14dc9c\"\nexport const INFO = \"#1b75bc\"\nexport const ERROR = \"#ff6969\"\nexport const TEXT_SECONDARY = \"#3314443D\"\nexport const TEXT_MAIN = \"#7B7597\"\nexport const PAPER = \"#29253B\"\nexport const DARKER_PAPER = \"#1A1825\"\nexport const BACKGROUND_DEFAULT = \"#131313\"\nexport const BACKGROUND_SPECIAL = \"#4e3db3\"\n\nconst palette = {\n\ttype: \"dark\",\n\tprimary: { main: PRIMARY, contrastText: WHITE },\n\tsecondary: { main: SECONDARY, contrastText: WHITE },\n\tgrey: { main: ALEX_GREY, contrastText: WHITE },\n\twarning: {\n\t\tmain: WARNING,\n\t\tcontrastText: BLACK\n\t},\n\tsuccess: {\n\t\tmain: SUCCESS,\n\t\tcontrastText: BLACK\n\t},\n\tinfo: {\n\t\tmain: INFO,\n\t\tcontrastText: WHITE\n\t},\n\terror: {\n\t\tmain: ERROR,\n\t\tcontrastText: WHITE\n\t},\n\tfirst: lime,\n\ttext: {\n\t\tmain: TEXT_MAIN,\n\t\tprimary: fade(WHITE, 0.69),\n\t\tsecondary: fade(WHITE, 0.42),\n\t\tdisabled: fade(WHITE, 0.1948),\n\t\thint: fade(WHITE, 0.13)\n\t},\n\tdivider: fade(WHITE, 0.13),\n\tbackground: {\n\t\tdarkerPaper: DARKER_PAPER,\n\t\tpaper: PAPER,\n\t\tdefault: BLACK,\n\t\tspecial: BACKGROUND_SPECIAL\n\t},\n\toverlay: fade(DARKER_PAPER, 0.69),\n\taction: {\n\t\taction: fade(WHITE, 0.46),\n\t\thover: fade(WHITE, 0.069),\n\t\thoverOpacity: 0.069,\n\t\tselected: fade(WHITE, 0.1914),\n\t\tselectedOpacity: 0.1914,\n\t\tdisabled: fade(WHITE, 0.1948),\n\t\tdisabledOpacity: 0.48,\n\t\tfocus: fade(WHITE, 0.18),\n\t\tfocusOpacity: 0.18,\n\t\tactivatedOpacity: 0.18\n\t},\n\tcommon: {\n\t\twhite: WHITE,\n\t\tblack: BLACK\n\t}\n}\n\nconst typography = {\n\tfontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n\tfontSize: 14.2\n}\n\nconst shadows = [\n\t\"none\",\n\t\"0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)\",\n\t\"0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)\",\n\t\"0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)\",\n\t\"0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)\",\n\t\"0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)\",\n\t\"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)\",\n\t\"0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)\",\n\t\"0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)\",\n\t\"0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)\",\n\t\"0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)\",\n\t\"0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)\",\n\t\"0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)\",\n\t\"0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)\",\n\t\"0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)\",\n\t\"0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)\",\n\t\"0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)\",\n\t\"0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)\",\n\t\"0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)\",\n\t\"0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)\",\n\t\"0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)\",\n\t\"0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)\",\n\t\"0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)\",\n\t\"0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)\",\n\t\"0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)\",\n\t\"3px 4px 15px 0px rgba(0,0,0,1)\"\n]\n\nconst defaultTheme = createMuiTheme({ typography, palette })\n\nconst theme = createMuiTheme({\n\tshadows,\n\ttypography,\n\tpalette,\n\toverrides: {\n\t\tMuiButton: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0\n\t\t\t},\n\t\t\toutlined: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderColor: ALEX_GREY\n\t\t\t},\n\t\t\tcontained: {\n\t\t\t\tbackgroundColor: ALEX_GREY,\n\t\t\t\tcolor: WHITE,\n\t\t\t\tboxShadow: 0,\n\t\t\t\t\"&:hover\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t},\n\t\t\t\t\"&$focusVisible\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t},\n\t\t\t\t\"&:active\": {\n\t\t\t\t\tbackgroundColor: ALEX_GREY_LIGHT\n\t\t\t\t},\n\t\t\t\t\"&:disabled\": {\n\t\t\t\t\tbackgroundColor: fade(WHITE, 0.12),\n\t\t\t\t\tcolor: fade(WHITE, 0.26)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tMuiFab: {\n\t\t\troot: {\n\t\t\t\tboxShadow: 0,\n\t\t\t\t\"&:disabled\": {\n\t\t\t\t\tbackgroundColor: fade(WHITE, 0.12),\n\t\t\t\t\tcolor: fade(WHITE, 0.26)\n\t\t\t\t},\n\t\t\t\t\"&:active\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t},\n\t\t\t\t\"&$focusVisible\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t},\n\t\t\t\t\"&$disabled\": {\n\t\t\t\t\tboxShadow: 0\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tMuiTableCell: {\n\t\t\thead: {\n\t\t\t\twhiteSpace: \"nowrap\",\n\t\t\t\tcolor: defaultTheme.palette.text.main,\n\t\t\t\tfontWeight: 700\n\t\t\t},\n\t\t\troot: {\n\t\t\t\twhiteSpace: \"nowrap\"\n\t\t\t}\n\t\t},\n\t\tMuiPaper: {\n\t\t\trounded: {\n\t\t\t\tborderRadius: 0\n\t\t\t}\n\t\t},\n\t\tMuiTooltip: {\n\t\t\ttooltip: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tfontSize: \"0.9em\",\n\t\t\t\tbackgroundColor: fade(DARKER_PAPER, 0.9),\n\t\t\t\tpadding: defaultTheme.spacing(2)\n\t\t\t},\n\t\t\tarrow: { color: fade(DARKER_PAPER, 0.9) }\n\t\t},\n\t\tMuiDrawer: {\n\t\t\tpaperAnchorLeft: {\n\t\t\t\tborderRight: 0\n\t\t\t},\n\t\t\tpaperAnchorDockedLeft: {\n\t\t\t\tborderRight: 0\n\t\t\t}\n\t\t},\n\t\tMuiAlert: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tmaxWidth: \"100%\",\n\t\t\t\talignItems: \"center\"\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t\twordBreak: \"break-word\"\n\t\t\t},\n\t\t\toutlinedSuccess: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedInfo: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedWarning: {\n\t\t\t\tbackgroundColor: BLACK\n\t\t\t},\n\t\t\toutlinedError: {\n\t\t\t\tbackgroundColor: WHITE\n\t\t\t},\n\t\t\tfilledSuccess: {\n\t\t\t\tcolor: defaultTheme.palette.success.contrastText\n\t\t\t},\n\t\t\tfilledInfo: {\n\t\t\t\tcolor: defaultTheme.palette.info.contrastText\n\t\t\t},\n\t\t\tfilledWarning: {\n\t\t\t\tcolor: defaultTheme.palette.warning.contrastText\n\t\t\t},\n\t\t\tfilledError: {\n\t\t\t\tcolor: defaultTheme.palette.error.contrastText\n\t\t\t}\n\t\t},\n\t\tMuiBackdrop: {\n\t\t\troot: {\n\t\t\t\tbackgroundColor: fade(BLACK, 0.69)\n\t\t\t}\n\t\t},\n\t\tMuiFilledInput: {\n\t\t\troot: {\n\t\t\t\tborderRadius: 0,\n\t\t\t\tborderTopLeftRadius: 0,\n\t\t\t\tborderTopRightRadius: 0\n\t\t\t}\n\t\t}\n\t\t// MuiDrawer: {\n\t\t// \troot: {\n\t\t// \t\ttop: 0,\n\t\t// \t\tleft: 0,\n\t\t// \t\tbottom: 'auto',\n\t\t// \t\tright: 'auto',\n\t\t// \t\twidth: '100vw',\n\t\t// \t\theight: '100vh',\n\t\t// \t\tposition: 'fixed'\n\t\t// \t},\n\t\t// \tpaper: {\n\t\t// \t\ttop: 0,\n\t\t// \t\tleft: 0,\n\t\t// \t\theight: '100%',\n\t\t// \t\tposition: 'absolute'\n\t\t// \t}\n\t\t// }\n\t}\n})\n\nexport const themeMUI = responsiveFontSizes(theme, {\n\tbreakpoints: [\"xs\", \"sm\", \"md\", \"lg\", \"xl\"],\n\tfactor: 3\n})\n","import { formatUnits, parseUnits, commify, bigNumberify } from \"ethers/utils\"\n\nexport function formatADX(num) {\n\treturn formatUnits(num, 18)\n}\n\nexport function formatADXPretty(num) {\n\treturn commify(formatUnits(num.div(\"100000000000000\"), 4))\n}\n\nexport function formatDAI(num) {\n\treturn formatUnits(num, 18)\n}\n\nexport function formatDAIPretty(num) {\n\treturn commify(formatUnits(num.div(\"10000000000000000\"), 2))\n}\n\nexport function formatAmountPretty(num, currency) {\n\tif (!num) {\n\t\treturn num\n\t}\n\n\tswitch (currency) {\n\t\tcase \"DAI\":\n\t\t\treturn formatDAIPretty(bigNumberify(num))\n\t\tcase \"ADX\":\n\t\t\treturn formatADXPretty(bigNumberify(num))\n\t\tdefault:\n\t\t\treturn num.toLocaleString(10)\n\t}\n}\n\nexport function parseADX(n) {\n\treturn parseUnits(n, 18)\n}\n\nexport function formatDate(d) {\n\treturn `${d.getDate()} ${d.toLocaleString(\"default\", {\n\t\tmonth: \"short\"\n\t})} ${d.getFullYear()}`\n}\n\n// @TODO refactor to take pool arguments and use pool constants\nexport function getApproxAPY(bond, totalStake, isEarly) {\n\tif (!totalStake || totalStake.isZero()) return 0\n\tconst earlyDistributionEnds = 1599177600000\n\tconst bondCreatedSeconds =\n\t\tbond && bond.nonce ? bond.nonce.toNumber() : Date.now() / 1000\n\tconst getsEarlyBird =\n\t\t(isEarly || bondCreatedSeconds < 1597276800) &&\n\t\tDate.now() < earlyDistributionEnds\n\t// this reward is distributed over that many days, hence * (365/145)\n\tconst base = (6000000 / parseFloat(formatADX(totalStake), 10)) * (365 / 145)\n\tconst early = (1000000 / parseFloat(formatADX(totalStake), 10)) * (365 / 30)\n\treturn base + (getsEarlyBird ? early : 0)\n\t// @TODO DAI rewards\n}\n\nexport function getADXInUSD(prices, ADX) {\n\tif (!prices || !prices.USD) return 0\n\tconst adxUsd = parseFloat(formatADX(ADX || 0), 10) * prices.USD\n\treturn adxUsd\n}\n\nexport function getADXInUSDFormatted(prices, ADX) {\n\tconst adxUsd = getADXInUSD(prices, ADX)\n\treturn `$ ${commify(adxUsd.toFixed(2))}`\n}\n\nexport function getDAIInUSD(DAI) {\n\tconst adxUsd = parseFloat(formatDAI(DAI || 0), 10) * 1\n\treturn adxUsd\n}\n\nexport function getUSDFormatted(usdAmount) {\n\treturn `$ ${commify(parseFloat(usdAmount.toFixed(2)))}`\n}\n\nexport const formatAddress = (address = \"\", joinSymbol = \"...\") => {\n\treturn `${address.substring(0, 6)}${joinSymbol}${address.substring(38, 42)}`\n}\n\nexport const toIdAttributeString = (string, defaultValue) => {\n\tif (typeof string === \"string\") {\n\t\treturn string.replace(/([^a-z0-9]+)/gi, \"-\").toLowerCase()\n\t} else {\n\t\treturn defaultValue || \"\"\n\t}\n}\n","import React from \"react\"\n\nconst AppContext = React.createContext()\n\nexport default AppContext\n","import React from \"react\"\nimport { Tooltip } from \"@material-ui/core\"\n\nconst CommonTooltip = ({ children, ...props }) => (\n\t<Tooltip\n\t\tleaveTouchDelay={16900}\n\t\tenterTouchDelay={420}\n\t\t{...props}\n\t\t{...(!props.title\n\t\t\t? {\n\t\t\t\t\tdisableFocusListener: true,\n\t\t\t\t\tdisableHoverListener: true,\n\t\t\t\t\tdisableTouchListener: true\n\t\t\t  }\n\t\t\t: {})}\n\t>\n\t\t{children}\n\t</Tooltip>\n)\n\nexport default CommonTooltip\n","import React, { Fragment } from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { InfoSharp as InfoIcon } from \"@material-ui/icons\"\nimport Tooltip from \"./Tooltip\"\n\nconst ExtraLabel = ({ label = \"\" }) =>\n\tArray.isArray(label) ? (\n\t\t<Fragment>\n\t\t\t{label.map((x, index) => (\n\t\t\t\t<Typography\n\t\t\t\t\tkey={index}\n\t\t\t\t\tdisplay=\"block\"\n\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t>\n\t\t\t\t\t{x}\n\t\t\t\t</Typography>\n\t\t\t))}\n\t\t</Fragment>\n\t) : (\n\t\tlabel\n\t)\n\nexport function Info({ title }) {\n\treturn (\n\t\t<Tooltip title={<ExtraLabel label={title} />}>\n\t\t\t<InfoIcon fontSize=\"inherit\" />\n\t\t</Tooltip>\n\t)\n}\n\nfunction AmountTextSingle({ text = \"\", fontSize, multiline }) {\n\tconst decimalSeparatorSplit = text.split(\".\")\n\n\tif (decimalSeparatorSplit.length > 1) {\n\t\tconst decimalsSplit = decimalSeparatorSplit[1].split(\" \")\n\t\treturn (\n\t\t\t<Box component=\"div\" display={multiline ? \"block\" : \"inline\"}>\n\t\t\t\t<Box component=\"div\" display=\"inline\">\n\t\t\t\t\t{decimalSeparatorSplit[0]}\n\t\t\t\t\t{\".\"}\n\t\t\t\t</Box>\n\t\t\t\t<Box\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tdisplay=\"inline\"\n\t\t\t\t\tstyle={{ opacity: \"0.56\" }}\n\t\t\t\t\tfontSize={fontSize * 0.8}\n\t\t\t\t>\n\t\t\t\t\t{decimalsSplit[0]}\n\t\t\t\t</Box>\n\t\t\t\t{decimalsSplit[1] && (\n\t\t\t\t\t<Box component=\"div\" display=\"inline\" fontSize={fontSize * 0.8}>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t{decimalsSplit[1]}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t)\n\t} else {\n\t\treturn text\n\t}\n}\n\nexport function AmountText({ text = \"\", fontSize, multiline }) {\n\tconst multipleAmountsSplit = text\n\t\t.split(\";\")\n\t\t.map(x => x.trim())\n\t\t.filter(x => !!x)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{multipleAmountsSplit\n\t\t\t\t.map((x, i) => (\n\t\t\t\t\t<AmountTextSingle\n\t\t\t\t\t\tkey={i + x.toString()}\n\t\t\t\t\t\ttext={x}\n\t\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\t\tmultiline={multiline}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t\t.reduce((prev, curr) => [prev, multiline ? null : \"; \", curr])}\n\t\t</Fragment>\n\t)\n}\n\nexport function CardRow({\n\ttext,\n\tinfoText,\n\tfontWeight,\n\tfontSize,\n\tcolor,\n\tjustify,\n\tisAmountText,\n\tmultilineLinesAmounts,\n\t...restBox\n}) {\n\treturn (\n\t\t<Box {...restBox}>\n\t\t\t<Typography component=\"div\" variant=\"body2\">\n\t\t\t\t<Box\n\t\t\t\t\tcolor={color}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t\tjustifyContent={justify || \"flex-start\"}\n\t\t\t\t>\n\t\t\t\t\t<Box style={{ wordBreak: \"break-word\" }}>\n\t\t\t\t\t\t{isAmountText ? (\n\t\t\t\t\t\t\t<AmountText\n\t\t\t\t\t\t\t\ttext={text}\n\t\t\t\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\t\t\t\tmultiline={multilineLinesAmounts}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t{infoText && (\n\t\t\t\t\t\t<Box ml={0.69} display=\"flex\">\n\t\t\t\t\t\t\t<Info title={infoText} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t</Typography>\n\t\t</Box>\n\t)\n}\n","import { POOLS, ADDR_STAKING } from \"./constants\"\nimport { keccak256, defaultAbiCoder } from \"ethers/utils\"\n\nexport const getPool = poolId => POOLS.find(x => x.id === poolId)\nexport function getBondId({ owner, amount, poolId, nonce }) {\n\treturn keccak256(\n\t\tdefaultAbiCoder.encode(\n\t\t\t[\"address\", \"address\", \"uint\", \"bytes32\", \"uint\"],\n\t\t\t[ADDR_STAKING, owner, amount, poolId, nonce]\n\t\t)\n\t)\n}\n","import React from \"react\"\nimport {\n\tTableRow,\n\tTableCell,\n\tButton,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody\n} from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\nimport { UNBOND_DAYS, ZERO } from \"../helpers/constants\"\nimport {\n\tformatADXPretty,\n\tgetApproxAPY,\n\tformatDate\n} from \"../helpers/formatting\"\nimport { AmountText } from \"./cardCommon\"\nimport { getPool, getBondId } from \"../helpers/bonds\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function Bonds({ stats, onRequestUnbond, onUnbond }) {\n\tconst { t } = useTranslation()\n\n\t// Render all stats cards + bond table\n\tconst bondStatus = bond => {\n\t\tif (bond.status === \"UnbondRequested\") {\n\t\t\tconst willUnlock = bond.willUnlock.getTime()\n\t\t\tconst now = Date.now()\n\t\t\tif (willUnlock > now) {\n\t\t\t\tconst days = Math.ceil((willUnlock - now) / 86400000)\n\t\t\t\treturn t(\"bonds.canUnbondIn\", { count: days })\n\t\t\t} else {\n\t\t\t\treturn t(\"bonds.canUnbond\")\n\t\t\t}\n\t\t}\n\t\tif (bond.status === \"Active\") {\n\t\t\treturn `Active, earning ${(\n\t\t\t\tgetApproxAPY(bond, stats.totalStakeTom) * 100\n\t\t\t).toFixed(2)}% APY`\n\t\t}\n\t\treturn bond.status\n\t}\n\n\tconst renderBondRow = bond => {\n\t\tconst pool = getPool(bond.poolId)\n\t\tconst poolLabel = pool ? pool.label : bond.poolId\n\t\tconst created = new Date(\n\t\t\t(bond.nonce.gt(ZERO) ? bond.nonce : bond.time).toNumber() * 1000\n\t\t)\n\t\tconst bondId = getBondId(bond)\n\t\treturn (\n\t\t\t<TableRow key={bondId}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`${formatADXPretty(bond.currentAmount)} ${\"ADX\"}`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">{t(poolLabel)}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{formatDate(created)}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{bondStatus(bond)}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{bond.status === \"Active\" ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`request-unbond-${bondId}`}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => onRequestUnbond(bond)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"bonds.requestUnbond\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`unbond-${bondId}`}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\tbond.status === \"Unbonded\" ||\n\t\t\t\t\t\t\t\t!bond.willUnlock ||\n\t\t\t\t\t\t\t\tbond.willUnlock.getTime() > Date.now()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={() => onUnbond(bond)}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"common.unbond\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t<TableContainer xs={12}>\n\t\t\t\t<Table aria-label=\"Bonds table\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell>{t(\"bonds.bondAmount\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.pool\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.created\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.status\")}</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.actions\")}</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{[...(stats.userBonds || [])]\n\t\t\t\t\t\t\t.filter(x => x.status !== \"Unbonded\")\n\t\t\t\t\t\t\t.reverse()\n\t\t\t\t\t\t\t.map(renderBondRow)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\n\t\t\t{!stats.loaded || stats.userBonds.length ? null : (\n\t\t\t\t<Box mt={2}>\n\t\t\t\t\t<Alert variant=\"filled\" severity=\"info\">\n\t\t\t\t\t\t{t(\"bonds.bondExplanationMsg\", { count: UNBOND_DAYS })}\n\t\t\t\t\t</Alert>\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n","import React, { Fragment, useState, forwardRef } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tButton,\n\tBox,\n\tFab,\n\tIconButton,\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tSlide,\n\tDialogActions,\n\tTypography\n} from \"@material-ui/core\"\nimport clsx from \"clsx\"\nimport { withStyles } from \"@material-ui/core/styles\"\nimport CancelIcon from \"@material-ui/icons/Cancel\"\nimport Tooltip from \"./Tooltip\"\n\nexport const styles = theme => {\n\tconst spacing = theme.spacing(2)\n\treturn {\n\t\tdialog: {\n\t\t\t// height: `calc(100vh - ${spacing}px)`,\n\t\t\t// minWidth: 999,\n\t\t\t// maxWidth: 999,\n\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t\t// \"@media(max-width:1080px)\": {\n\t\t\t// \tmaxWidth: \"100%\",\n\t\t\t// \tminWidth: `calc(100vw - ${spacing}px)`\n\t\t\t// }\n\t\t},\n\t\tdialogTitle: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"row\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t\twordWrap: \"break-word\",\n\t\t\tmargin: spacing,\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t\tmarginBottom: 0,\n\t\t\tpadding: 0\n\t\t},\n\t\tcontent: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tflex: \"1 1 auto\",\n\t\t\tposition: \"relative\",\n\t\t\tpadding: spacing,\n\t\t\tmargin: 0,\n\t\t\toverflowX: \"visible\",\n\t\t\toverflowY: \"auto\"\n\t\t},\n\t\ttextBtn: {\n\t\t\tcursor: \"pointer\"\n\t\t},\n\t\tbtnIconLeft: {\n\t\t\tmarginRight: theme.spacing(1)\n\t\t},\n\t\tbreakLong: {\n\t\t\twordBreak: \"break-word\",\n\t\t\toverflowWrap: \"break-word\",\n\t\t\thyphens: \"auto\"\n\t\t}\n\t}\n}\n\nconst textBtn = ({ label, className, classes, style, onClick, ...rest }) => {\n\treturn (\n\t\t<span\n\t\t\tclassName={clsx(classes.textBtn, className)}\n\t\t\tstyle={style}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{\" \"}\n\t\t\t{label}{\" \"}\n\t\t</span>\n\t)\n}\n\nconst TextBtn = withStyles(styles)(textBtn)\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n\treturn <Slide direction=\"up\" ref={ref} {...props} />\n})\n\nconst useStyles = makeStyles(styles)\n\nexport default function WithDialogHoc(Decorated) {\n\tfunction WithDialog(props) {\n\t\tconst {\n\t\t\tid,\n\t\t\tdisableBackdropClick = false,\n\t\t\tforwardedRef,\n\t\t\ticonButton,\n\t\t\ttextButton,\n\t\t\tfabButton,\n\t\t\tvariant,\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tmini,\n\t\t\tbtnLabel,\n\t\t\tdisabled,\n\t\t\tclassName,\n\t\t\ticon,\n\t\t\ttitle,\n\t\t\tdialogActions,\n\t\t\tonClick,\n\t\t\tfullWidth,\n\t\t\tonBeforeOpen,\n\t\t\ttooltipTitle,\n\t\t\t...rest\n\t\t} = props\n\n\t\tconst btnProps = {\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\tvariant\n\t\t}\n\n\t\tconst classes = useStyles()\n\t\tconst [open, setOpen] = useState(false)\n\n\t\tconst handleToggle = async () => {\n\t\t\tif (typeof onBeforeOpen === \"function\" && !open) {\n\t\t\t\tawait onBeforeOpen()\n\t\t\t}\n\n\t\t\tsetOpen(!open)\n\t\t}\n\n\t\tconst handleClick = async ev => {\n\t\t\tev && ev.stopPropagation && ev.stopPropagation()\n\t\t\tev && ev.preventDefault && ev.preventDefault()\n\t\t\tawait handleToggle()\n\t\t\tif (onClick) await onClick()\n\t\t}\n\n\t\tconst closeDialog = () => {\n\t\t\tsetOpen(false)\n\t\t}\n\n\t\tlet ButtonComponent = null\n\n\t\tif (iconButton) {\n\t\t\tButtonComponent = IconButton\n\t\t} else if (textButton) {\n\t\t\tButtonComponent = TextBtn\n\t\t} else if (fabButton) {\n\t\t\tButtonComponent = Fab\n\t\t} else {\n\t\t\tButtonComponent = Button\n\t\t\tbtnProps.fullWidth = fullWidth\n\t\t}\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Tooltip title={tooltipTitle || \"\"}>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay=\"inline-block\"\n\t\t\t\t\t\t{...(btnProps.fullWidth ? { width: 1 } : {})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\taria-label={btnLabel || \"\"}\n\t\t\t\t\t\t\tlabel={btnLabel || \"\"}\n\t\t\t\t\t\t\tonClick={ev => handleClick(ev)}\n\t\t\t\t\t\t\t{...btnProps}\n\t\t\t\t\t\t\tclassName={clsx(\n\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t{ [classes.floating]: !!fabButton },\n\t\t\t\t\t\t\t\t{ [classes.first]: color === \"first\" },\n\t\t\t\t\t\t\t\t{ [classes.second]: color === \"second\" }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t\t{(!iconButton && btnLabel) || \"\"}\n\t\t\t\t\t\t</ButtonComponent>\n\t\t\t\t\t</Box>\n\t\t\t\t</Tooltip>\n\t\t\t\t<Dialog\n\t\t\t\t\tdisableBackdropClick={disableBackdropClick}\n\t\t\t\t\t// disableEscapeKeyDown\n\t\t\t\t\t// maxWidth=\"xs\"\n\t\t\t\t\t// fullScreen\n\t\t\t\t\topen={open}\n\t\t\t\t\tonClose={handleToggle}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tclasses={{ paper: classes.dialog }}\n\t\t\t\t\t// onEscKeyDown={handleToggle}\n\t\t\t\t\t// onOverlayClick={handleToggle}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle\n\t\t\t\t\t\tdisableTypography\n\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\troot: clsx(classes.dialogTitle, classes.breakLong)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant=\"h4\">{title}</Typography>\n\t\t\t\t\t\t<IconButton onClick={handleToggle} size=\"small\">\n\t\t\t\t\t\t\t<CancelIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent classes={{ root: classes.content }}>\n\t\t\t\t\t\t<Decorated ref={forwardedRef} {...rest} closeDialog={closeDialog} />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t{dialogActions && <DialogActions>{dialogActions}</DialogActions>}\n\t\t\t\t</Dialog>\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\tWithDialog.propTypes = {\n\t\tbtnLabel: PropTypes.string,\n\t\ttitle: PropTypes.string.isRequired,\n\t\tfloating: PropTypes.bool,\n\t\tonBeforeOpen: PropTypes.func\n\t}\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithDialog {...props} forwardedRef={ref} />\n\t))\n}\n","import { providers } from \"ethers\"\n\nimport { REACT_APP_INFURA_ID } from \"./helpers/constants\"\n\nexport const defaultProvider = new providers.InfuraProvider(\n\t\"homestead\",\n\tREACT_APP_INFURA_ID\n)\n\nexport async function getSigner(chosenWalletType) {\n\t// console.log(\"chosenWalletType\", chosenWalletType)\n\tif (!chosenWalletType || !chosenWalletType.library)\n\t\tthrow new Error(\"Wallet not connected\")\n\treturn chosenWalletType.library.getSigner()\n}\n","import { Contract } from \"ethers\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport ADXLoyaltyPoolTokenABI from \"../abi/ADXLoyaltyPoolToken\"\nimport {\n\tADDR_ADX,\n\tADDR_ADX_LOYALTY_TOKEN,\n\tZERO,\n\tMAX_UINT,\n\tDEPOSIT_POOLS\n} from \"../helpers/constants\"\nimport { getSigner, defaultProvider } from \"../ethereum\"\n\nexport const getDepositPool = poolId => DEPOSIT_POOLS.find(x => x.id === poolId)\n\nconst provider = defaultProvider\nconst Token = new Contract(ADDR_ADX, ERC20ABI, provider)\nconst LoyaltyToken = new Contract(\n\tADDR_ADX_LOYALTY_TOKEN,\n\tADXLoyaltyPoolTokenABI,\n\tprovider\n)\nconst ZERO_ADDR = \"0x0000000000000000000000000000000000000000\"\nconst ADX_LP_TOKEN_DECIMALS_MUL = \"1000000000000000000\"\n\nexport const LOYALTY_POOP_EMPTY_STATS = {\n\tbalanceLpToken: ZERO,\n\tbalanceLpADX: ZERO,\n\trewardADX: ZERO,\n\tpoolTotalStaked: ZERO,\n\tcurrentAPY: 0,\n\tpoolDepositsLimit: ZERO,\n\tloaded: false,\n\tuserDataLoaded: false\n}\n\nexport async function loadLoyaltyPoolData() {\n\tconst [poolTotalStaked, currentAPY, poolDepositsLimit] = await Promise.all([\n\t\tToken.balanceOf(ADDR_ADX_LOYALTY_TOKEN),\n\t\tLoyaltyToken.incentivePerTokenPerAnnum(),\n\t\tLoyaltyToken.maxTotalADX()\n\t])\n\n\treturn {\n\t\tpoolTotalStaked,\n\t\tpoolDepositsLimit,\n\t\tcurrentAPY:\n\t\t\tcurrentAPY\n\t\t\t\t.mul(1000)\n\t\t\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\t\t\t\t.toNumber() / 1000\n\t}\n}\n\nexport async function loadUserLoyaltyPoolsStats(walletAddr) {\n\tconst poolData = await loadLoyaltyPoolData()\n\tif (!walletAddr) {\n\t\treturn {\n\t\t\t...LOYALTY_POOP_EMPTY_STATS,\n\t\t\t...poolData,\n\t\t\tloaded: true\n\t\t}\n\t}\n\n\tconst [\n\t\tbalanceLpToken,\n\t\tcurrentShareValue,\n\t\tloyaltyTokenTransfersLogs,\n\t\tadexTokenTransfersLogs\n\t] = await Promise.all([\n\t\tLoyaltyToken.balanceOf(walletAddr),\n\t\tLoyaltyToken.shareValue(),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...LoyaltyToken.filters.Transfer(null, walletAddr, null)\n\t\t}),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\t...Token.filters.Transfer(walletAddr, ADDR_ADX_LOYALTY_TOKEN, null)\n\t\t})\n\t])\n\n\tconst balanceLpADX = balanceLpToken\n\t\t.mul(currentShareValue)\n\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\n\tconst currentBalance = {\n\t\t...poolData,\n\t\tbalanceLpToken,\n\t\tbalanceLpADX,\n\t\tloaded: true,\n\t\tuserDataLoaded: true\n\t}\n\n\tconst hasExternalLoyaltyTokenTransfers = loyaltyTokenTransfersLogs.some(\n\t\tlog => LoyaltyToken.interface.parseLog(log).values[0] !== ZERO_ADDR\n\t)\n\n\t// reward === null => unknown reward - can not be calculated\n\tif (hasExternalLoyaltyTokenTransfers) {\n\t\tcurrentBalance.rewardADX = null\n\t\treturn currentBalance\n\t}\n\n\tconst adxTransfersByTxHash = adexTokenTransfersLogs.reduce((txns, log) => {\n\t\ttxns[log.transactionHash] = log\n\t\treturn txns\n\t}, {})\n\n\tconst userDeposits = loyaltyTokenTransfersLogs.reduce(\n\t\t(deposits, log) => {\n\t\t\tconst axdTransferLog = adxTransfersByTxHash[log.transactionHash]\n\n\t\t\tif (axdTransferLog) {\n\t\t\t\tconst lpTokenLog = LoyaltyToken.interface.parseLog(log)\n\t\t\t\tconst adxTransferLog = Token.interface.parseLog(axdTransferLog)\n\n\t\t\t\tdeposits.adx = deposits.adx.add(lpTokenLog.values[2])\n\t\t\t\tdeposits.adxLPT = deposits.adxLPT.add(adxTransferLog.values[2])\n\t\t\t}\n\n\t\t\treturn deposits\n\t\t},\n\t\t{ adx: ZERO, adxLPT: ZERO }\n\t)\n\n\t// multiply by decimals to keep the precision\n\tconst avgDepositShareValue = userDeposits.adx.isZero()\n\t\t? ZERO\n\t\t: userDeposits.adxLPT.mul(ADX_LP_TOKEN_DECIMALS_MUL).div(userDeposits.adx)\n\n\tconst reward = balanceLpToken\n\t\t.mul(currentShareValue.sub(avgDepositShareValue))\n\t\t.div(ADX_LP_TOKEN_DECIMALS_MUL)\n\n\t// console.log('reward', reward.toString())\n\t// console.log('balanceLpToken', balanceLpToken.toString())\n\t// console.log('balanceLpADX', balanceLpADX.toString())\n\n\tcurrentBalance.rewardADX = reward\n\n\treturn currentBalance\n}\n\nexport async function onLoyaltyPoolDeposit(\n\tstats,\n\tchosenWalletType,\n\tadxDepositAmount\n) {\n\tif (!stats) throw new Error(\"errors.statsNotProvided\")\n\tif (!adxDepositAmount) throw new Error(\"errors.noDepositAmount\")\n\tif (adxDepositAmount.isZero()) throw new Error(\"errors.zeroDeposit\")\n\tif (adxDepositAmount.gt(stats.userBalance))\n\t\tthrow new Error(\"errors.amountTooLarge\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tconst walletAddr = await signer.getAddress()\n\n\tconst [allowanceADXLOYALTY] = await Promise.all([\n\t\tToken.allowance(walletAddr, LoyaltyToken.address)\n\t])\n\n\tconst setAllowance = allowanceADXLOYALTY.lt(adxDepositAmount)\n\n\tif (setAllowance) {\n\t\tconst tokenWithSigner = new Contract(ADDR_ADX, ERC20ABI, signer)\n\t\tawait tokenWithSigner.approve(LoyaltyToken.address, MAX_UINT)\n\t}\n\n\tconst loyaltyTokenWithSigner = new Contract(\n\t\tADDR_ADX_LOYALTY_TOKEN,\n\t\tADXLoyaltyPoolTokenABI,\n\t\tsigner\n\t)\n\n\tawait loyaltyTokenWithSigner.enter(\n\t\tadxDepositAmount,\n\t\tsetAllowance ? { gasLimit: 150000 } : {}\n\t)\n}\n\nexport async function onLoyaltyPoolWithdraw(\n\tstats,\n\tchosenWalletType,\n\twithdrawAmountADX\n) {\n\tif (!stats) throw new Error(\"errors.statsNotProvided\")\n\n\tconst { balanceLpADX, balanceLpToken } = stats.loyaltyPoolStats\n\n\tif (!withdrawAmountADX) throw new Error(\"errors.noWithdrawAmount\")\n\tif (balanceLpADX.isZero()) throw new Error(\"errors.zeroDeposit\")\n\tif (withdrawAmountADX.gt(balanceLpADX))\n\t\tthrow new Error(\"errors.amountTooLarge\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\n\tconst loyaltyTokenWithSigner = new Contract(\n\t\tADDR_ADX_LOYALTY_TOKEN,\n\t\tADXLoyaltyPoolTokenABI,\n\t\tsigner\n\t)\n\n\tconst lpTokensToWithdraw = withdrawAmountADX\n\t\t.mul(balanceLpToken)\n\t\t.div(balanceLpADX)\n\tawait loyaltyTokenWithSigner.leave(lpTokensToWithdraw)\n}\n","import { Contract } from \"ethers\"\nimport { bigNumberify, hexZeroPad, id } from \"ethers/utils\"\nimport BalanceTree from \"adex-protocol-eth/js/BalanceTree\"\nimport { splitSig, Transaction } from \"adex-protocol-eth/js\"\nimport StakingABI from \"adex-protocol-eth/abi/Staking\"\nimport IdentityABI from \"adex-protocol-eth/abi/Identity\"\nimport CoreABI from \"adex-protocol-eth/abi/AdExCore\"\nimport FactoryABI from \"adex-protocol-eth/abi/IdentityFactory\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport {\n\tADDR_STAKING,\n\tADDR_FACTORY,\n\tADDR_ADX,\n\tMAX_UINT,\n\tZERO,\n\tPOOLS\n} from \"../helpers/constants\"\nimport { getBondId } from \"../helpers/bonds\"\nimport { getUserIdentity, zeroFeeTx, rawZeroFeeTx } from \"../helpers/identity\"\nimport { ADEX_RELAYER_HOST, PRICES_API_URL } from \"../helpers/constants\"\nimport { getSigner, defaultProvider } from \"../ethereum\"\nimport {\n\tloadUserLoyaltyPoolsStats,\n\tLOYALTY_POOP_EMPTY_STATS\n} from \"./loyaltyPoolActions\"\n\nconst ADDR_CORE = \"0x333420fc6a897356e69b62417cd17ff012177d2b\"\n// const ADDR_ADX_OLD = \"0x4470bb87d77b963a013db939be332f927f2b992e\"\n\nconst provider = defaultProvider\nconst Staking = new Contract(ADDR_STAKING, StakingABI, provider)\nconst Token = new Contract(ADDR_ADX, ERC20ABI, provider)\nconst Core = new Contract(ADDR_CORE, CoreABI, provider)\n\nconst MAX_SLASH = bigNumberify(\"1000000000000000000\")\nconst SECONDS_IN_YEAR = 365 * 24 * 60 * 60\n\n// 0.2 DAI or ADX\nconst OUTSTANDING_REWARD_THRESHOLD = bigNumberify(\"200000000000000000\")\n\nexport const POOL_EMPTY_STATS = {\n\ttotalStake: ZERO,\n\tcurrentAdxIncentiveAPY: 0,\n\tlastDaiFeesAPY: 0,\n\ttotalAPY: 0,\n\tuserRewardsADX: ZERO,\n\tuserRewardsDAI: ZERO,\n\tloaded: false,\n\tuserDataLoaded: false,\n\trewardChannels: [],\n\tuserBonds: []\n}\n\nexport const EMPTY_STATS = {\n\tconnectedWalletAddress: null,\n\tloaded: false,\n\tuserBonds: [],\n\tuserBalance: ZERO,\n\ttotalStake: ZERO,\n\ttotalStakeTom: ZERO,\n\trewardChannels: [],\n\ttotalRewardADX: ZERO,\n\ttotalRewardDAI: ZERO,\n\ttomRewardADX: ZERO,\n\tapyTomADX: 0,\n\tuserTotalStake: ZERO,\n\ttotalBalanceADX: ZERO,\n\tuserWalletBalance: ZERO,\n\tuserIdentityBalance: ZERO,\n\tcanExecuteGasless: false,\n\tcanExecuteGaslessError: null,\n\tloyaltyPoolStats: LOYALTY_POOP_EMPTY_STATS,\n\ttomPoolStats: POOL_EMPTY_STATS,\n\tprices: {}\n}\n\nconst sumRewards = all =>\n\tall.map(x => x.outstandingReward).reduce((a, b) => a.add(b), ZERO)\n\nexport const isTomChannelId = channel =>\n\tchannel.channelArgs.validators.some(\n\t\tval => id(`validator:${val}`) === POOLS[0].id\n\t)\n\nexport function getIncentiveChannelCurrentAPY({ channel, totalStake }) {\n\tconst { periodEnd, stats = {} } = channel\n\n\tconst {\n\t\tcurrentRewardPerSecond = \"478927203065134100\",\n\t\tcurrentTotalActiveStake\n\t} = stats\n\n\tconst poolTotalStake = bigNumberify(currentTotalActiveStake || totalStake)\n\tconst distributionEnds = new Date(periodEnd).getTime()\n\tconst now = Date.now()\n\n\tif (now >= distributionEnds) {\n\t\treturn 0\n\t}\n\n\tconst secondsLeft = Math.floor((distributionEnds - now) / 1000)\n\n\tconst toDistribute = bigNumberify(currentRewardPerSecond).mul(secondsLeft)\n\n\tconst precision = 10_000_000\n\n\tconst apy = toDistribute\n\t\t.mul(SECONDS_IN_YEAR)\n\t\t.mul(precision)\n\t\t.div(secondsLeft)\n\t\t.div(poolTotalStake)\n\n\treturn apy.toNumber() / precision\n}\n\nexport function getValidatorFeesAPY({ channel, prices, totalStake }) {\n\tconst { periodStart, periodEnd, channelArgs, spec = {} } = channel\n\tconst { tokenAmount } = channelArgs\n\tconst { currentTotalActiveStake } = spec\n\n\tconst totalActiveStaked = bigNumberify(\n\t\tcurrentTotalActiveStake || totalStake || 0\n\t)\n\tconst pricePrecision = 1_000_00\n\n\tconst totalStakeInDaiValue = bigNumberify(totalActiveStaked)\n\t\t.mul(bigNumberify(((prices.USD || 0.2) * pricePrecision).toFixed(0)))\n\t\t.div(pricePrecision)\n\n\tconst toDistribute = bigNumberify(tokenAmount)\n\n\tconst distributionSeconds = Math.floor(\n\t\t(new Date(periodEnd) - new Date(periodStart)) / 1000\n\t)\n\n\tconst apy = toDistribute\n\t\t.mul(1000)\n\t\t.mul(\n\t\t\tbigNumberify(SECONDS_IN_YEAR)\n\t\t\t\t.mul(1000)\n\t\t\t\t.div(distributionSeconds)\n\t\t)\n\t\t.div(totalStakeInDaiValue)\n\n\treturn apy.toNumber() / (1000 * 1000)\n}\n\nfunction getChannelAPY({ channel, prices, totalStake, type }) {\n\tif (type === \"fees\") {\n\t\treturn getValidatorFeesAPY({ channel, prices, totalStake })\n\t}\n\tif (type === \"incentive\") {\n\t\treturn getIncentiveChannelCurrentAPY({ channel, totalStake })\n\t}\n}\n\nexport async function getPrices() {\n\ttry {\n\t\tconst res = await fetch(PRICES_API_URL)\n\t\treturn res.json()\n\t} catch (err) {\n\t\tconsole.error(err)\n\t\treturn null\n\t}\n}\n\nexport async function loadStats(chosenWalletType, prices) {\n\tconst [totalStake, userStats] = await Promise.all([\n\t\tToken.balanceOf(ADDR_STAKING),\n\t\tloadUserStats(chosenWalletType, prices)\n\t])\n\n\treturn { ...userStats, ...totalStake, totalStakeTom: totalStake }\n}\n\nexport async function loadActivePoolsStats(prices) {\n\tconst tomPoolStats = await getPoolStats(POOLS[0], prices)\n\n\treturn { tomPoolStats }\n}\n\nexport async function getPoolStats(pool, prices) {\n\tconst rewardChannels = await getRewardChannels(pool)\n\tconst totalStake = await Token.balanceOf(ADDR_STAKING)\n\n\tconst now = Math.floor(Date.now() / 1000)\n\n\tconst adxIncentiveRewardsChannels = rewardChannels.filter(\n\t\tx => x.channelArgs.tokenAddr === ADDR_ADX && now < x.channelArgs.validUntil\n\t)\n\n\tconst feeRewardsChannels = rewardChannels.filter(\n\t\tx => x.channelArgs.tokenAddr !== ADDR_ADX\n\t)\n\n\tconst currentActiveIncentiveChannels = adxIncentiveRewardsChannels.sort(\n\t\t(a, b) => b.channelArgs.validUntil - a.channelArgs.validUntil\n\t)\n\n\tconst lastFeeRewardChannel = feeRewardsChannels.sort(\n\t\t(a, b) => b.channelArgs.validUntil - a.channelArgs.validUntil\n\t)[0]\n\n\tconst currentAdxIncentiveAPY = currentActiveIncentiveChannels.reduce(\n\t\t(totalAPY, channel) =>\n\t\t\ttotalAPY +\n\t\t\tgetIncentiveChannelCurrentAPY({\n\t\t\t\tchannel,\n\t\t\t\ttotalStake\n\t\t\t}),\n\t\t0\n\t)\n\n\tconst lastDaiFeesAPY = getValidatorFeesAPY({\n\t\tchannel: lastFeeRewardChannel,\n\t\ttotalStake,\n\t\tprices\n\t})\n\n\tconst stats = {\n\t\t...POOL_EMPTY_STATS,\n\t\tcurrentAdxIncentiveAPY,\n\t\tlastDaiFeesAPY,\n\t\ttotalAPY: currentAdxIncentiveAPY + lastDaiFeesAPY,\n\t\tloaded: true,\n\t\ttotalStake\n\t}\n\n\treturn stats\n}\n\nexport async function loadUserStats(chosenWalletType, prices) {\n\tconst totalStake = await Token.balanceOf(ADDR_STAKING)\n\n\tif (!chosenWalletType.name) {\n\t\tconst loyaltyPoolStats = await loadUserLoyaltyPoolsStats()\n\t\tconst poolStats = await loadActivePoolsStats(prices)\n\n\t\treturn {\n\t\t\t...EMPTY_STATS,\n\t\t\tloyaltyPoolStats,\n\t\t\t...poolStats,\n\t\t\tprices,\n\t\t\tloaded: true\n\t\t}\n\t}\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) return { ...EMPTY_STATS, loaded: true }\n\n\tconst addr = await signer.getAddress()\n\tconst identityAddr = getUserIdentity(addr).addr\n\n\tconst [\n\t\t{ userBonds, userBalance, userWalletBalance, userIdentityBalance },\n\t\ttomPoolUserRewardChannels,\n\t\t{ canExecuteGasless, canExecuteGaslessError },\n\t\tloyaltyPoolStats,\n\t\tpoolsStats\n\t] = await Promise.all([\n\t\tloadBondStats(addr, identityAddr), // TODO: TOM only at the moment\n\t\tgetRewards(addr, POOLS[0], prices, totalStake),\n\t\tgetGaslessInfo(addr),\n\t\tloadUserLoyaltyPoolsStats(addr),\n\t\tloadActivePoolsStats(prices)\n\t])\n\n\tconst { tomPoolStats } = poolsStats\n\n\tconst userTotalStake = userBonds\n\t\t.filter(x => x.status === \"Active\")\n\t\t.map(x => x.currentAmount)\n\t\t.reduce((a, b) => a.add(b), ZERO)\n\n\tconst tomAdxRewardsChannels = tomPoolUserRewardChannels.filter(\n\t\tx => x.type === \"incentive\"\n\t)\n\n\tconst tomRewardADX = sumRewards(tomAdxRewardsChannels)\n\n\tconst tomPoolDaiRewardsChannels = tomPoolUserRewardChannels.filter(\n\t\tx => x.type === \"fees\"\n\t)\n\n\tconst tomRewardDAI = sumRewards(tomPoolDaiRewardsChannels)\n\n\tconst tomPoolStatsWithUserData = {\n\t\t...tomPoolStats,\n\t\tuserRewardsADX: tomRewardADX,\n\t\tuserRewardsDAI: tomRewardDAI,\n\t\tuserDataLoaded: true,\n\t\trewardChannels: tomPoolUserRewardChannels,\n\t\tuserBonds\n\t}\n\n\tconst totalBalanceADX = userBalance\n\t\t.add(tomRewardADX)\n\t\t.add(userTotalStake)\n\t\t.add(loyaltyPoolStats.balanceLpADX)\n\n\treturn {\n\t\tidentityAddr,\n\t\tconnectedWalletAddress: addr,\n\t\tuserBonds,\n\t\tuserBalance, // ADX on wallet\n\t\tloaded: true,\n\t\trewardChannels: tomPoolUserRewardChannels,\n\t\ttotalRewardADX: tomRewardADX,\n\t\ttotalRewardDAI: tomRewardDAI,\n\t\ttomRewardADX,\n\t\tuserTotalStake,\n\t\ttotalBalanceADX, // Wallet + Stake + Reward\n\t\tuserWalletBalance,\n\t\tuserIdentityBalance,\n\t\tcanExecuteGasless,\n\t\tcanExecuteGaslessError,\n\t\tloyaltyPoolStats,\n\t\ttomPoolStats: tomPoolStatsWithUserData,\n\t\tprices\n\t}\n}\n\nexport async function loadBondStats(addr, identityAddr) {\n\tconst [\n\t\t[userWalletBalance, userIdentityBalance],\n\t\tlogs,\n\t\tslashLogs\n\t] = await Promise.all([\n\t\tPromise.all([Token.balanceOf(addr), Token.balanceOf(identityAddr)]),\n\t\tprovider.getLogs({\n\t\t\tfromBlock: 0,\n\t\t\taddress: ADDR_STAKING,\n\t\t\ttopics: [null, hexZeroPad(identityAddr, 32)]\n\t\t}),\n\t\tprovider.getLogs({ fromBlock: 0, ...Staking.filters.LogSlash(null, null) })\n\t])\n\n\tconst userBalance = userWalletBalance.add(userIdentityBalance)\n\n\tconst slashedByPool = slashLogs.reduce((pools, log) => {\n\t\tconst { poolId, newSlashPts } = Staking.interface.parseLog(log).values\n\t\tpools[poolId] = newSlashPts\n\t\treturn pools\n\t}, {})\n\n\tconst userBonds = logs.reduce((bonds, log) => {\n\t\tconst topic = log.topics[0]\n\t\tconst evs = Staking.interface.events\n\t\tif (topic === evs.LogBond.topic) {\n\t\t\tconst vals = Staking.interface.parseLog(log).values\n\t\t\tconst { owner, amount, poolId, nonce, slashedAtStart, time } = vals\n\t\t\tconst bond = { owner, amount, poolId, nonce, slashedAtStart, time }\n\t\t\tbonds.push({\n\t\t\t\tid: getBondId(bond),\n\t\t\t\tstatus: \"Active\",\n\t\t\t\tcurrentAmount: bond.amount\n\t\t\t\t\t.mul(MAX_SLASH.sub(slashedByPool[poolId] || ZERO))\n\t\t\t\t\t.div(MAX_SLASH.sub(slashedAtStart)),\n\t\t\t\t...bond\n\t\t\t})\n\t\t} else if (topic === evs.LogUnbondRequested.topic) {\n\t\t\t// NOTE: assuming that .find() will return something is safe, as long as the logs are properly ordered\n\t\t\tconst { bondId, willUnlock } = Staking.interface.parseLog(log).values\n\t\t\tconst bond = bonds.find(({ id }) => id === bondId)\n\t\t\tbond.status = \"UnbondRequested\"\n\t\t\tbond.willUnlock = new Date(willUnlock * 1000)\n\t\t} else if (topic === evs.LogUnbonded.topic) {\n\t\t\tconst { bondId } = Staking.interface.parseLog(log).values\n\t\t\tbonds.find(({ id }) => id === bondId).status = \"Unbonded\"\n\t\t}\n\t\treturn bonds\n\t}, [])\n\n\treturn {\n\t\tuserBonds,\n\t\tuserBalance,\n\t\tuserWalletBalance,\n\t\tuserIdentityBalance\n\t}\n}\n\nexport async function getRewardChannels(rewardPool) {\n\tconst resp = await fetch(`${rewardPool.url}/fee-rewards`)\n\tconst rewardChannels = await resp.json()\n\treturn rewardChannels\n}\n\nexport async function getRewards(addr, rewardPool, prices, totalStake) {\n\tconst identityAddr = getUserIdentity(addr).addr\n\tconst rewardChannels = await getRewardChannels(rewardPool)\n\tconst validUntil = Math.floor(Date.now() / 1000)\n\tconst forUser = await Promise.all(\n\t\trewardChannels.map(async rewardChannel => {\n\t\t\tif (rewardChannel.channelArgs.validUntil < validUntil) return null\n\t\t\tconst claimFrom = rewardChannel.balances[addr] ? addr : identityAddr\n\t\t\tif (!rewardChannel.balances[claimFrom]) return null\n\t\t\tconst balanceTree = new BalanceTree(rewardChannel.balances)\n\t\t\tconst outstandingReward = bigNumberify(\n\t\t\t\trewardChannel.balances[claimFrom]\n\t\t\t).sub(await Core.withdrawnPerUser(rewardChannel.channelId, claimFrom))\n\t\t\tconst type =\n\t\t\t\trewardChannel.channelArgs.tokenAddr === ADDR_ADX ? \"incentive\" : \"fees\"\n\n\t\t\t// Min threshold only for fees channels\n\t\t\tif (type === \"fees\" && outstandingReward.lt(OUTSTANDING_REWARD_THRESHOLD))\n\t\t\t\treturn null\n\n\t\t\treturn {\n\t\t\t\t...rewardChannel,\n\t\t\t\toutstandingReward,\n\t\t\t\tclaimFrom,\n\t\t\t\tproof: balanceTree.getProof(claimFrom),\n\t\t\t\tstateRoot: balanceTree.mTree.getRoot(),\n\t\t\t\tamount: rewardChannel.balances[claimFrom],\n\t\t\t\ttype,\n\t\t\t\tcurrentAPY: getChannelAPY({\n\t\t\t\t\tchannel: rewardChannel,\n\t\t\t\t\tprices,\n\t\t\t\t\ttotalStake,\n\t\t\t\t\ttype\n\t\t\t\t}),\n\t\t\t\tpoolId: rewardPool.id\n\t\t\t}\n\t\t})\n\t)\n\treturn forUser.filter(x => x)\n}\n\nexport async function getGaslessInfo(addr) {\n\ttry {\n\t\tconst res = await fetch(`${ADEX_RELAYER_HOST}/staking/${addr}/can-execute`)\n\t\tconst resData = await res.json()\n\n\t\treturn {\n\t\t\tcanExecuteGasless: resData.canExecute === true,\n\t\t\tcanExecuteGaslessError: resData.message || null\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err)\n\t\treturn {\n\t\t\tcanExecuteGasless: false,\n\t\t\tcanExecuteGaslessError: \"errors.gaslessStakingTempOff\"\n\t\t}\n\t}\n}\n\nexport async function createNewBond(\n\tstats,\n\tchosenWalletType,\n\t{ amount, poolId, nonce },\n\tgasless\n) {\n\tif (!poolId) return\n\tif (!stats.userBalance) return\n\tif (amount.gt(stats.userBalance)) throw new Error(\"errors.amountTooLarge\")\n\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\n\tconst walletAddr = await signer.getAddress()\n\tconst { addr } = getUserIdentity(walletAddr)\n\n\tconst bond = [\n\t\tamount,\n\t\tpoolId,\n\t\tnonce || bigNumberify(Math.floor(Date.now() / 1000))\n\t]\n\n\tconst [allowance, allowanceStaking, balanceOnIdentity] = await Promise.all([\n\t\tToken.allowance(walletAddr, addr),\n\t\tToken.allowance(addr, Staking.address),\n\t\tToken.balanceOf(addr)\n\t])\n\n\t// Edge case: if we're gasless, the ADX is already on the identity and it's not deployed (constructor will be executed)\n\tif (\n\t\tgasless &&\n\t\tamount.eq(balanceOnIdentity) &&\n\t\t(await provider.getCode(addr)) === \"0x\"\n\t) {\n\t\treturn executeOnIdentity(chosenWalletType, [], {}, true)\n\t}\n\t// @TODO consider handling this edge case in non-gasless cases when there's some ADX on the identity\n\t// or at least `if (needsDeploying && balanceOnIdentity.gt(ZERO)) throw` cause otherwise the tx would just fail\n\t// because the cnstructor will bond this amount first\n\n\t// Eg bond amount is 10 but we only have 60, we need another 40\n\tconst needed = amount.sub(balanceOnIdentity)\n\tconst setAllowance = needed.gt(ZERO) && !allowance.gte(amount)\n\tif (setAllowance) {\n\t\tconst tokenWithSigner = new Contract(ADDR_ADX, ERC20ABI, signer)\n\t\tawait tokenWithSigner.approve(addr, MAX_UINT)\n\t}\n\n\tlet identityTxns = []\n\tif (needed.gt(ZERO))\n\t\tidentityTxns.push([\n\t\t\tToken.address,\n\t\t\tToken.interface.functions.transferFrom.encode([walletAddr, addr, amount])\n\t\t])\n\tif (allowanceStaking.lt(amount))\n\t\tidentityTxns.push([\n\t\t\tToken.address,\n\t\t\tToken.interface.functions.approve.encode([Staking.address, MAX_UINT])\n\t\t])\n\n\tconst active = stats.userBonds.find(\n\t\tx => x.status === \"Active\" && x.poolId === poolId\n\t)\n\tconst stakingData = active\n\t\t? Staking.interface.functions.replaceBond.encode([\n\t\t\t\tactive,\n\t\t\t\t[active.amount.add(amount), poolId, active.nonce]\n\t\t  ])\n\t\t: Staking.interface.functions.addBond.encode([bond])\n\tidentityTxns.push([Staking.address, stakingData])\n\n\treturn executeOnIdentity(\n\t\tchosenWalletType,\n\t\tidentityTxns,\n\t\tsetAllowance ? { gasLimit: 450000 } : {},\n\t\tgasless\n\t)\n}\n\nexport async function onUnbondOrRequest(\n\tisUnbond,\n\tchosenWalletType,\n\t{ amount, poolId, nonce }\n) {\n\tconst bond = [amount, poolId, nonce || ZERO]\n\tif (isUnbond) {\n\t\tconst signer = await getSigner(chosenWalletType)\n\t\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\t\tconst walletAddr = await signer.getAddress()\n\t\tawait executeOnIdentity(chosenWalletType, [\n\t\t\t[Staking.address, Staking.interface.functions.unbond.encode([bond])],\n\t\t\t[\n\t\t\t\tToken.address,\n\t\t\t\tToken.interface.functions.transfer.encode([walletAddr, amount])\n\t\t\t]\n\t\t])\n\t} else {\n\t\tawait executeOnIdentity(chosenWalletType, [\n\t\t\t[\n\t\t\t\tStaking.address,\n\t\t\t\tStaking.interface.functions.requestUnbond.encode([bond])\n\t\t\t]\n\t\t])\n\t}\n}\n\nexport async function claimRewards(chosenWalletType, rewardChannels) {\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\tconst walletAddr = await signer.getAddress()\n\n\t// @TODO: this is obsolete, it should be removed at some point (when no more DAI rewards on wallets are left)\n\tconst coreWithSigner = new Contract(ADDR_CORE, CoreABI, signer)\n\tconst legacyChannels = rewardChannels.filter(\n\t\tchannel => channel.claimFrom === walletAddr\n\t)\n\tfor (const channel of legacyChannels) {\n\t\tconst channelTuple = toChannelTuple(channel.channelArgs)\n\t\tawait coreWithSigner.channelWithdraw(\n\t\t\tchannelTuple,\n\t\t\tchannel.stateRoot,\n\t\t\tchannel.signatures,\n\t\t\tchannel.proof,\n\t\t\tchannel.amount\n\t\t)\n\t}\n\n\tconst identityChannels = rewardChannels.filter(\n\t\tchannel => channel.claimFrom !== walletAddr\n\t)\n\tconst toTransfer = {}\n\tidentityChannels.forEach(channel => {\n\t\tconst { tokenAddr } = channel.channelArgs\n\t\tconst amnt = toTransfer[tokenAddr] || ZERO\n\t\ttoTransfer[tokenAddr] = amnt.add(channel.outstandingReward)\n\t})\n\tconst identityTxns = identityChannels\n\t\t.map(channel => {\n\t\t\tconst channelTuple = toChannelTuple(channel.channelArgs)\n\t\t\treturn [\n\t\t\t\tCore.address,\n\t\t\t\tCore.interface.functions.channelWithdraw.encode([\n\t\t\t\t\tchannelTuple,\n\t\t\t\t\tchannel.stateRoot,\n\t\t\t\t\tchannel.signatures,\n\t\t\t\t\tchannel.proof,\n\t\t\t\t\tchannel.amount\n\t\t\t\t])\n\t\t\t]\n\t\t})\n\t\t.concat(\n\t\t\tObject.entries(toTransfer).map(([tokenAddr, amount]) => [\n\t\t\t\ttokenAddr,\n\t\t\t\tToken.interface.functions.transfer.encode([walletAddr, amount])\n\t\t\t])\n\t\t)\n\n\tif (identityTxns.length) {\n\t\tawait executeOnIdentity(chosenWalletType, identityTxns)\n\t}\n}\n\nexport async function restake(\n\tchosenWalletType,\n\t{ rewardChannels, userBonds },\n\tgasless\n) {\n\tconst channels = rewardChannels.filter(\n\t\tx =>\n\t\t\tx.channelArgs.tokenAddr === ADDR_ADX &&\n\t\t\t(gasless ? isTomChannelId(x) : true)\n\t)\n\tif (!channels.length) throw new Error(\"errors.noChannelsToEarnFrom\")\n\n\t// @TODO how does the user determine the pool here? For now there's only one, but after?\n\tconst collected = channels\n\t\t.map(x => x.outstandingReward)\n\t\t.reduce((a, b) => a.add(b))\n\tconst userBond =\n\t\tuserBonds.find(x => x.status === \"Active\") ||\n\t\tuserBonds.find(x => x.status === \"UnbondRequested\")\n\tif (!userBond) throw new Error(\"errors.noActiveBonds\")\n\tconst { amount, poolId, nonce } = userBond\n\tconst bond = [amount, poolId, nonce]\n\tconst newBond = [amount.add(collected), poolId, nonce]\n\n\tconst identityTxns = channels\n\t\t.map(rewardChannel => {\n\t\t\tconst channelTuple = toChannelTuple(rewardChannel.channelArgs)\n\t\t\treturn [\n\t\t\t\tCore.address,\n\t\t\t\tCore.interface.functions.channelWithdraw.encode([\n\t\t\t\t\tchannelTuple,\n\t\t\t\t\trewardChannel.stateRoot,\n\t\t\t\t\trewardChannel.signatures,\n\t\t\t\t\trewardChannel.proof,\n\t\t\t\t\trewardChannel.amount\n\t\t\t\t])\n\t\t\t]\n\t\t})\n\t\t.concat([\n\t\t\t[\n\t\t\t\tToken.address,\n\t\t\t\tToken.interface.functions.approve.encode([Staking.address, newBond[0]])\n\t\t\t],\n\t\t\t[\n\t\t\t\tStaking.address,\n\t\t\t\tStaking.interface.functions.replaceBond.encode([bond, newBond])\n\t\t\t]\n\t\t])\n\n\treturn executeOnIdentity(chosenWalletType, identityTxns, {}, gasless)\n}\n\nfunction toChannelTuple(args) {\n\treturn [\n\t\targs.creator,\n\t\targs.tokenAddr,\n\t\targs.tokenAmount,\n\t\targs.validUntil,\n\t\targs.validators,\n\t\targs.spec\n\t]\n}\n\nexport async function executeOnIdentity(\n\tchosenWalletType,\n\ttxns,\n\topts = {},\n\tgasless\n) {\n\tconst signer = await getSigner(chosenWalletType)\n\tif (!signer) throw new Error(\"errors.failedToGetSigner\")\n\tconst walletAddr = await signer.getAddress()\n\tconst { addr, bytecode } = getUserIdentity(walletAddr)\n\tconst identity = new Contract(addr, IdentityABI, signer)\n\n\tconst needsToDeploy = (await provider.getCode(identity.address)) === \"0x\"\n\tconst idNonce = needsToDeploy ? ZERO : await identity.nonce()\n\tconst toTuples = offset => ([to, data], i) =>\n\t\tzeroFeeTx(\n\t\t\tidentity.address,\n\t\t\tidNonce.add(i + offset),\n\t\t\tto,\n\t\t\tdata\n\t\t).toSolidityTuple()\n\tif (gasless) {\n\t\t// @TODO: we can use execute that calls into executeBySender here to only sign one tx\n\t\tconst txnsRaw = txns.map(([to, data], i) =>\n\t\t\trawZeroFeeTx(identity.address, idNonce.add(i), to, data)\n\t\t)\n\t\tconst signatures = []\n\t\tfor (const tx of txnsRaw) {\n\t\t\tconst sig = await signer.signMessage(new Transaction(tx).hash())\n\t\t\tsignatures.push(splitSig(sig))\n\t\t}\n\n\t\tconst executeUrl = `${ADEX_RELAYER_HOST}/staking/${walletAddr}/execute`\n\t\tconst res = await fetch(executeUrl, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttxnsRaw,\n\t\t\t\tsignatures\n\t\t\t}),\n\t\t\theaders: { \"Content-Type\": \"application/json\" }\n\t\t})\n\t\tif (res.status === 500) throw new Error(\"errors.relayerInternal\")\n\t\treturn res.json()\n\t} else if (!needsToDeploy) {\n\t\tconst txnTuples = txns.map(toTuples(0))\n\t\tawait identity.executeBySender(txnTuples, opts)\n\t} else {\n\t\tconst factoryWithSigner = new Contract(ADDR_FACTORY, FactoryABI, signer)\n\t\t// Has offset because the execute() takes the first nonce\n\t\tconst txnTuples = txns.map(toTuples(1))\n\t\tconst executeTx = zeroFeeTx(\n\t\t\tidentity.address,\n\t\t\tidNonce,\n\t\t\tidentity.address,\n\t\t\tidentity.interface.functions.executeBySender.encode([txnTuples])\n\t\t)\n\t\tconst sig = await signer.signMessage(executeTx.hash())\n\t\tawait factoryWithSigner.deployAndExecute(\n\t\t\tbytecode,\n\t\t\t0,\n\t\t\t[executeTx.toSolidityTuple()],\n\t\t\t[splitSig(sig)],\n\t\t\topts\n\t\t)\n\t}\n}\n","import { DEPOSIT_POOLS, POOLS } from \"../helpers/constants\"\nimport {\n\tonLoyaltyPoolDeposit,\n\tonLoyaltyPoolWithdraw\n} from \"./loyaltyPoolActions\"\nimport { claimRewards } from \"./actions\"\n\nexport const getDepositPool = poolId => DEPOSIT_POOLS.find(x => x.id === poolId)\n\nexport const getDepositActionByPoolId = poolId => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn onLoyaltyPoolDeposit\n\t}\n}\n\nexport const getWithdrawActionByPoolId = poolId => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn onLoyaltyPoolWithdraw\n\t}\n\tif (poolId === POOLS[0].id) {\n\t\treturn claimRewards\n\t}\n}\n\nexport const getPoolStatsByPoolId = (stats, poolId) => {\n\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\treturn stats.loyaltyPoolStats\n\t}\n\tif (poolId === POOLS[0].id) {\n\t\treturn stats.tomPoolStats\n\t}\n}\n\nexport const getWithdrawActionBySelectedRewardChannels = (\n\trewards,\n\tchosenWalletType,\n\tstats\n) => {\n\tconst actions = Object.entries(\n\t\trewards.reduce((byPool, r) => {\n\t\t\tconst { poolId } = r\n\t\t\tbyPool[poolId] = [...(byPool[poolId] || []), r]\n\t\t\treturn byPool\n\t\t}, {})\n\t).map(([poolId, rwds]) => {\n\t\tif (poolId === DEPOSIT_POOLS[0].id) {\n\t\t\treturn onLoyaltyPoolWithdraw.bind(\n\t\t\t\tnull,\n\t\t\t\tstats,\n\t\t\t\tchosenWalletType,\n\t\t\t\trwds[0].outstandingReward\n\t\t\t)\n\t\t}\n\t\tif (poolId === POOLS[0].id) {\n\t\t\tconst rewardChannels = rwds.map(r => r.rewardChannel)\n\t\t\treturn claimRewards.bind(null, chosenWalletType, rewardChannels)\n\t\t}\n\t\treturn () => {}\n\t})\n\n\treturn actions\n}\n","import React, { useEffect, useState, useContext } from \"react\"\nimport {\n\tgetDepositPool,\n\tgetDepositActionByPoolId,\n\tgetWithdrawActionByPoolId,\n\tgetPoolStatsByPoolId,\n\tisValidNumberString\n} from \"../actions\"\nimport {\n\tparseADX,\n\tformatADX,\n\tformatADXPretty,\n\ttoIdAttributeString\n} from \"../helpers/formatting\"\nimport { DEPOSIT_POOLS, ZERO } from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTextField,\n\tTypography,\n\tButton,\n\tFormControl,\n\tInputLabel,\n\tSelect,\n\tMenuItem,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport { themeMUI } from \"../themeMUi\"\nimport AppContext from \"../AppContext\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nexport default function DepositForm({ depositPool, closeDialog, withdraw }) {\n\tconst { t } = useTranslation()\n\tconst { stats, chosenWalletType, wrapDoingTxns } = useContext(AppContext)\n\n\tconst [actionAmount, setActionAmount] = useState(\"0.0\")\n\tconst [amountErr, setAmountErr] = useState(false)\n\tconst [amountErrText, setAmountErrText] = useState(\"\")\n\tconst [confirmation, setConfirmation] = useState(false)\n\tconst [newDepositPool, setNewDepositPool] = useState(depositPool || {})\n\n\tconst activePool = getDepositPool(newDepositPool)\n\tconst poolStats = activePool ? getPoolStatsByPoolId(stats, activePool.id) : {}\n\tconst actionName = withdraw ? \"withdraw\" : \"deposit\"\n\n\tconst maxAmount = withdraw\n\t\t? poolStats.balanceLpADX || ZERO\n\t\t: stats.userWalletBalance\n\n\tconst onAction = async () => {\n\t\tif (!activePool) {\n\t\t\treturn\n\t\t}\n\n\t\tsetConfirmation(false)\n\t\tif (closeDialog) closeDialog()\n\n\t\tconst action = withdraw\n\t\t\t? getWithdrawActionByPoolId(activePool.id)\n\t\t\t: getDepositActionByPoolId(activePool.id)\n\n\t\tawait wrapDoingTxns(\n\t\t\taction.bind(null, stats, chosenWalletType, parseADX(actionAmount))\n\t\t)()\n\t}\n\n\tconst confirmationLabel = activePool ? activePool.confirmationLabel : \"\"\n\tconst confirmed = !confirmationLabel || confirmation\n\n\tconst validateFields = params => {\n\t\tconst { userInputAmount, poolToValidate, poolStats } = params\n\n\t\tif (!isValidNumberString(userInputAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.invalidAmountInput\"))\n\t\t\treturn\n\t\t}\n\n\t\tconst amountBN = parseADX(userInputAmount)\n\n\t\tconst minStakingAmountBN = poolToValidate\n\t\t\t? parseADX(poolToValidate.minStakingAmount || \"0\")\n\t\t\t: ZERO\n\t\tif (amountBN.gt(maxAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.lowADXAmount\"))\n\t\t\treturn\n\t\t}\n\t\tif (poolToValidate && amountBN.lte(minStakingAmountBN)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.lessDanMinPoolADX\"))\n\t\t\treturn\n\t\t}\n\n\t\tif (\n\t\t\t!withdraw &&\n\t\t\tpoolStats &&\n\t\t\tpoolStats.poolTotalStaked &&\n\t\t\tpoolStats.poolDepositsLimit &&\n\t\t\tamountBN.add(poolStats.poolTotalStaked).gt(poolStats.poolDepositsLimit)\n\t\t) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.amountOverPoolLimit\"))\n\t\t\treturn\n\t\t}\n\n\t\tsetAmountErr(false)\n\t\treturn\n\t}\n\n\tconst updatePool = value => {\n\t\tsetNewDepositPool(value)\n\t}\n\n\tconst onAmountChange = amountStr => {\n\t\tsetActionAmount(amountStr)\n\t\tvalidateFields({\n\t\t\tuserInputAmount: amountStr,\n\t\t\tpoolToValidate: activePool,\n\t\t\tpoolStats\n\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tconst poolToValidate = getDepositPool(newDepositPool)\n\t\tvalidateFields({ userInputAmount: actionAmount, poolToValidate, poolStats })\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [newDepositPool])\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid={`new-${actionName}-form-amount-field`}\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t(\"common.labelADXAmount\")}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={actionAmount}\n\t\t\t\t\t\terror={amountErr}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\tonAmountChange(ev.target.value)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thelperText={amountErr ? amountErrText : null}\n\t\t\t\t\t/>\n\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tid={`new-${actionName}-form-max-amount-btn`}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tonAmountChange(formatADX(maxAmount))\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"common.maxAmountBtn\", {\n\t\t\t\t\t\t\t\tamount: formatADXPretty(maxAmount),\n\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<FormControl fullWidth required>\n\t\t\t\t\t\t<InputLabel>{t(\"common.pool\")}</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tid={`new-${actionName}-form-pool-select`}\n\t\t\t\t\t\t\tvalue={newDepositPool}\n\t\t\t\t\t\t\tonChange={ev => updatePool(ev.target.value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={\"\"}>\n\t\t\t\t\t\t\t\t<em>{t(\"common.none\")}</em>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t{DEPOSIT_POOLS.map(({ label, id }) => (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tid={`new-${actionName}-form-values-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\t\tt(label)\n\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(label)}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t\t{activePool ? (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolRewardPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.rewardPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolSlashingPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.slashPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">{t(\"common.poolAPY\")}:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\ti18nKey=\"bonds.currentYield\"\n\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\tapy: (poolStats.currentAPY * 100).toFixed(2),\n\t\t\t\t\t\t\t\t\t\tsign: \"%\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\tfarmer: (\n\t\t\t\t\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t\t\t\t\t\t\t\t\t\t🌾\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t\"\"\n\t\t\t\t)}\n\t\t\t\t{confirmationLabel && (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\t\tlabel={t(confirmationLabel)}\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tid={`new-${actionName}-form-tos-check`}\n\t\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t></FormControlLabel>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`new-${actionName}-stake-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\tactivePool\n\t\t\t\t\t\t\t\t\t? activePool.poolId || actionName\n\t\t\t\t\t\t\t\t\t: \"-deposit-pool-not-selected\"\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tdisabled={!confirmed || !!amountErr || !activePool}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{withdraw\n\t\t\t\t\t\t\t\t? t(\"common.withdrawCurrency\", { currency: \"ADX\" })\n\t\t\t\t\t\t\t\t: t(\"common.depositCurrency\", { currency: \"ADX\" })}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","export function isValidNumberString(numStr) {\n\tif (typeof numStr !== \"string\") return false\n\treturn !isNaN(numStr) && !isNaN(parseFloat(numStr))\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#3c3c3c;}.cls-2{fill:#ff4266;}\\n\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"63.93 50.11 73.68 59.86 82.38 51.05 91.09 59.86 100.84 50.11 89.26 38.54 82.38 31.66 75.5 38.54 63.93 50.11\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"82.38 115.21 73.68 106.4 63.93 116.15 75.5 127.72 82.38 134.6 89.26 127.72 100.84 116.15 91.09 106.4 82.38 115.21\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"115.19 82.27 106.49 73.46 96.74 83.21 108.31 94.78 115.19 101.66 122.07 94.78 133.65 83.21 123.9 73.46 115.19 82.27\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"68.03 83.21 58.28 73.46 49.58 82.27 40.87 73.46 31.12 83.21 42.69 94.78 49.58 101.66 56.46 94.78 68.03 83.21\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"113.98 19.39 122.69 28.2 132.44 18.45 120.86 6.88 113.98 0 107.1 6.88 95.53 18.45 105.28 28.2 113.98 19.39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"50.78 19.39 59.49 28.2 69.24 18.45 57.66 6.88 50.78 0 43.9 6.88 32.33 18.45 42.08 28.2 50.78 19.39\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"18.72 51.41 27.22 43.01 17.81 33.6 6.64 44.77 0 51.41 6.64 58.05 17.81 69.22 27.22 59.81 18.72 51.41\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"158.13 44.77 146.95 33.6 137.54 43.01 146.05 51.41 137.54 59.81 146.95 69.22 158.13 58.05 164.77 51.41 158.13 44.77\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"70.6 19.81 50.78 39.63 30.97 19.81 19.19 31.59 39 51.41 19.19 71.22 29.65 81.69 81.06 30.27 70.6 19.81\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"145.58 31.59 133.8 19.81 113.98 39.63 94.2 19.84 83.75 30.3 135.13 81.67 145.58 71.22 125.76 51.41 145.58 31.59\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"95.39 81.84 95.39 81.84 113.98 63.25 113.95 63.22 113.96 63.21 102.18 51.43 82.38 71.22 82.41 71.25 82.38 71.29 82.35 71.25 82.38 71.22 62.6 51.44 50.79 63.26 70.6 83.07 69.21 84.46 69.2 84.45 50.75 102.9 50.78 102.94 50.81 102.91 62.57 114.67 82.38 94.85 102.2 114.67 113.95 102.91 113.98 102.94 114.01 102.92 94.16 83.07 95.39 81.84\"\n})));\n\nvar SvgLoyaltyIc = function SvgLoyaltyIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 164.77 134.6\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLoyaltyIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/loyalty-ic.c43ef8ac.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Fragment, useContext, useEffect, useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tTableRow,\n\tTableCell,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport { DEPOSIT_POOLS } from \"../helpers/constants\"\nimport { formatADXPretty } from \"../helpers/formatting\"\nimport AppContext from \"../AppContext\"\nimport WithDialog from \"./WithDialog\"\nimport DepositForm from \"./DepositForm\"\nimport { AmountText } from \"./cardCommon\"\nimport { ReactComponent as LoyaltyIcon } from \"./../resources/loyalty-ic.svg\"\nimport { useTranslation } from \"react-i18next\"\n\nconst iconByPoolId = poolId => {\n\tswitch (poolId) {\n\t\tcase \"adex-loyalty-pool\":\n\t\t\treturn LoyaltyIcon\n\t\tdefault:\n\t\t\treturn null\n\t}\n}\n\nconst DepositsDialog = WithDialog(DepositForm)\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\twidth: 42,\n\t\t\theight: 42,\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.background.default,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t}\n\t}\n})\n\nconst getLoyaltyPoolDeposit = ({\n\tt,\n\tstats,\n\tdisabledDepositsMsg,\n\tdisabledWithdrawsMsg\n}) => {\n\tconst { loyaltyPoolStats } = stats\n\treturn {\n\t\tpoolId: \"adex-loyalty-pool\",\n\t\tlabel: t(\"common.loPo\"),\n\t\tbalance: (\n\t\t\t<Fragment>\n\t\t\t\t<AmountText\n\t\t\t\t\ttext={`${formatADXPretty(\n\t\t\t\t\t\tloyaltyPoolStats.balanceLpToken\n\t\t\t\t\t)} ${\"ADX-LOYALTY\"}`}\n\t\t\t\t\tfontSize={17}\n\t\t\t\t/>\n\t\t\t\t(=\n\t\t\t\t<AmountText\n\t\t\t\t\ttext={`${formatADXPretty(loyaltyPoolStats.balanceLpADX)} ${\"ADX\"}`}\n\t\t\t\t\tfontSize={17}\n\t\t\t\t/>\n\t\t\t\t)\n\t\t\t</Fragment>\n\t\t),\n\t\treward: loyaltyPoolStats.rewardADX ? (\n\t\t\t<AmountText\n\t\t\t\ttext={`${formatADXPretty(loyaltyPoolStats.rewardADX)} ${\"ADX\"}`}\n\t\t\t\tfontSize={17}\n\t\t\t/>\n\t\t) : (\n\t\t\tt(\"common.unknown\")\n\t\t),\n\t\tactions: [\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"loyalty-pool-deposit-form\"\n\t\t\t\ttitle={t(\"common.addNewDeposit\")}\n\t\t\t\tbtnLabel={t(\"common.deposit\")}\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tdisabled={!!disabledDepositsMsg}\n\t\t\t\ttooltipTitle={disabledDepositsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[0].id}\n\t\t\t/>,\n\t\t\t<DepositsDialog\n\t\t\t\tid=\"loyalty-pool-withdraw-form\"\n\t\t\t\ttitle={t(\"deposits.withdrawLoPo\")}\n\t\t\t\tbtnLabel={t(\"common.withdraw\")}\n\t\t\t\tcolor=\"default\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tdisabled={!!disabledWithdrawsMsg}\n\t\t\t\tdepositPool={DEPOSIT_POOLS[0].id}\n\t\t\t\ttooltipTitle={disabledWithdrawsMsg}\n\t\t\t\twithdraw\n\t\t\t/>\n\t\t]\n\t}\n}\n\nconst updateDeposits = (deposits, newDeposit) => {\n\tconst index = deposits.findIndex(x => x.poolId === newDeposit.poolId)\n\tconst newDeposits = [...deposits]\n\n\tif (index > -1) {\n\t\tnewDeposits[index] = newDeposit\n\t} else {\n\t\tnewDeposits.push(newDeposit)\n\t}\n\n\treturn newDeposits\n}\n\nexport default function Deposits() {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst [deposits, setDeposits] = useState([])\n\tconst { stats, chosenWalletType } = useContext(AppContext)\n\tconst { loyaltyPoolStats } = stats\n\n\t// TODO: UPDATE if more deposit pools\n\tconst disableDepositsMsg = !chosenWalletType.name\n\t\t? t(\"common.connectWallet\")\n\t\t: !loyaltyPoolStats.loaded\n\t\t? t(\"common.loadingData\")\n\t\t: loyaltyPoolStats.poolTotalStaked.gte(loyaltyPoolStats.poolDepositsLimit)\n\t\t? t(\"deposits.depositsLimitReached\")\n\t\t: \"\"\n\n\tuseEffect(() => {\n\t\tconst { loyaltyPoolStats } = stats\n\t\tif (loyaltyPoolStats.loaded) {\n\t\t\t// const disabledDepositsMsg = !chosenWalletType.name ?\n\t\t\t// \t'Connect wallet' :\n\t\t\t// \t(loyaltyPoolStats.poolTotalStaked.gte(loyaltyPoolStats.poolDepositsLimit) ?\n\t\t\t// \t\t'Pool deposits limit reached' : ''\n\t\t\t// \t)\n\t\t\tconst disabledWithdrawsMsg = !chosenWalletType.name\n\t\t\t\t? t(\"common.connectWallet\")\n\t\t\t\t: \"\"\n\n\t\t\tconst loyaltyPoolDeposit = getLoyaltyPoolDeposit({\n\t\t\t\tt,\n\t\t\t\tstats,\n\t\t\t\tdisabledDepositsMsg: disableDepositsMsg,\n\t\t\t\tdisabledWithdrawsMsg\n\t\t\t})\n\t\t\tsetDeposits(updateDeposits(deposits, loyaltyPoolDeposit))\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [stats])\n\n\tconst renderDepositRow = deposit => {\n\t\tconst PoolIcon = iconByPoolId(deposit.poolId)\n\t\treturn (\n\t\t\t<TableRow key={deposit.poolId}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{PoolIcon && (\n\t\t\t\t\t\t\t<Box mr={1}>\n\t\t\t\t\t\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t\t\t<PoolIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box>{deposit.label}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.balance}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{deposit.reward}</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t{deposit.actions.map((action, index) => (\n\t\t\t\t\t\t<Box key={index} display=\"inline-block\" m={0.5}>\n\t\t\t\t\t\t\t{action}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t))}\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Box>\n\t\t\t{/* <Box>\n\t\t\t\t<DepositsDialog\n\t\t\t\t\tid=\"deposits-table-open-deposit-modal-btn\"\n\t\t\t\t\ttitle=\"Add new deposit\"\n\t\t\t\t\tbtnLabel=\"New Deposit\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tdisabled={!!disableDepositsMsg}\n\t\t\t\t\ttooltipTitle={disableDepositsMsg}\n\t\t\t\t/>\n\t\t\t</Box> */}\n\t\t\t<Box>\n\t\t\t\t<TableContainer xs={12}>\n\t\t\t\t\t<Table aria-label=\"Bonds table\">\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell>{t(\"common.pool\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.balance\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.reward\")}</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.actions\")}</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>{[...(deposits || [])].map(renderDepositRow)}</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Fab, Box, Typography } from \"@material-ui/core\"\nimport { AddSharp as AddIcon } from \"@material-ui/icons\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\nimport { useTranslation } from \"react-i18next\"\n\nconst useStyles = makeStyles(theme => ({\n\tfabIcon: {\n\t\tmarginRight: theme.spacing(1)\n\t}\n}))\n\nconst SectionHeader = ({ title, actions }) => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\n\tconst {\n\t\tstats,\n\t\tsetNewBondOpen,\n\t\tchosenWalletType,\n\t\tsetNewBondPool\n\t} = useContext(AppContext)\n\tconst canStake = !!chosenWalletType.name && !!stats.connectedWalletAddress\n\n\treturn (\n\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"row\"\n\t\t\tjustifyContent=\"space-between\"\n\t\t\talignItems=\"center\"\n\t\t\tflexWrap=\"wrap\"\n\t\t>\n\t\t\t<Box color=\"text.main\" mb={1}>\n\t\t\t\t<Typography variant=\"h3\">{title}</Typography>\n\t\t\t</Box>\n\t\t\t<Box mb={1}>\n\t\t\t\t{!!actions\n\t\t\t\t\t? actions\n\t\t\t\t\t: chosenWalletType.name && (\n\t\t\t\t\t\t\t<Fab\n\t\t\t\t\t\t\t\tid={`section-header-fab-stake-adx-${toIdAttributeString(\n\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\tdisabled={!stats.loaded || !canStake}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetNewBondPool(\"\")\n\t\t\t\t\t\t\t\t\tsetNewBondOpen(true)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvariant=\"extended\"\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<AddIcon className={classes.fabIcon} />\n\n\t\t\t\t\t\t\t\t{t(\"bonds.stakeADX\")}\n\t\t\t\t\t\t\t</Fab>\n\t\t\t\t\t  )}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default SectionHeader\n","import React, { useContext } from \"react\"\nimport { Box, Typography } from \"@material-ui/core\"\nimport AppContext from \"../AppContext\"\nimport Bonds from \"./Bonds\"\nimport Deposits from \"./Deposits\"\nimport SectionHeader from \"./SectionHeader\"\nimport { useTranslation } from \"react-i18next\"\n\nconst Stakings = () => {\n\tconst { t } = useTranslation()\n\tconst {\n\t\tstats,\n\t\tsetToUnbond,\n\t\tonUnbond,\n\t\tsetToRestake,\n\t\tonClaimRewards\n\t} = useContext(AppContext)\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader title={t(\"common.staked\")} />\n\t\t\t<Box mt={2}>\n\t\t\t\t<Box color=\"text.main\">\n\t\t\t\t\t<Typography variant=\"h5\" gutterBottom>\n\t\t\t\t\t\t{t(\"common.bonds\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t\t<Box mt={2} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t\t<Box p={3}>\n\t\t\t\t\t\t{Bonds({\n\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\tonRequestUnbond: setToUnbond,\n\t\t\t\t\t\t\tonUnbond,\n\t\t\t\t\t\t\tonClaimRewards,\n\t\t\t\t\t\t\tonRestake: setToRestake\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Box mt={2}>\n\t\t\t\t<Box color=\"text.main\">\n\t\t\t\t\t<Typography variant=\"h5\" gutterBottom>\n\t\t\t\t\t\t{t(\"common.deposits\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box mt={3} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t\t<Box p={3}>\n\t\t\t\t\t\t<Deposits />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Stakings\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1544\",\n  \"data-name\": \"Group 1544\",\n  transform: \"translate(0 0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1083\",\n  \"data-name\": \"Path 1083\",\n  d: \"M807.436-579.082c.041.026.068.074.108.1.11.085.191.28.367.169.149-.093.082-.273.079-.417a.738.738,0,0,0-.158-.334c-.068-.119-.187-.242-.184-.361.016-.549-.46-.714-.761-1.111C806.808-580.246,806.722-579.548,807.436-579.082Z\",\n  transform: \"translate(-788.213 591.413)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1084\",\n  \"data-name\": \"Path 1084\",\n  d: \"M789.523-576.75a.507.507,0,0,0-.481.481.507.507,0,0,0,.481.481.51.51,0,0,0,.482-.481A.508.508,0,0,0,789.523-576.75Z\",\n  transform: \"translate(-780.138 589.47)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1085\",\n  \"data-name\": \"Path 1085\",\n  d: \"M797.478-585.725c.533-.325,1.033-.7,1.547-1.055v-.117c-.534-.361-1.063-.729-1.6-1.079-.342-.221-.4-.443-.1-.748.232-.238.433-.5.653-.752.7-.788.7-.787-.324-1.142-.332-.115-.661-.241-1-.348s-.41-.3-.243-.619c.244-.467.465-.947.7-1.421.151-.31.072-.48-.29-.5-.487-.032-.973-.113-1.459-.107s-.612-.208-.515-.649c.1-.477.179-.959.275-1.438.075-.375-.051-.513-.436-.427-.457.1-.922.169-1.379.27s-.7-.036-.7-.55c0-.447-.08-.895-.092-1.342-.013-.49-.237-.5-.6-.321-.436.22-.882.418-1.317.641-.317.162-.509.092-.622-.251-.165-.5-.358-.992-.518-1.494-.123-.382-.305-.4-.584-.149s-.556.492-.841.73c-.8.672-.634.761-1.282-.2-.284-.419-.581-.831-.871-1.246h-.117c-.364.554-.739,1.1-1.089,1.666-.2.316-.383.327-.648.085-.359-.33-.752-.625-1.1-.962-.383-.368-.58-.26-.721.205-.124.41-.312.8-.423,1.216-.144.539-.419.573-.856.322-.371-.214-.773-.374-1.152-.575-.411-.218-.571-.059-.6.356-.035.506-.088,1.011-.113,1.517-.016.344-.177.438-.495.371-.516-.107-1.038-.185-1.551-.3-.408-.094-.495.091-.431.434.093.5.185,1,.3,1.493.093.411-.061.577-.472.593-.487.018-.972.085-1.459.109-.392.019-.48.2-.322.53.216.459.423.924.661,1.371.185.346.106.54-.259.659-.5.163-1,.344-1.495.514-.33.112-.382.288-.146.554.349.4.682.8,1.035,1.2.254.281.247.486-.09.7-.542.347-1.064.726-1.594,1.091v.117c.524.375,1.038.764,1.576,1.118.356.234.364.442.083.744-.347.371-.661.772-.99,1.158-.229.268-.173.443.161.554.426.143.847.3,1.27.45.665.236.663.235.346.9-.2.423-.4.849-.6,1.274-.119.255-.065.411.24.432.487.034.973.08,1.461.1.458.022.7.172.563.693-.122.471-.188.958-.272,1.439-.058.333.073.482.422.411.478-.1.959-.186,1.436-.286.384-.08.6.036.622.459.021.448.067.9.1,1.343.05.61.132.661.666.406a12.268,12.268,0,0,0,1.151-.582c.478-.294.693-.137.819.361.106.416.264.818.4,1.224.206.6.229.6.726.177.342-.292.686-.582,1.011-.893s.548-.3.788.092c.327.532.688,1.044,1.034,1.564H786c.366-.575.741-1.146,1.1-1.727.177-.289.332-.247.549-.043.412.387.849.748,1.266,1.132.273.251.423.189.533-.148.169-.519.369-1.029.533-1.549.112-.352.3-.411.618-.253.47.237.948.46,1.423.688.3.145.473.091.489-.286.021-.487.082-.972.109-1.458.023-.43.226-.6.649-.509.458.1.919.18,1.378.275.4.082.552-.063.47-.467-.085-.421-.156-.844-.231-1.267-.11-.619.007-.761.65-.8.389-.022.779-.046,1.169-.064.452-.02.594-.2.362-.625-.24-.447-.443-.913-.67-1.367-.145-.291-.084-.474.239-.577.5-.161.994-.351,1.5-.511.362-.115.433-.286.175-.583-.32-.368-.605-.77-.951-1.112C796.973-585.257,797.065-585.473,797.478-585.725Zm-7.909-6.648c.221-.187.468-.265.7-.021.956,1,1.913,2.008,2.855,3.026a1.46,1.46,0,0,1,.357,1.038c-.008,1.649,0,3.3,0,4.948a3.213,3.213,0,0,1-.118.892l-.985-.985c0-.94,0-1.88,0-2.821a.623.623,0,0,0-.209-.5c-.245-.231-.469-.487-.72-.711a1.537,1.537,0,0,1-.556-1.337,2.5,2.5,0,0,0-.961-2.394,2.842,2.842,0,0,1-.419-.478A.434.434,0,0,1,789.569-592.373Zm-1.378-1.167c.694,0,.786.09.786.77,0,1.837.008,3.674-.006,5.511,0,.343.069.486.45.479a1.326,1.326,0,0,1,1.526,1.335c.025.2.039.4.058.6l-3.594-3.594h.4c.418,0,.512-.092.513-.5q.007-1.7,0-3.41c0-.442-.087-.53-.524-.531q-2.417,0-4.835,0l-.654-.654Zm1.057,13.554q-2.156,0-4.312,0c-1.424,0-2.849,0-4.274,0-.433,0-.6-.182-.588-.589.011-.312.165-.52.479-.5.374.024.425-.148.425-.466q-.01-4.449,0-8.9l.653.653c0,.272,0,.544,0,.817,0,.442.087.53.524.531h.824l6,6c0,.349,0,.7,0,1.048,0,.227.086.3.309.31.457.019.607.181.591.583C789.861-580.133,789.691-579.987,789.248-579.986Zm3.914.32-14.2-14.2.761-.761,14.2,14.2Z\",\n  transform: \"translate(-772.74 600.039)\"\n}));\n\nvar SvgGaslessIc = function SvgGaslessIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26.285,\n    height: 26.403,\n    viewBox: \"0 0 26.285 26.403\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGaslessIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/gasless-ic.8cc8ae7b.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport LinearProgress from \"@material-ui/core/LinearProgress\"\nimport { CardRow } from \"./cardCommon\"\n\nexport default function StatsCard({\n\tsize,\n\ttitle,\n\ttitleInfo,\n\tsubtitle,\n\tsubtitleInfo,\n\textra,\n\textraInfo,\n\tmoreExtra,\n\tmoreExtraInfo,\n\tloaded,\n\tactions,\n\tmultilineLinesAmounts\n}) {\n\treturn (\n\t\t<Box>\n\t\t\t{title && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={title}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={titleInfo}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{subtitle && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 21 : 17}\n\t\t\t\t\ttext={subtitle}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tmultilineLinesAmounts={multilineLinesAmounts}\n\t\t\t\t\tinfoText={subtitleInfo}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{extra && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={extra}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={extraInfo}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{moreExtra && (\n\t\t\t\t<CardRow\n\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\tfontWeight={size === \"large\" ? \"fontWeightBold\" : \"fontWeightRegular\"}\n\t\t\t\t\tfontSize={size === \"large\" ? 18 : 15}\n\t\t\t\t\ttext={moreExtra}\n\t\t\t\t\tisAmountText\n\t\t\t\t\tinfoText={moreExtraInfo}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{actions || <></>}\n\n\t\t\t{!loaded ? <LinearProgress /> : <></>}\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Link } from \"@material-ui/core\"\nimport { OpenInNew } from \"@material-ui/icons\"\nimport clsx from \"clsx\"\n\nexport const styles = theme => ({\n\texternalIcon: {\n\t\tmarginLeft: theme.spacing(0.5),\n\t\tfontSize: \"small\"\n\t},\n\tlink: {\n\t\tdisplay: \"inline-flex\",\n\t\talignItems: \"center\"\n\t}\n})\n\nconst useStyles = makeStyles(styles)\n\nconst getUrl = url => {\n\turl = (url || \"\").replace(/^(https?:)?\\/\\//i, \"\")\n\tif (url) {\n\t\turl = \"//\" + url\n\t}\n\n\treturn url\n}\n\nconst Anchor = ({\n\thref,\n\ttarget,\n\tchildren,\n\tlabel,\n\tunderline,\n\texternalIcon,\n\tcolor,\n\tcomponent,\n\tclassName,\n\tid,\n\t...rest\n}) => {\n\tconst classes = useStyles()\n\n\tconst isExternal = target && target === \"_blank\"\n\tconst url = isExternal ? getUrl(href) : href\n\n\tconst linkProps = {\n\t\tunderline: underline || \"none\",\n\t\tcolor: color || \"inherit\",\n\t\tdraggable: \"false\",\n\t\t...(isExternal && { rel: \"noopener noreferrer\" }),\n\t\ttarget,\n\t\thref: url,\n\t\tstyle: { wordBreak: \"break-all\" }, // TODO: add it where needed only\n\t\t...(component ? { component } : {}),\n\t\t...rest\n\t}\n\treturn (\n\t\t<Link {...linkProps} className={clsx(className, classes.link)}>\n\t\t\t{!component && (children || label)}\n\t\t\t{!component && externalIcon && (\n\t\t\t\t<OpenInNew className={classes.externalIcon} />\n\t\t\t)}\n\t\t</Link>\n\t)\n}\n\nexport const ExternalAnchor = ({ href, children, style, color, ...rest }) => (\n\t<Anchor\n\t\tstyle={{ fontWeight: \"bold\" }}\n\t\tunderline=\"always\"\n\t\ttarget=\"_blank\"\n\t\tcolor={color || \"secondary\"}\n\t\texternalIcon\n\t\thref={href}\n\t\t{...rest}\n\t>\n\t\t{children}\n\t</Anchor>\n)\n\nexport default Anchor\n","import React from \"react\"\nimport {\n\tDialog,\n\tDialogTitle,\n\tDialogContent,\n\tDialogActions,\n\tButton\n} from \"@material-ui/core\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function ConfirmationDialog({\n\tisOpen,\n\tonDeny,\n\tonConfirm,\n\tcontent,\n\ttitle,\n\tconfirmActionName\n}) {\n\tconst { t } = useTranslation()\n\n\treturn (\n\t\t<Dialog open={isOpen} onClose={onDeny}>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t{title || t(\"common.areYouSure\")}\n\t\t\t</DialogTitle>\n\t\t\t<DialogContent>{content}</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tid={`confirmation-dialog-deny-${toIdAttributeString(\n\t\t\t\t\t\tconfirmActionName\n\t\t\t\t\t)}`}\n\t\t\t\t\tonClick={onDeny}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t>\n\t\t\t\t\t{t(\"common.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tid={`confirmation-dialog-confirm-${toIdAttributeString(\n\t\t\t\t\t\tconfirmActionName\n\t\t\t\t\t)}`}\n\t\t\t\t\tonClick={onConfirm}\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisableElevation\n\t\t\t\t>\n\t\t\t\t\t{confirmActionName}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t)\n}\n","import React, { useContext, useEffect, useState } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tSvgIcon,\n\tTypography,\n\tIconButton,\n\tButton,\n\tModal,\n\tFade,\n\tBackdrop\n} from \"@material-ui/core\"\nimport {\n\tFileCopySharp as CopyIcon,\n\tHelpSharp as HelpIcon\n} from \"@material-ui/icons\"\nimport copy from \"copy-to-clipboard\"\nimport { ReactComponent as GaslessIcon } from \"./../resources/gasless-ic.svg\"\nimport SectionHeader from \"./SectionHeader\"\nimport AppContext from \"../AppContext\"\nimport { createNewBond, restake } from \"../actions\"\nimport {\n\tPOOLS,\n\tMIN_BALANCE_FOR_GASLESS_TXNS,\n\tUNBOND_DAYS,\n\tZERO\n} from \"../helpers/constants\"\nimport StatsCard from \"./StatsCard\"\nimport { formatADXPretty } from \"../helpers/formatting\"\nimport NewGaslessBondForm from \"./NewGaslessBondForm\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport Tooltip from \"./Tooltip\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nconst MIN_GASLESS_RE_STAKE_REWARDS = MIN_BALANCE_FOR_GASLESS_TXNS.div(4)\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: \"transparent\"\n\t\t},\n\t\tnoUserData: {\n\t\t\topacity: 0.23\n\t\t},\n\t\taddress: {\n\t\t\twordBreak: \"break-all\"\n\t\t},\n\t\tmodal: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\tbullets: {\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tmaxWidth: 800\n\t\t\t}\n\t\t},\n\t\tactions: {\n\t\t\tmaxWidth: 400,\n\t\t\tmargin: theme.spacing(1)\n\t\t}\n\t}\n})\n\nconst Gasless = () => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst [bondOpen, setBondOpen] = useState(false)\n\tconst [reStakeOpen, setReStakeOpen] = useState(false)\n\tconst [bond, setBond] = useState({})\n\n\tconst {\n\t\tstats,\n\t\tsetConnectWallet,\n\t\taddSnack,\n\t\tchosenWalletType,\n\t\twrapDoingTxns\n\t} = useContext(AppContext)\n\n\tconst {\n\t\tuserIdentityBalance,\n\t\tidentityAddr,\n\t\tloaded,\n\t\tcanExecuteGasless,\n\t\tcanExecuteGaslessError: canExecuteGaslessErrorKey,\n\t\ttomRewardADX,\n\t\tuserBonds\n\t} = stats\n\n\tconst hasEnoughForReStake = tomRewardADX.gte(MIN_GASLESS_RE_STAKE_REWARDS)\n\n\tconst walletConnected = identityAddr && loaded\n\tconst disabled = !walletConnected || !canExecuteGasless\n\tconst disableReStake = disabled || !hasEnoughForReStake\n\tconst canExecuteGaslessReStakeErrorKey = (canExecuteGaslessErrorKey || \"\")\n\t\t.toLowerCase()\n\t\t.includes(\"needs to have at least\")\n\t\t? \"errors.insufficientGaslessAddrBalance\"\n\t\t: canExecuteGaslessErrorKey || \"errors.minGaslessReStake\"\n\n\tconst canExecuteGaslessReStakeError = !!canExecuteGaslessReStakeErrorKey\n\t\t? t(canExecuteGaslessReStakeErrorKey, {\n\t\t\t\tamount: formatADXPretty(MIN_GASLESS_RE_STAKE_REWARDS),\n\t\t\t\tcurrency: \"ADX\"\n\t\t  })\n\t\t: \"\"\n\tconst canExecuteGaslessError = !!canExecuteGaslessErrorKey\n\t\t? t(canExecuteGaslessErrorKey)\n\t\t: \"\"\n\n\tconst showReStake =\n\t\twalletConnected &&\n\t\tuserBonds &&\n\t\tuserBonds.some(x => x.poolId === POOLS[0].id)\n\t// NOTE: When there is old account with rewards\n\t// and 20 000 on the identity - if the identity is not deployed\n\t// If you gasless re-stake the rewards you will stake the amount on\n\t// the identity as well without notification\n\t// TODO: maybe add notification\n\n\tconst onTxRes = (res, btnId) => {\n\t\tif (res && res.txId) {\n\t\t\taddSnack(\n\t\t\t\tt(\"gasless.txSent\", { txId: res.txId }),\n\t\t\t\t\"success\",\n\t\t\t\t20000,\n\t\t\t\t<ExternalAnchor\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\tid={btnId}\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\thref={`https://etherscan.io/tx/${res.txId}`}\n\t\t\t\t>\n\t\t\t\t\t{t(\"common.seeOnEtherscan\")}\n\t\t\t\t</ExternalAnchor>\n\t\t\t)\n\t\t}\n\t}\n\n\tconst onStake = async () => {\n\t\tsetBondOpen(false)\n\t\tconst res = await wrapDoingTxns(\n\t\t\tcreateNewBond.bind(null, stats, chosenWalletType, bond, true)\n\t\t)()\n\n\t\tonTxRes(res, \"new-gasless-stake-snack\")\n\t}\n\n\tconst onReStake = async () => {\n\t\tsetReStakeOpen(false)\n\t\tconst res = await wrapDoingTxns(\n\t\t\trestake.bind(null, chosenWalletType, stats, true)\n\t\t)()\n\n\t\tonTxRes(res, \"new-gasless-re-stake-snack\")\n\t}\n\n\tuseEffect(() => {\n\t\tsetBond({\n\t\t\tpoolId: POOLS[0].id,\n\t\t\tamount: userIdentityBalance\n\t\t})\n\t}, [identityAddr, userIdentityBalance, loaded])\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader\n\t\t\t\ttitle={t(\"gasless.staking\")}\n\t\t\t\tactions={\n\t\t\t\t\t<Box\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontSize={88}\n\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<SvgIcon color=\"inherit\" fontSize=\"inherit\">\n\t\t\t\t\t\t\t<GaslessIcon width=\"100%\" height=\"100%\" color=\"secondary\" />\n\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tclassName={classes.content}\n\t\t\t\t\t\t\tmt={4}\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\talignItems=\"flex-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" variant=\"h5\">\n\t\t\t\t\t\t\t\t\t{t(\"gasless.accountAddr\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tmy={2}\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t\t\t\tflexGrow={0}\n\t\t\t\t\t\t\t\t// flexWrap=\"wrap\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\tjustifyContent=\"flex-start\"\n\t\t\t\t\t\t\t\t\tbgcolor=\"background.paper\"\n\t\t\t\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\t\t\t\tfontSize={23}\n\t\t\t\t\t\t\t\t\tboxShadow={25}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tonClick={() => !identityAddr && setConnectWallet(true)}\n\t\t\t\t\t\t\t\t\t\tm={1}\n\t\t\t\t\t\t\t\t\t\tmx={2}\n\t\t\t\t\t\t\t\t\t\tclasses={{ root: classes.address }}\n\t\t\t\t\t\t\t\t\t\t{...(!identityAddr ? { style: { cursor: \"pointer\" } } : {})}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{identityAddr || t(\"gasless.connectWalletToSeeAddr\")}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t{identityAddr && (\n\t\t\t\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"mobile-burger-btn\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcopy(identityAddr)\n\t\t\t\t\t\t\t\t\t\t\t\t\taddSnack(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt(\"gasless.copiedToClipboard\", { identityAddr }),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<CopyIcon />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t\t\t<Tooltip title={t(\"gasless.addrTooltip\")}>\n\t\t\t\t\t\t\t\t\t\t<HelpIcon color=\"primary\" />\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box className={classes.bullets}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\" • \"}\n\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\ti18nKey=\"gasless.bullet1\"\n\t\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\t\tminBalance: formatADXPretty(MIN_BALANCE_FOR_GASLESS_TXNS),\n\t\t\t\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\" • \"}\n\t\t\t\t\t\t\t\t\t<Trans i18nKey=\"gasless.bullet2\" />\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{\" • \"}\n\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\ti18nKey=\"gasless.bullet3\"\n\t\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\t\tcount: 12\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display=\"flex\" flexDirection=\"row\" flexWrap=\"wrap\">\n\t\t\t\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t\t\t\t{walletConnected && (\n\t\t\t\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize: \"large\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(\"gasless.adxBalanceOnAddr\"),\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubtitle: userIdentityBalance\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatADXPretty(userIdentityBalance) + \" ADX\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\textra:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcanExecuteGaslessError || t(\"gasless.readyForStake\")\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\twalletConnected\n\t\t\t\t\t\t\t\t\t\t\t\t\t? canExecuteGaslessError || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: t(\"common.connectWallet\")\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t// fullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`stake-gasless-form-open`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setBondOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"common.stake\")}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{showReStake && (\n\t\t\t\t\t\t\t\t\t<Box className={classes.actions}>\n\t\t\t\t\t\t\t\t\t\t<Box mt={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize: \"large\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: t(\"gasless.rewardsReadyForReStake\"),\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubtitle: tomRewardADX\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatADXPretty(tomRewardADX) + \" ADX\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\t\t\t\t\t\t\textra:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcanExecuteGaslessReStakeError ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tt(\"gasless.readyForReStake\")\n\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twalletConnected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? canExecuteGaslessReStakeError || \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: t(\"common.connectWallet\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`re-stake-gasless-form-open`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// fullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setReStakeOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disableReStake}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{t(\"gasless.reStakeRewards\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t{!disabled && (\n\t\t\t\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\t\ti18nKey=\"gasless.info\"\n\t\t\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\t\t\texternal: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`https://etherscan.io/address/${identityAddr}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\n\t\t\t\t<Modal\n\t\t\t\t\topen={bondOpen}\n\t\t\t\t\tonClose={() => setBondOpen(false)}\n\t\t\t\t\tclassName={classes.modal}\n\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\tBackdropProps={{\n\t\t\t\t\t\ttimeout: 300\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Fade in={bondOpen}>\n\t\t\t\t\t\t{NewGaslessBondForm({\n\t\t\t\t\t\t\tbond,\n\t\t\t\t\t\t\tonStake,\n\t\t\t\t\t\t\tchosenWalletType\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Fade>\n\t\t\t\t</Modal>\n\n\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\tisOpen: reStakeOpen,\n\t\t\t\t\tonDeny: () => setReStakeOpen(false),\n\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\tonReStake()\n\t\t\t\t\t},\n\t\t\t\t\tconfirmActionName: t(\"common.reStake\"),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\ti18nKey=\"dialogs.reStakeConfirmation\"\n\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\tamount: formatADXPretty(tomRewardADX ? tomRewardADX : ZERO),\n\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\tunbondDays: UNBOND_DAYS,\n\t\t\t\t\t\t\t\textraInfo: !stats.userBonds.find(x => x.status === \"Active\")\n\t\t\t\t\t\t\t\t\t? t(\"dialogs.reActivatingInfo\")\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\tbox: <Box mb={2}></Box>\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Gasless\n","import React, { useState } from \"react\"\nimport { getPool } from \"../helpers/bonds\"\nimport { formatADXPretty } from \"../helpers/formatting\"\nimport { UNBOND_DAYS, STAKING_RULES_URL } from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTypography,\n\tButton,\n\tFormControl,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport { themeMUI } from \"../themeMUi\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport StatsCard from \"./StatsCard\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nexport default function NewGaslessBondForm({\n\tbond = {},\n\tonStake,\n\tchosenWalletType\n}) {\n\tconst { t } = useTranslation()\n\tconst activePool = getPool(bond.poolId) || {}\n\tconst [confirmation, setConfirmation] = useState(false)\n\n\tconst onAction = () => {\n\t\tonStake(onStake)\n\t\tsetConfirmation(false)\n\t}\n\n\tconst confirmationLabel = (\n\t\t<Trans\n\t\t\ti18nKey=\"bonds.confirmationLabel\"\n\t\t\tvalues={{\n\t\t\t\tunbondDays: UNBOND_DAYS\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\te1: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref=\"https://www.adex.network/tos/\"\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\te2: STAKING_RULES_URL ? (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tid=\"new-bond-form-adex-staking-rules\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref={STAKING_RULES_URL}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t)\n\n\treturn (\n\t\t<Box\n\t\t\twidth={666}\n\t\t\tmaxWidth={1}\n\t\t\tm={1}\n\t\t\tmaxHeight=\"90vh\"\n\t\t\tp={2}\n\t\t\tpb={4}\n\t\t\tbgcolor=\"background.paper\"\n\t\t\toverflow=\"auto\"\n\t\t>\n\t\t\t<Typography variant=\"h2\">{t(\"gasless.createNewBond\")}</Typography>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Box mb={1.5}>\n\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\tsize: \"large\",\n\t\t\t\t\t\t\tloaded: true,\n\t\t\t\t\t\t\ttitle: t(\"gasless.adxBalanceOnAddr\"),\n\t\t\t\t\t\t\tsubtitle: bond.amount\n\t\t\t\t\t\t\t\t? formatADXPretty(bond.amount) + \" ADX\"\n\t\t\t\t\t\t\t\t: \"\",\n\t\t\t\t\t\t\textra: t(\"common.poolWithName\", {\n\t\t\t\t\t\t\t\tname: activePool.label\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\n\t\t\t\t{!!activePool && (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolRewardPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.rewardPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolSlashingPolicy\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.slashPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\tlabel={confirmationLabel}\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tid=\"new-bond-form-tos-check\"\n\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t></FormControlLabel>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`new-gasless-bond-stake-action-btn`}\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tdisabled={!(bond.poolId && confirmation)}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"bonds.stakeADX\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1659\",\n  \"data-name\": \"Group 1659\",\n  transform: \"translate(-945.955 485.702)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1158\",\n  \"data-name\": \"Path 1158\",\n  d: \"M955.83-477.875h-9.048a.812.812,0,0,1-.642-.251.651.651,0,0,1-.182-.443c0-.688-.009-1.377,0-2.065a1.355,1.355,0,0,1,1.306-1.261c.386-.008.772,0,1.159,0,.109,0,.139-.016.088-.131a2.607,2.607,0,0,1,2.116-3.649,2.587,2.587,0,0,1,2.1.713c.53.484,1.065.963,1.594,1.448.072.066.115.056.185,0a1.987,1.987,0,0,1,2.648-.009c.084.071.131.068.209,0,.537-.492,1.071-.986,1.617-1.467a2.5,2.5,0,0,1,2.666-.528,2.522,2.522,0,0,1,1.7,2.088,2.346,2.346,0,0,1-.185,1.378c-.073.159-.07.161.1.162.362,0,.723,0,1.085,0a1.355,1.355,0,0,1,1.36,1.345c.006.644,0,1.288,0,1.931a.73.73,0,0,1-.713.744c-.06,0-.119,0-.179,0Zm-3.563-4.021h1.425c.046,0,.108.021.128-.043s-.031-.089-.068-.123q-1.038-.941-2.078-1.882a1.074,1.074,0,0,0-.642-.281,1.171,1.171,0,0,0-1.281,1.1,1.164,1.164,0,0,0,1.181,1.231C951.377-481.894,951.822-481.9,952.267-481.9Zm7.1,0h.638c.213,0,.426,0,.638,0a1.533,1.533,0,0,0,.3-.026,1.167,1.167,0,0,0,.962-.981,1.145,1.145,0,0,0-.57-1.166,1.138,1.138,0,0,0-1.353.136c-.69.616-1.374,1.238-2.06,1.859-.039.035-.1.07-.074.133s.093.044.144.044C958.451-481.895,958.911-481.9,959.371-481.9Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1159\",\n  \"data-name\": \"Path 1159\",\n  d: \"M957.017-471.371v-5.185c0-.229,0-.23.229-.23h6.968c.235,0,.235,0,.235.242q0,4.511,0,9.019a1.564,1.564,0,0,1-.288,1.022,1.329,1.329,0,0,1-1.075.544c-1.966.007-3.932,0-5.9.006-.16,0-.173-.077-.173-.2Q957.02-468.763,957.017-471.371Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1160\",\n  \"data-name\": \"Path 1160\",\n  d: \"M954.651-471.369v5.2c0,.214,0,.215-.215.215q-2.9,0-5.792,0a1.363,1.363,0,0,1-1.409-1.4q0-4.605,0-9.209c0-.216,0-.217.21-.217h6.995c.211,0,.211,0,.211.218Q954.652-473.968,954.651-471.369Z\"\n}));\n\nvar SvgGiftIc = function SvgGiftIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 19.759,\n    height: 19.749,\n    viewBox: \"0 0 19.759 19.749\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGiftIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/gift-ic.9db901d6.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Fragment, useContext, useEffect, useState } from \"react\"\nimport {\n\tTableRow,\n\tTableCell,\n\tBox,\n\tTable,\n\tTableContainer,\n\tTableHead,\n\tTableBody,\n\tTypography,\n\tCheckbox,\n\tButton,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\nimport Tooltip from \"./Tooltip\"\nimport {\n\tformatAmountPretty,\n\tformatADXPretty,\n\tgetDAIInUSD,\n\tgetADXInUSD,\n\tgetUSDFormatted\n} from \"../helpers/formatting\"\nimport AppContext from \"../AppContext\"\nimport { DEPOSIT_POOLS, ZERO, UNBOND_DAYS } from \"../helpers/constants\"\nimport { getWithdrawActionBySelectedRewardChannels, restake } from \"../actions\"\nimport { ReactComponent as GiftIcon } from \"./../resources/gift-ic.svg\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport StatsCard from \"./StatsCard\"\nimport { AmountText } from \"./cardCommon\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nconst getTotalSelectedRewards = (rewards, selected, getTotal) => {\n\treturn rewards\n\t\t.filter(r => (selected === \"all\" ? true : selected[r.id]))\n\t\t.reduce((amounts, r) => {\n\t\t\tamounts[r.currency] = (amounts[r.currency] || ZERO).add(\n\t\t\t\tr[getTotal ? \"amount\" : \"outstandingReward\"] || ZERO\n\t\t\t)\n\n\t\t\treturn amounts\n\t\t}, {})\n}\n\nconst totalAmountsLabel = amounts =>\n\tObject.entries(amounts)\n\t\t.map(\n\t\t\t([currency, amount]) =>\n\t\t\t\t`${formatAmountPretty(amount, currency)} ${currency}`\n\t\t)\n\t\t.join(\"; \")\n\nexport default function Rewards() {\n\tconst { t } = useTranslation()\n\n\tconst { stats, chosenWalletType, wrapDoingTxns, prices } = useContext(\n\t\tAppContext\n\t)\n\tconst [rewards, setRewards] = useState([])\n\tconst { loyaltyPoolStats, tomPoolStats } = stats\n\tconst [selected, setSelected] = useState({})\n\tconst [totalAmountsSelected, setTotalAmountsSelected] = useState({})\n\tconst [reStakeOpen, setReStakeOpen] = useState(false)\n\tconst [claimOpen, setClaimOpen] = useState(false)\n\n\tconst totalRewardsAmounts = getTotalSelectedRewards(rewards, \"all\", true)\n\tconst totalOutstandingRewardsAmounts = getTotalSelectedRewards(rewards, \"all\")\n\n\tconst totalRewardsInUsd =\n\t\tgetADXInUSD(prices, totalRewardsAmounts[\"ADX\"] || ZERO) +\n\t\tgetDAIInUSD(totalRewardsAmounts[\"DAI\"] || ZERO)\n\n\tconst totalOutstandingRewardsInUsd =\n\t\tgetADXInUSD(prices, totalOutstandingRewardsAmounts[\"ADX\"] || ZERO) +\n\t\tgetDAIInUSD(totalOutstandingRewardsAmounts[\"DAI\"] || ZERO)\n\n\tconst selectedRewards = rewards.filter(x => selected[x.id])\n\tconst loaded = loyaltyPoolStats.userDataLoaded && tomPoolStats.userDataLoaded\n\n\tconst disableActionsMsg = !chosenWalletType.name\n\t\t? t(\"common.connectWallet\")\n\t\t: !loaded\n\t\t? t(\"common.loadingData\")\n\t\t: !rewards.length\n\t\t? t(\"rewards.noRewards\")\n\t\t: !selectedRewards.length\n\t\t? t(\"common.noSelection\")\n\t\t: \"\"\n\n\tconst disableReStakeMsg = !!disableActionsMsg\n\t\t? disableActionsMsg\n\t\t: selectedRewards.some(x => !x.id.startsWith(\"tom_incentive\"))\n\t\t? t(\"rewards.reStakeUnsupportedSelected\")\n\t\t: \"\"\n\n\tuseEffect(() => {\n\t\tconst {\n\t\t\trewardChannels: tomRewardChannels,\n\t\t\tuserDataLoaded: tomUserDataLoaded\n\t\t} = tomPoolStats\n\n\t\tconst {\n\t\t\tcurrentAPY: loPoCurrentAPY,\n\t\t\trewardADX: loPoRewardADX,\n\t\t\tuserDataLoaded: loPoUserDataLoaded\n\t\t} = loyaltyPoolStats\n\n\t\tif (tomUserDataLoaded && loPoUserDataLoaded) {\n\t\t\tconst loPoReward = {\n\t\t\t\tid: \"loyalty_pool\",\n\t\t\t\tname: t(\"rewards.loPoReward\"),\n\t\t\t\tamount: loPoRewardADX,\n\t\t\t\toutstandingReward: loPoRewardADX,\n\t\t\t\tcurrency: \"ADX\",\n\t\t\t\tcurrentAPY: loPoCurrentAPY,\n\t\t\t\tpoolId: DEPOSIT_POOLS[0].id\n\t\t\t}\n\n\t\t\tconst rewards = tomRewardChannels.map(channel => {\n\t\t\t\tconst rewardData = {\n\t\t\t\t\tid: `tom_${channel.type}_${new Date(\n\t\t\t\t\t\tchannel.periodStart\n\t\t\t\t\t).getTime()}_${new Date(channel.periodEnd).getTime()}`,\n\t\t\t\t\tname: t(\"rewards.poolName\", {\n\t\t\t\t\t\tpool: \"Tom\",\n\t\t\t\t\t\ttype: t(`common.${channel.type}`),\n\t\t\t\t\t\textra:\n\t\t\t\t\t\t\tchannel.type === \"fees\"\n\t\t\t\t\t\t\t\t? new Date(channel.periodEnd).toLocaleString(\"default\", {\n\t\t\t\t\t\t\t\t\t\tmonth: \"long\"\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t}),\n\t\t\t\t\tamount: channel.amount,\n\t\t\t\t\toutstandingReward: channel.outstandingReward,\n\t\t\t\t\tcurrency: channel.type === \"fees\" ? \"DAI\" : \"ADX\",\n\t\t\t\t\tcurrentAPY: channel.currentAPY,\n\t\t\t\t\tpoolId: channel.poolId,\n\t\t\t\t\trewardChannel: channel\n\t\t\t\t}\n\n\t\t\t\treturn rewardData\n\t\t\t})\n\n\t\t\tsetRewards([loPoReward, ...rewards])\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [loyaltyPoolStats, tomPoolStats])\n\n\tconst onSelectChange = (id, value) => {\n\t\tconst newSelected = { ...selected }\n\t\tnewSelected[id] = value\n\n\t\tconst totalAmountSelected = getTotalSelectedRewards(rewards, newSelected)\n\n\t\tsetTotalAmountsSelected(totalAmountSelected)\n\t\tsetSelected(newSelected)\n\t}\n\n\tconst onClaim = async () => {\n\t\tsetSelected({})\n\t\tconst actions = getWithdrawActionBySelectedRewardChannels(\n\t\t\tselectedRewards,\n\t\t\tchosenWalletType,\n\t\t\tstats\n\t\t)\n\n\t\tfor (let i = 0; i < actions.length; i++) {\n\t\t\tawait wrapDoingTxns(actions[i])()\n\t\t}\n\t}\n\n\tconst onReStake = async () => {\n\t\tsetSelected({})\n\t\tawait wrapDoingTxns(\n\t\t\trestake.bind(null, chosenWalletType, {\n\t\t\t\t// NOTE: now only tom channels are valid for re-stake at the moment\n\t\t\t\t// TODO: update when more pools\n\t\t\t\trewardChannels: selectedRewards.map(x => x.rewardChannel),\n\t\t\t\tuserBonds: tomPoolStats.userBonds\n\t\t\t})\n\t\t)()\n\t}\n\n\tconst totalSelectedLabel = totalAmountsLabel(totalAmountsSelected)\n\tconst totalRewardsLabel = totalAmountsLabel(totalRewardsAmounts) || \"0.00\"\n\tconst totalOutstandingRewardsLabel =\n\t\ttotalAmountsLabel(totalOutstandingRewardsAmounts) || \"0.00\"\n\n\tconst renderRewardRow = (reward, selected) => {\n\t\treturn (\n\t\t\t<TableRow key={reward.id}>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tdisabled={reward.outstandingReward.isZero()}\n\t\t\t\t\t\tchecked={!!selected[reward.id]}\n\t\t\t\t\t\tonChange={ev => onSelectChange(reward.id, !!ev.target.checked)}\n\t\t\t\t\t\tinputProps={{ \"aria-label\": \"primary checkbox\" }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<Box>{reward.name}</Box>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`${formatAmountPretty(reward.amount, reward.currency)} ${\n\t\t\t\t\t\t\treward.currency\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t<AmountText\n\t\t\t\t\t\ttext={`${formatAmountPretty(\n\t\t\t\t\t\t\treward.outstandingReward,\n\t\t\t\t\t\t\treward.currency\n\t\t\t\t\t\t)} ${reward.currency}`}\n\t\t\t\t\t\tfontSize={17}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">{`${(reward.currentAPY * 100).toFixed(\n\t\t\t\t\t2\n\t\t\t\t)} %`}</TableCell>\n\t\t\t</TableRow>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Box mt={2}>\n\t\t\t<Box m={1} color=\"text.main\">\n\t\t\t\t<Typography variant=\"h5\" gutterBottom>\n\t\t\t\t\t{t(\"common.rewards\")}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\t\t\t<Box display=\"flex\" flexDirection=\"row\">\n\t\t\t\t<Box\n\t\t\t\t\tm={1}\n\t\t\t\t\tp={2}\n\t\t\t\t\tbgcolor=\"background.darkerPaper\"\n\t\t\t\t\tboxShadow={25}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t>\n\t\t\t\t\t<Box m={1} fontSize={55}>\n\t\t\t\t\t\t<SvgIcon fontSize=\"inherit\" color=\"primary\">\n\t\t\t\t\t\t\t<GiftIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\ttitle: t(\"rewards.total\"),\n\t\t\t\t\t\t\tsubtitle: totalRewardsLabel,\n\t\t\t\t\t\t\textra: getUSDFormatted(totalRewardsInUsd),\n\t\t\t\t\t\t\tmultilineLinesAmounts: true\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box m={1} p={2} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t{StatsCard({\n\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\ttitle: t(\"rewards.unclaimed\"),\n\t\t\t\t\t\t\tsubtitle: totalOutstandingRewardsLabel,\n\t\t\t\t\t\t\textra: getUSDFormatted(totalOutstandingRewardsInUsd),\n\t\t\t\t\t\t\tmultilineLinesAmounts: true\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box m={1} bgcolor=\"background.darkerPaper\" boxShadow={25}>\n\t\t\t\t<Box\n\t\t\t\t\tp={2}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t>\n\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t{!!Object.keys(totalAmountsSelected).length && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Typography type=\"h5\">{t(\"rewards.totalSelected\")}:</Typography>\n\t\t\t\t\t\t\t\t<Typography type=\"h4\">{totalSelectedLabel}</Typography>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display=\"flex\" flexDirection=\"row\">\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Tooltip title={disableActionsMsg}>\n\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tid=\"btn-rewards-page-claim\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => setClaimOpen(true)}\n\t\t\t\t\t\t\t\t\t\tdisabled={!!disableActionsMsg}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"common.claim\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box m={1}>\n\t\t\t\t\t\t\t<Tooltip title={disableReStakeMsg}>\n\t\t\t\t\t\t\t\t<Box display=\"inline-block\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tid=\"btn-rewards-page-re-stake\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => setReStakeOpen(true)}\n\t\t\t\t\t\t\t\t\t\tdisabled={!!disableReStakeMsg}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"common.reStake\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box p={2}>\n\t\t\t\t\t<TableContainer xs={12}>\n\t\t\t\t\t\t<Table aria-label=\"Rewards table\">\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<TableCell></TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell>{t(\"rewards.name\")}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"rewards.total\")}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"rewards.unclaimed\")}</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{t(\"common.currentAPY\")}</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{[...(rewards || [])].map(r => renderRewardRow(r, selected))}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\n\t\t\t\t\t{(!stats.loaded || !rewards.length) && (\n\t\t\t\t\t\t<Box mt={2}>\n\t\t\t\t\t\t\t<Alert variant=\"filled\" severity=\"info\">\n\t\t\t\t\t\t\t\t{t(\"rewards.tableInfo\")}\n\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\n\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\tisOpen: reStakeOpen,\n\t\t\t\t\tonDeny: () => setReStakeOpen(false),\n\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\tsetReStakeOpen(false)\n\t\t\t\t\t\tonReStake()\n\t\t\t\t\t},\n\t\t\t\t\tconfirmActionName: t(\"common.reStake\"),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\ti18nKey=\"dialogs.reStakeConfirmation\"\n\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\tamount: formatADXPretty(totalAmountsSelected[\"ADX\"] || ZERO),\n\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\tunbondDays: UNBOND_DAYS,\n\t\t\t\t\t\t\t\textraInfo: !stats.userBonds.find(x => x.status === \"Active\")\n\t\t\t\t\t\t\t\t\t? t(\"dialogs.reActivatingInfo\")\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\tbox: <Box mb={2}></Box>\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t})}\n\n\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\tisOpen: claimOpen,\n\t\t\t\t\tonDeny: () => setClaimOpen(false),\n\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\tsetClaimOpen(false)\n\t\t\t\t\t\tonClaim()\n\t\t\t\t\t},\n\t\t\t\t\tconfirmActionName: t(\"common.claim\"),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Box mb={1}>\n\t\t\t\t\t\t\t\t<Typography>{t(\"dialogs.claimConfirmation\")}</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{selectedRewards.map(reward => (\n\t\t\t\t\t\t\t\t<Box key={reward.id}>\n\t\t\t\t\t\t\t\t\t{reward.name}\n\t\t\t\t\t\t\t\t\t{\": \"}\n\t\t\t\t\t\t\t\t\t{formatAmountPretty(\n\t\t\t\t\t\t\t\t\t\treward.outstandingReward,\n\t\t\t\t\t\t\t\t\t\treward.currency\n\t\t\t\t\t\t\t\t\t)}{\" \"}\n\t\t\t\t\t\t\t\t\t{reward.currency}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t{t(\"dialogs.forTotal\", { total: totalSelectedLabel })}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(222.283 597.452)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-165.533-585.571c-1.471-.154-2.685-.228-3.881-.415a5.679,5.679,0,0,1-4.824-5.962,5.72,5.72,0,0,1,5.316-5.412c3.187-.136,6.384-.066,9.577-.07,4.367,0,8.735-.063,13.1.03a5.778,5.778,0,0,1,5.567,7.481c-.635,2.362-3.2,4.108-6.189,4.2-.694.02-1.389,0-2.258,0,0,2.27-.046,4.416.056,6.556.014.285.756.714,1.2.772a65.788,65.788,0,0,1,19.029,5.6,62.2,62.2,0,0,1,14.022,8.85c.719.6,1.207.688,1.859-.052,1.145-1.3,2.357-2.541,3.685-3.961-.357-.32-.892-.741-1.359-1.228a3.411,3.411,0,0,1-.25-4.707,3.7,3.7,0,0,1,4.943-.5c1.2.968,2.286,2.087,3.411,3.151,1.977,1.87,3.956,3.738,5.916,5.627,1.563,1.507,1.769,3.427.565,4.884a3.71,3.71,0,0,1-5.178.426c-.806-.676-1.264-.654-1.95.092a35.9,35.9,0,0,1-3.038,2.92c-.735.63-.708,1.054-.128,1.832a96.617,96.617,0,0,1,5.642,8.034A57.776,57.776,0,0,1-93.169-527.2a59.463,59.463,0,0,1,.246,18.073,59.427,59.427,0,0,1-11.733,28.06,62.53,62.53,0,0,1-19.929,17.232,44.509,44.509,0,0,1-6.091,2.724,121.413,121.413,0,0,1-11.8,3.98,63.854,63.854,0,0,1-23.688,1.111,63.662,63.662,0,0,1-22.63-7.086c-14.35-7.736-24.655-19.092-30.2-34.537a57.37,57.37,0,0,1-3.18-16.033,57.884,57.884,0,0,1,8.541-34.426,63.154,63.154,0,0,1,31.6-26.3,64.676,64.676,0,0,1,15.424-4.028c.385-.05,1.009-.52,1.022-.816C-165.492-581.341-165.533-583.445-165.533-585.571ZM-116.582-482.8a50.567,50.567,0,0,0,13.607-31.582c-1.042,0-1.831-.029-2.618.005-3.841.165-3.667-.522-3.605-3.874.028-1.536.617-2.055,2.206-2.078,1.256-.018,2.513,0,3.735,0,1.446-7.154-7.472-27.519-13.634-31.274-.5.471-1.008.948-1.512,1.433-2.7,2.6-2.944,2.59-5.586-.139-1.1-1.136-1.119-1.878-.019-2.98.89-.892,1.818-1.746,2.707-2.6-.092-.178-.115-.285-.18-.34-9.243-7.75-20-11.716-31.923-12.754-.251-.022-.673.373-.781.661a3.306,3.306,0,0,0-.041,1.255c.2,4.233-.538,4.021-4.273,3.965a1.776,1.776,0,0,1-1.951-1.921c-.022-1.033-.02-2.066-.012-3.1.006-.748-.342-1.023-1.064-.862a7.068,7.068,0,0,1-.964.183,53.837,53.837,0,0,0-24.063,7.815c-2.407,1.467-4.649,3.2-7.073,4.888.73.7,1.2,1.153,1.676,1.6,2.748,2.582,2.744,2.973-.057,5.438-1.235,1.087-1.926,1.094-3.167-.029-.925-.838-1.815-1.715-2.71-2.564-6.912,5.575-14.863,23.814-13.611,31.319,1.273,0,2.577-.019,3.88,0,1.492.028,2.119.645,2.194,2.126.026.515.023,1.033,0,1.549-.065,1.784-.533,2.246-2.3,2.265-1.3.014-2.593,0-4.04,0,.78,12.331,5.563,22.6,13.644,31.589l1.821-1.714c2.7-2.549,2.881-2.546,5.523.082,1.125,1.118,1.145,2.021.032,3.116-.923.908-1.872,1.789-2.861,2.73.407.36.7.646,1.026.9a55.921,55.921,0,0,0,16.749,9.245,60.342,60.342,0,0,0,14.145,2.925c.927.091,1.293-.176,1.238-1.131-.06-1.03-.032-2.066,0-3.1a1.763,1.763,0,0,1,1.873-1.848c2.832-.23,3.987.12,4.289,1.37a3.723,3.723,0,0,1,.049.841c.005.892.057,1.789-.013,2.676-.081,1.029.323,1.268,1.307,1.186a56.251,56.251,0,0,0,26.8-9.216c1.733-1.146,3.358-2.454,5.051-3.7-.694-.712-1.2-1.255-1.727-1.769-2.693-2.6-2.685-2.981.153-5.431,1.237-1.068,1.9-1.046,3.158.114C-118.579-484.658-117.659-483.8-116.582-482.8Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M90.872-306.352h-5.99v-17.426c1.789,0,3.6-.048,5.4.041.356.018.73.524,1.022.868,1.818,2.139,3.614,4.3,5.705,6.791V-323.7h5.98v17.389c-1.705,0-3.424.051-5.135-.042-.355-.019-.721-.536-1.014-.881-1.9-2.245-3.783-4.507-5.967-7.115Z\",\n  transform: \"translate(-220.606 -196.543)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-48.262-316.215c-.1,4.386-2.926,7.842-7.586,8.957-5.611,1.343-11.787-1.9-12.4-7.984a8.225,8.225,0,0,1,1.86-6.294,10.039,10.039,0,0,1,9.921-3.6,9.148,9.148,0,0,1,7.679,6.182A17.525,17.525,0,0,1-48.262-316.215Zm-10.078-3.869a3.84,3.84,0,0,0-3.821,4,3.894,3.894,0,0,0,3.872,3.969,3.808,3.808,0,0,0,3.812-3.993A3.865,3.865,0,0,0-58.339-320.084Z\",\n  transform: \"translate(-110.59 -195.454)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M27.755-316.128c-.119,4.308-2.926,7.72-7.53,8.855-5.674,1.4-11.834-1.933-12.451-7.911a8.258,8.258,0,0,1,1.819-6.3,10.018,10.018,0,0,1,9.9-3.651,9.153,9.153,0,0,1,7.761,6.27A17.311,17.311,0,0,1,27.755-316.128Zm-10.022,4.014a3.808,3.808,0,0,0,3.809-4,3.866,3.866,0,0,0-3.867-3.972,3.842,3.842,0,0,0-3.819,4A3.9,3.9,0,0,0,17.733-312.114Z\",\n  transform: \"translate(-165.189 -195.455)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-116.77-322.405l-2.7,3.621c-2.068-.454-3.9-.9-5.76-1.225-.39-.067-.862.342-1.3.531.371.345.687.878,1.122,1,1.659.482,3.386.738,5.033,1.253,2.662.832,4.016,2.463,4.056,4.62a5.33,5.33,0,0,1-3.931,5.25,14.661,14.661,0,0,1-12.785-1.7,7.35,7.35,0,0,1-.718-.613l2.887-3.34c2.177.619,4.067,1.268,6.01,1.646.675.131,1.48-.409,2.226-.642a8.313,8.313,0,0,0-1.838-1.171c-1.6-.508-3.3-.726-4.874-1.3-1.949-.71-3.437-1.982-3.477-4.294a5.053,5.053,0,0,1,3.3-5.106C-125.134-325.588-120.906-325-116.77-322.405Z\",\n  transform: \"translate(-63.585 -195.785)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-23.021-369.079l-2.873-4.113-.315.077v5.838h-4.381v-13.039c1.384,0,2.737-.056,4.079.037a1.756,1.756,0,0,1,1.038.776c.828,1.171,1.585,2.392,2.486,3.771.807-1.235,1.568-2.238,2.15-3.337a2.266,2.266,0,0,1,2.374-1.28c3.19.063,3.191.018,3.191,3.18q0,4.153,0,8.306c0,.5-.045,1-.073,1.569h-4.458v-5.84l-.329-.111Z\",\n  transform: \"translate(-137.675 -155.923)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M61.058-375.16v-5.279h4.45v12.979c-1.173,0-2.29.059-3.4-.032A1.933,1.933,0,0,1,61-368.164c-1.454-1.642-2.862-3.324-4.588-5.346v5.977H51.92V-380.3a4.7,4.7,0,0,1,5.738,1.543q1.507,1.766,3.037,3.513C60.738-375.2,60.851-375.206,61.058-375.16Z\",\n  transform: \"translate(-196.933 -155.686)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-81.233-367.778c-3-.036-5.4-1.193-6.767-3.935a6.121,6.121,0,0,1,.77-6.984,7.31,7.31,0,0,1,7.532-2.657c4.176.845,6.308,3.677,5.912,7.688C-74.115-370.338-77.349-367.783-81.233-367.778Zm0-3.906a2.821,2.821,0,0,0,2.933-2.9,2.95,2.95,0,0,0-2.83-3.052,2.817,2.817,0,0,0-2.9,2.928A2.8,2.8,0,0,0-81.234-371.683Z\",\n  transform: \"translate(-95.903 -155.069)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M118.237-379.492l-2.427,2.859a19.4,19.4,0,0,0-1.937-.879,3.055,3.055,0,0,0-3.471.828,3.2,3.2,0,0,0-.507,3.663,3.114,3.114,0,0,0,3.066,1.824c1.186.027,1.79-.427,1.342-1.775l-2.09-.214v-2.441h6.565c0,1.819.036,3.631-.033,5.44a1.459,1.459,0,0,1-.719.924,9.591,9.591,0,0,1-9.277.57A6.16,6.16,0,0,1,105-374.364a6.39,6.39,0,0,1,3.182-6.024A8.609,8.609,0,0,1,118.237-379.492Z\",\n  transform: \"translate(-235.051 -155.02)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M-123.944-378.071l-3.463,1.962c-2.246-1.787-3.459-1.939-4.606-.6a3.4,3.4,0,0,0,.2,4.372c1.217,1.116,2.777.8,4.391-.938l3.519,1.924c-1.286,2.757-4.475,4.122-7.922,3.457a6.788,6.788,0,0,1-5.537-6.391,6.8,6.8,0,0,1,4.914-6.887C-128.922-382.2-125.647-381.053-123.944-378.071Z\",\n  transform: \"translate(-60.981 -155.067)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.163-366.909H29.821v-12.913h4.342Z\",\n  transform: \"translate(-181.061 -156.302)\"\n}));\n\nvar SvgComingSoonIc = function SvgComingSoonIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 129.934,\n    height: 142.038,\n    viewBox: \"0 0 129.934 142.038\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgComingSoonIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/coming-soon-ic.556674d8.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Fragment } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tButton,\n\tCircularProgress,\n\tTypography,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport { ReactComponent as ComingSoonImg } from \"./../resources/coming-soon-ic.svg\"\nimport { CardRow } from \"./cardCommon\"\nimport Tooltip from \"./Tooltip\"\nimport { useTranslation } from \"react-i18next\"\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 69,\n\t\t\theight: 69,\n\t\t\ttop: -theme.spacing(3),\n\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\tcolor: theme.palette.background.default,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: theme.palette.overlay\n\t\t},\n\t\tloading: {\n\t\t\tposition: \"absolute\",\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\ttop: 0,\n\t\t\tleft: 0\n\t\t},\n\t\tcomingSoon: {\n\t\t\twidth: 160,\n\t\t\theight: \"auto\"\n\t\t}\n\t}\n})\n\nexport default function PoolCard({\n\tid,\n\ticon,\n\tname,\n\ttotalStakedADX,\n\ttotalStakedUSD,\n\tcurrentAPY,\n\tweeklyYield,\n\tweeklyYieldInfo,\n\tonStakeBtnClick,\n\tloading,\n\tdisabled,\n\tdisabledInfo,\n\tlockupPeriodTitle,\n\tlockupPeriodInfo,\n\tlockupPeriod,\n\tloaded,\n\tactions,\n\tcomingSoon,\n\tactionBtn,\n\textraData = []\n}) {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<Box\n\t\t\tbgcolor={\"background.paper\"}\n\t\t\tp={3}\n\t\t\tmy={3}\n\t\t\tmx={1.5}\n\t\t\tpt={7}\n\t\t\twidth={270}\n\t\t\tmaxWidth=\"100%\"\n\t\t\tminHeight={420}\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\talignItems=\"center\"\n\t\t\tboxShadow={25}\n\t\t\tposition=\"relative\"\n\t\t>\n\t\t\t<Box mb={3}>\n\t\t\t\t<Typography align=\"center\" variant=\"h5\" color=\"textPrimary\">\n\t\t\t\t\t{name}\n\t\t\t\t</Typography>\n\t\t\t</Box>\n\n\t\t\t{comingSoon ? (\n\t\t\t\t<Box>\n\t\t\t\t\t<SvgIcon className={classes.comingSoon} color=\"primary\">\n\t\t\t\t\t\t<ComingSoonImg\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\theight=\"100%\"\n\t\t\t\t\t\t\t// width={160}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</SvgIcon>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Box>\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={t(\"common.totalStaked\")}\n\t\t\t\t\t\t// infoText={t('common.totalStaked')}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\ttext={totalStakedADX}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={totalStakedADX}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={totalStakedUSD}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={totalStakedADX}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={t(\"pools.currentAPYLabel\")}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\ttext={currentAPY}\n\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t// infoText={currentAPY}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={t(\"pools.currentDailyYield\", { yield: weeklyYield })}\n\t\t\t\t\t\tinfoText={weeklyYieldInfo}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={lockupPeriodTitle}\n\t\t\t\t\t\tinfoText={lockupPeriodInfo}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\ttext={lockupPeriod}\n\t\t\t\t\t\t// infoText={\"Current annual yield (APY)\"}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\tmb={3}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{extraData.map(data => (\n\t\t\t\t\t\t<Fragment key={data.id}>\n\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\tcolor=\"text.main\"\n\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\ttext={data.title}\n\t\t\t\t\t\t\t\tinfoText={data.titleInfo}\n\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{data.importantValue && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"warning.main\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\t\t\t\tfontSize={20}\n\t\t\t\t\t\t\t\t\ttext={data.importantValue}\n\t\t\t\t\t\t\t\t\tisAmountText\n\t\t\t\t\t\t\t\t\tinfoText={data.valueInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{data.normalValue && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\t\ttext={data.normalValue}\n\t\t\t\t\t\t\t\t\tinfoText={data.valueInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\tmb={3}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{data.extra && (\n\t\t\t\t\t\t\t\t<CardRow\n\t\t\t\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\t\t\t\tfontWeight={\"fontWeightRegular\"}\n\t\t\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\t\t\ttext={data.extra}\n\t\t\t\t\t\t\t\t\tinfoText={data.extrInfo}\n\t\t\t\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\t\t\t\tmb={3}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))}\n\n\t\t\t\t\t<Tooltip title={disabled ? disabledInfo : \"\"}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{actionBtn || (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tid={`stake-pool-${id}`}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tonClick={onStakeBtnClick}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"common.stake\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t{!!loading && (\n\t\t\t\t<Box\n\t\t\t\t\tclasses={{ root: classes.overlay }}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t>\n\t\t\t\t\t<Typography align=\"center\" component=\"div\" variant=\"h3\"></Typography>\n\t\t\t\t</Box>\n\t\t\t)}\n\n\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t{icon || null}\n\t\t\t\t{!!loading && (\n\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\tclasses={{ root: classes.loading }}\n\t\t\t\t\t\tsize={69}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M25.81,123.07c-6.88,0-13.75,0-20.63,0a4.81,4.81,0,0,1-4.79-3.19,4.94,4.94,0,0,1,1.15-5.51,5.24,5.24,0,0,1,4.12-1.45q18,0,36,0c2.85,0,2.83,0,2.21-2.84a71,71,0,0,1,1.67-37.22,13.43,13.43,0,0,0,.65-4.74c-.6-12.82-2.17-25.57-3-38.37-.51-7.77-1-15.55.16-23.32a17.14,17.14,0,0,1,.36-1.73c1-4.15,2.48-5.09,6.64-4.35,6.88,1.24,13.07,4.18,18.93,7.86A102.65,102.65,0,0,1,89,24.93a2.66,2.66,0,0,0,3.23.77,70.38,70.38,0,0,1,44.8,0,2.51,2.51,0,0,0,3.06-.74c7.51-7.75,15.56-14.84,25.23-19.83A49.65,49.65,0,0,1,180,.12c2.64-.44,4,.32,5,2.88a25.67,25.67,0,0,1,1.49,8.54c.35,9-.37,17.92-1.11,26.86s-1.65,18.07-2.21,27.13a32.38,32.38,0,0,0,1.5,10.72,70.6,70.6,0,0,1,.57,34.45c-.5,2.22-.52,2.22,1.84,2.22q18.3,0,36.6,0c3.1,0,5.22,1.81,5.44,4.57a5,5,0,0,1-5.09,5.56c-4.67.06-9.35,0-14,0H183.6c-.54,0-1.08,0-1.61,0-.86.07-1.16.76-1.31,1.44-.19.87.61.87,1.15,1l24.91,6.66c.62.16,1.25.31,1.86.51a5,5,0,0,1,3.58,6.42,5.1,5.1,0,0,1-6.45,3.31c-4.57-1.2-9.13-2.44-13.7-3.66-5.08-1.37-10.18-2.7-15.25-4.12a1.86,1.86,0,0,0-2.42.88,41.55,41.55,0,0,1-2.6,3.49,1.22,1.22,0,0,0,.09,1.93q7.92,7.81,15.79,15.67c1.22,1.21,2.49,2.37,3.69,3.59a5.24,5.24,0,0,1,.29,7.52c-2.09,2.14-5.09,2.1-7.45-.23q-9.28-9.19-18.48-18.46c-1.56-1.56-1.59-1.58-3.18-.18a70.5,70.5,0,0,1-38.6,17.52A71.48,71.48,0,0,1,76.62,156.3a63,63,0,0,1-9.91-7.43c-1.13-1-2-1-3.12.11-6,6.13-12.14,12.18-18.22,18.27-1.26,1.26-2.65,2.22-4.53,2A4.84,4.84,0,0,1,36.47,166a5.12,5.12,0,0,1,1.35-5.63c2.27-2.28,4.61-4.49,6.9-6.76,4.12-4.09,8.2-8.22,12.35-12.27.94-.91,1-1.57.16-2.54a18.77,18.77,0,0,1-2.21-3c-.74-1.28-1.63-1.37-3-1-9.48,2.6-19,5.13-28.48,7.67a5.13,5.13,0,0,1-6-7.66,6,6,0,0,1,3.77-2.28q12.69-3.36,25.38-6.78c.67-.18,1.88,0,1.77-1.16s-1.07-1.52-2.24-1.51c-6.83,0-13.65,0-20.48,0Zm88.65,9.27c.68.22.6.74.73,1.11a31.42,31.42,0,0,0,2.19,5c3.33,6,8.82,8.25,15.14,5.72,8.42-3.38,13-10,14.63-18.81,1-5.23-1.31-8.69-5.68-11.13a25.34,25.34,0,0,0-4.68-2.14c-13.68-4.33-27.48-4.32-41.33-1a25.5,25.5,0,0,0-10,4.61c-2.53,2-4,4.49-3.66,7.8.86,9.11,5.36,15.88,13.42,20.09,4.56,2.37,9.24,2.32,13.44-1.15a17,17,0,0,0,4.6-6.9C113.67,134.5,114.05,133.42,114.46,132.34ZM82.2,88.18a7.38,7.38,0,0,0-7.49,7.41,7.5,7.5,0,1,0,15,.14A7.39,7.39,0,0,0,82.2,88.18Zm64.73,0a7.37,7.37,0,0,0-7.42,7.47,7.47,7.47,0,0,0,7.38,7.57,7.64,7.64,0,0,0,7.62-7.56A7.39,7.39,0,0,0,146.93,88.18Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M114.68,111.67A26.83,26.83,0,0,1,122,112.8c1.84.68,2.23,1.36,2.05,3.3-.47,4.94-4.66,8.94-9.37,8.94a9.82,9.82,0,0,1-9.42-8.89c-.2-2,.21-2.71,2.15-3.39A27.63,27.63,0,0,1,114.68,111.67Z\"\n})));\n\nvar SvgTomIc = function SvgTomIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 229.17 169.33\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTomIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tom-ic.13f67482.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"Path_1168\",\n  x: 11.521,\n  y: 113.598,\n  width: 145.899,\n  height: 118.003,\n  filterUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"feOffset\", {\n  dx: 10,\n  dy: 3,\n  input: \"SourceAlpha\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 3,\n  result: \"blur\"\n}), /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0.161\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  operator: \"in\",\n  in2: \"blur\"\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in: \"SourceGraphic\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"Path_1169\",\n  x: 9.921,\n  y: 115.427,\n  width: 145.901,\n  height: 118.003,\n  filterUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"feOffset\", {\n  dx: -10,\n  dy: 3,\n  input: \"SourceAlpha\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 3,\n  result: \"blur-2\"\n}), /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0.161\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  operator: \"in\",\n  in2: \"blur-2\"\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in: \"SourceGraphic\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"Path_1170\",\n  x: 0,\n  y: 144.227,\n  width: 163.528,\n  height: 94.837,\n  filterUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 3,\n  input: \"SourceAlpha\"\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 5,\n  result: \"blur-3\"\n}), /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0.161\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  operator: \"in\",\n  in2: \"blur-3\"\n}), /*#__PURE__*/React.createElement(\"feComposite\", {\n  in: \"SourceGraphic\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1695\",\n  \"data-name\": \"Group 1695\",\n  transform: \"translate(-96.002 -732)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1171\",\n  \"data-name\": \"Path 1171\",\n  d: \"M-6223.623-543.645c-54.988,33.69-83.644,70.09-51.5,92.163s70.089,52.664,96.034,30.592,22.459-46.081,45.307-60.022,42.209-67.767-6.583-75.511S-6223.623-543.645-6223.623-543.645Z\",\n  transform: \"translate(6443.376 1355.756)\",\n  fill: \"#fff\",\n  opacity: 0.1\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1658\",\n  \"data-name\": \"Group 1658\",\n  transform: \"matrix(0.995, 0.105, -0.105, 0.995, 122.426, 797.436)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1167\",\n  \"data-name\": \"Path 1167\",\n  d: \"M0,54.46,65.286.94a4.151,4.151,0,0,1,5.261,0l65.287,53.52L67.916,115.218Z\",\n  transform: \"translate(0)\",\n  fill: \"#484557\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1659\",\n  \"data-name\": \"Group 1659\",\n  transform: \"matrix(0.995, -0.105, 0.105, 0.995, 36.912, 56.043)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Ellipse_85\",\n  \"data-name\": \"Ellipse 85\",\n  cx: 27.328,\n  cy: 27.328,\n  r: 27.328,\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 14.146, 0)\",\n  fill: \"#ff4269\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1659-2\",\n  \"data-name\": \"Group 1659\",\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 24.684, 16.757)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1155\",\n  \"data-name\": \"Path 1155\",\n  d: \"M12.571,9.964H1.053a1.034,1.034,0,0,1-.817-.32A.828.828,0,0,1,0,9.082c0-.876-.012-1.753.005-2.629A1.724,1.724,0,0,1,1.671,4.848c.491-.01.983-.005,1.475,0,.139,0,.177-.02.112-.167A3.332,3.332,0,0,1,8.619.942c.675.616,1.356,1.226,2.029,1.843.092.084.146.071.235,0a2.529,2.529,0,0,1,3.371-.011c.107.09.167.087.266,0C15.2,2.14,15.884,1.511,16.579.9A3.177,3.177,0,0,1,19.973.227a3.21,3.21,0,0,1,2.17,2.658,2.988,2.988,0,0,1-.235,1.754c-.093.2-.089.205.127.206.461,0,.92,0,1.381,0a1.725,1.725,0,0,1,1.731,1.712c.008.82.005,1.64,0,2.458a.93.93,0,0,1-.908.947c-.076,0-.151,0-.228,0ZM8.035,4.845H9.849c.058,0,.137.027.163-.055s-.04-.113-.087-.157Q8.6,3.436,7.28,2.237a1.369,1.369,0,0,0-.818-.358,1.486,1.486,0,1,0-.127,2.965C6.9,4.848,7.469,4.845,8.035,4.845Zm9.043,0h.812c.271,0,.542,0,.812,0a1.947,1.947,0,0,0,.375-.033A1.486,1.486,0,0,0,20.3,3.563a1.481,1.481,0,0,0-2.448-1.311c-.878.784-1.749,1.576-2.622,2.366-.05.045-.122.089-.094.169s.118.056.183.056C15.907,4.847,16.493,4.845,17.078,4.845Z\",\n  transform: \"translate(0 0)\",\n  fill: \"#f7fafc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1156\",\n  \"data-name\": \"Path 1156\",\n  d: \"M0,6.893V.293C0,0,0,0,.294,0h8.87c.3,0,.3,0,.3.308q0,5.742,0,11.481a1.99,1.99,0,0,1-.367,1.3,1.691,1.691,0,0,1-1.368.693c-2.5.009-5.005,0-7.508.008-.2,0-.22-.1-.22-.258Q.006,10.213,0,6.893Z\",\n  transform: \"translate(14.079 11.35)\",\n  fill: \"#f7fafc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1157\",\n  \"data-name\": \"Path 1157\",\n  d: \"M9.441,6.9v6.617c0,.272,0,.274-.274.274q-3.687,0-7.373,0A1.735,1.735,0,0,1,0,12Q0,6.137,0,.276C0,0,0,0,.268,0h8.9c.269,0,.269,0,.269.278Q9.443,3.587,9.441,6.9Z\",\n  transform: \"translate(1.629 11.35)\",\n  fill: \"#f7fafc\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.99, -0.1, 0.1, 0.99, -33.12, -62.32)\",\n  filter: \"url(#Path_1168)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1168-2\",\n  \"data-name\": \"Path 1168\",\n  d: \"M118.337,88.117H4.293A4.294,4.294,0,0,1,0,83.822V0Z\",\n  transform: \"matrix(0.99, 0.1, -0.1, 0.99, 20.73, 119.6)\",\n  fill: \"#7b7597\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.99, -0.1, 0.1, 0.99, -33.12, -62.32)\",\n  filter: \"url(#Path_1169)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1169-2\",\n  \"data-name\": \"Path 1169\",\n  d: \"M0,88.117H114.043a4.3,4.3,0,0,0,4.3-4.295V0Z\",\n  transform: \"matrix(0.99, 0.1, -0.1, 0.99, 38.13, 121.43)\",\n  fill: \"#7b7597\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(0.99, -0.1, 0.1, 0.99, -33.12, -62.32)\",\n  filter: \"url(#Path_1170)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1170-2\",\n  \"data-name\": \"Path 1170\",\n  d: \"M0,51.653,61.922.892a3.936,3.936,0,0,1,4.991,0l61.922,50.761Z\",\n  transform: \"matrix(0.99, 0.1, -0.1, 0.99, 20.4, 156.23)\",\n  fill: \"#908aac\"\n}))), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1172\",\n  \"data-name\": \"Path 1172\",\n  d: \"M1463.765,1907.449l.814,3.615a.6.6,0,0,0,.359.422l3.44,1.378a.6.6,0,0,1,.083,1.064l-3.187,1.892a.594.594,0,0,0-.29.471l-.247,3.7a.6.6,0,0,1-.987.407l-2.784-2.446a.594.594,0,0,0-.538-.13l-3.593.907a.6.6,0,0,1-.691-.812l1.465-3.4a.6.6,0,0,0-.042-.552l-1.973-3.137a.6.6,0,0,1,.559-.909l3.689.342a.594.594,0,0,0,.512-.211l2.374-2.846A.6.6,0,0,1,1463.765,1907.449Z\",\n  transform: \"translate(-1170.38 -1117.073)\",\n  fill: \"#ff4269\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1175\",\n  \"data-name\": \"Path 1175\",\n  d: \"M8.264.464l.814,3.615a.6.6,0,0,0,.359.422l3.44,1.378a.6.6,0,0,1,.083,1.064L9.774,8.835a.594.594,0,0,0-.29.471L9.236,13a.6.6,0,0,1-.987.407L5.466,10.966a.594.594,0,0,0-.538-.13l-3.593.907a.6.6,0,0,1-.691-.812l1.465-3.4a.6.6,0,0,0-.042-.552L.093,3.838a.6.6,0,0,1,.559-.909l3.689.342a.594.594,0,0,0,.512-.211L7.227.214A.6.6,0,0,1,8.264.464Z\",\n  transform: \"translate(182.053 753.689) rotate(-30)\",\n  fill: \"#feb006\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1176\",\n  \"data-name\": \"Path 1176\",\n  d: \"M5.525.31l.544,2.417a.4.4,0,0,0,.24.282l2.3.921a.4.4,0,0,1,.055.711L6.534,5.906a.4.4,0,0,0-.194.315L6.174,8.693a.4.4,0,0,1-.659.272L3.654,7.33a.4.4,0,0,0-.36-.087l-2.4.606A.4.4,0,0,1,.43,7.307l.979-2.275a.4.4,0,0,0-.028-.369L.062,2.565a.4.4,0,0,1,.374-.607L2.9,2.187a.4.4,0,0,0,.342-.141L4.831.143A.4.4,0,0,1,5.525.31Z\",\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 265.169, 867.102)\",\n  fill: \"#7b7597\",\n  opacity: 0.5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Ellipse_83\",\n  \"data-name\": \"Ellipse 83\",\n  cx: 5.385,\n  cy: 5.385,\n  r: 5.385,\n  transform: \"translate(322.44 849.846)\",\n  fill: \"#feb006\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Ellipse_84\",\n  \"data-name\": \"Ellipse 84\",\n  cx: 3.199,\n  cy: 3.199,\n  r: 3.199,\n  transform: \"translate(206.571 782.074)\",\n  fill: \"#f7fafc\",\n  opacity: 0.4\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"Ellipse_86\",\n  \"data-name\": \"Ellipse 86\",\n  cx: 2.106,\n  cy: 2.106,\n  r: 2.106,\n  transform: \"translate(111.471 818.146)\",\n  fill: \"#7b7597\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1173\",\n  \"data-name\": \"Path 1173\",\n  d: \"M1154.925,1954.689c1.1.9,1.71,2.838,2.263,4.492a.435.435,0,0,0,.844-.075c.248-1.683.488-3.609,1.178-4.642.557-.833,2.384-1.588,4.018-2.05a.434.434,0,0,0-.042-.846,10.9,10.9,0,0,1-3.932-1.29c-1.169-.842-1.42-2.294-1.719-3.884a.436.436,0,0,0-.851-.021,11.73,11.73,0,0,1-1.556,3.762c-1.528,1.841-6.711,2.125-6.769,2.688C1148.231,1954.075,1153.578,1953.589,1154.925,1954.689Z\",\n  transform: \"translate(-1005.333 -1100.582)\",\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1174\",\n  \"data-name\": \"Path 1174\",\n  d: \"M7.648,10.07c1.276,1.043,1.991,3.3,2.635,5.23a.507.507,0,0,0,.982-.087c.288-1.96.568-4.2,1.371-5.4.649-.97,2.776-1.848,4.678-2.387a.506.506,0,0,0-.048-.985,12.691,12.691,0,0,1-4.578-1.5c-1.361-.98-1.654-2.671-2-4.522A.507.507,0,0,0,9.695.389a13.661,13.661,0,0,1-1.812,4.38C6.1,6.912.069,7.243,0,7.9-.146,9.356,6.079,8.79,7.648,10.07Z\",\n  transform: \"translate(265.799 732) rotate(90)\",\n  fill: \"#7b7597\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1660\",\n  \"data-name\": \"Group 1660\",\n  transform: \"translate(195.603 803.162)\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  id: \"Ellipse_85-2\",\n  \"data-name\": \"Ellipse 85\",\n  cx: 24.008,\n  cy: 24.008,\n  rx: 24.008,\n  ry: 24.008,\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 12.427, 0)\",\n  fill: \"#feb006\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1177\",\n  \"data-name\": \"Path 1177\",\n  d: \"M14.26.8l1.405,6.238a1.028,1.028,0,0,0,.62.728l5.936,2.378a1.027,1.027,0,0,1,.143,1.835l-5.5,3.265a1.025,1.025,0,0,0-.5.813l-.427,6.381a1.027,1.027,0,0,1-1.7.7l-4.8-4.219A1.024,1.024,0,0,0,8.5,18.7L2.3,20.263a1.026,1.026,0,0,1-1.193-1.4l2.528-5.873a1.028,1.028,0,0,0-.073-.953L.16,6.622a1.027,1.027,0,0,1,.965-1.569l6.366.591a1.025,1.025,0,0,0,.883-.364L12.47.37A1.027,1.027,0,0,1,14.26.8Z\",\n  transform: \"translate(217.999 817.965) rotate(19)\",\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1663\",\n  \"data-name\": \"Group 1663\",\n  transform: \"translate(111.062 762.668) rotate(-11)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1661\",\n  \"data-name\": \"Group 1661\",\n  transform: \"translate(0 32.952) rotate(-45)\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  id: \"Ellipse_85-3\",\n  \"data-name\": \"Ellipse 85\",\n  cx: 19.025,\n  cy: 19.025,\n  rx: 19.025,\n  ry: 19.025,\n  transform: \"matrix(0.966, 0.259, -0.259, 0.966, 9.848, 0)\",\n  fill: \"#ff4269\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1662\",\n  \"data-name\": \"Group 1662\",\n  transform: \"translate(23.949 23.666)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1155-2\",\n  \"data-name\": \"Path 1155\",\n  d: \"M8.922,7.072H.747a.734.734,0,0,1-.58-.227A.588.588,0,0,1,0,6.446C0,5.824-.005,5.2.006,4.58a1.224,1.224,0,0,1,1.18-1.139c.349-.007.7,0,1.047,0,.1,0,.126-.014.08-.118A2.365,2.365,0,0,1,6.117.669c.479.437.962.87,1.44,1.308.065.06.1.051.167,0a1.8,1.8,0,0,1,2.392-.008c.076.064.118.061.189,0,.485-.445.968-.891,1.461-1.326A2.255,2.255,0,0,1,14.176.161a2.278,2.278,0,0,1,1.54,1.886,2.121,2.121,0,0,1-.167,1.245c-.066.144-.063.145.09.146.327,0,.653,0,.98,0a1.224,1.224,0,0,1,1.229,1.215c.005.582,0,1.164,0,1.745a.66.66,0,0,1-.644.672c-.054,0-.108,0-.162,0ZM5.7,3.439H6.99c.042,0,.1.019.116-.039s-.028-.08-.061-.111q-.938-.85-1.877-1.7a.971.971,0,0,0-.58-.254,1.055,1.055,0,1,0-.09,2.1C4.9,3.441,5.3,3.439,5.7,3.439Zm6.418,0h1.153a1.389,1.389,0,0,0,.267-.024,1.055,1.055,0,0,0,.869-.886A1.051,1.051,0,0,0,12.672,1.6c-.623.557-1.241,1.119-1.861,1.68-.035.032-.087.063-.067.12s.084.04.13.04C11.29,3.44,11.705,3.439,12.121,3.439Z\",\n  transform: \"translate(0 0)\",\n  fill: \"#f7fafc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1156-2\",\n  \"data-name\": \"Path 1156\",\n  d: \"M0,4.892V.208C0,0,0,0,.209,0H6.5c.212,0,.212,0,.212.219q0,4.075,0,8.149a1.413,1.413,0,0,1-.26.923,1.2,1.2,0,0,1-.971.491c-1.776.006-3.552,0-5.329.005C.012,9.788,0,9.718,0,9.6Q0,7.249,0,4.892Z\",\n  transform: \"translate(9.993 8.056)\",\n  fill: \"#f7fafc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1157-2\",\n  \"data-name\": \"Path 1157\",\n  d: \"M6.7,4.894v4.7c0,.193,0,.194-.194.194H1.274A1.232,1.232,0,0,1,0,8.516Q0,4.356,0,.2C0,0,0,0,.19,0H6.51C6.7,0,6.7,0,6.7.2Q6.7,2.546,6.7,4.894Z\",\n  transform: \"translate(1.156 8.056)\",\n  fill: \"#f7fafc\"\n}))));\n\nvar SvgMailAwards = function SvgMailAwards(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 237.372,\n    height: 239.064,\n    viewBox: \"0 0 237.372 239.064\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMailAwards, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/mail-awards.a438812f.svg\";\nexport { ForwardRef as ReactComponent };","export const validateEmail = email => {\n\tconst re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\treturn re.test(String(email).toLowerCase())\n}\n","import { stringify } from \"query-string\"\n\nconst MAUTIC_BASE_URL = `https://mautic.adex.net`\n\nexport const submitFormToMautic = async ({\n\temail,\n\tformId,\n\treturnValue,\n\tformName,\n\tmessenger\n}) => {\n\tconst data = stringify({\n\t\t\"mauticform[email]\": email,\n\t\t\"mauticform[formId]\": formId || \"\",\n\t\t\"mauticform[return]\": returnValue || \"\",\n\t\t\"mauticform[formName]\": formName || \"\",\n\t\t\"mauticform[messenger]\": messenger || true\n\t})\n\tconst response = await fetch(\n\t\t`${MAUTIC_BASE_URL}/form/submit?formId=${formId}`,\n\t\t{\n\t\t\tmethod: \"POST\",\n\t\t\tbody: data,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded;charset=UTF-8\",\n\t\t\t\t\"X-Requested-With\": \"XMLHttpRequest\"\n\t\t\t}\n\t\t}\n\t)\n\tconst utf8Decoder = new TextDecoder(\"utf-8\")\n\tconst reader = response.body.getReader()\n\tlet { value: mauticDataResponse } = await reader.read()\n\tmauticDataResponse = mauticDataResponse\n\t\t? utf8Decoder.decode(mauticDataResponse)\n\t\t: \"\"\n\treturn mauticDataResponse\n}\n\nexport const extractJSONResponseFromHTML = async mauticDataResponse => {\n\tconst regex = /parent.postMessage\\(\"(.+)\".+\\)/gm\n\tconst matches = regex.exec(mauticDataResponse)\n\tif (matches && matches.length >= 1) {\n\t\tconst message = matches[1]\n\t\tlet messageCopy = message\n\t\tconst asciiRegex = /\\\\.../gm\n\t\tlet m\n\t\twhile ((m = asciiRegex.exec(message)) !== null) {\n\t\t\t// This is necessary to avoid infinite loops with zero-width matches\n\t\t\tif (m.index === asciiRegex.lastIndex) {\n\t\t\t\tasciiRegex.lastIndex++\n\t\t\t}\n\n\t\t\t// The result can be accessed through the `m`-variable.\n\t\t\t/*eslint no-loop-func: \"off\"*/\n\t\t\tm.forEach((match, groupIndex) => {\n\t\t\t\tconst decoded = String.fromCharCode(match.replace(\"\\\\\", 0))\n\t\t\t\tmessageCopy = messageCopy.split(match).join(decoded)\n\t\t\t})\n\t\t}\n\t\t// not able to JSON parse directly so I had to do this above ↑\n\t\treturn JSON.parse(messageCopy)\n\t} else {\n\t\tconsole.warn(`No matches found:`, mauticDataResponse)\n\t\treturn {}\n\t}\n}\n","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tBox,\n\tButton,\n\tTypography,\n\tCheckbox,\n\tFormGroup,\n\tFormControl,\n\tFormControlLabel,\n\tTextField\n} from \"@material-ui/core\"\nimport { CardRow } from \"./cardCommon\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport { ReactComponent as EmailAwardsIcon } from \"./../resources/mail-awards.svg\"\nimport { validateEmail } from \"./../helpers/validation\"\nimport {\n\textractJSONResponseFromHTML,\n\tsubmitFormToMautic\n} from \"../mauticActions\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nconst useStyles = makeStyles(theme => {\n\treturn {\n\t\ticonBox: {\n\t\t\tborderRadius: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\twidth: 160,\n\t\t\theight: 160,\n\t\t\ttop: -theme.spacing(4),\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tcolor: theme.palette.background.default,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\tbold: {\n\t\t\tfontWeight: 800\n\t\t},\n\t\tsingUp: {\n\t\t\tbackgroundColor: theme.palette.text.main,\n\t\t\tborderRadius: 20\n\t\t},\n\t\tgdprCheckbox: ({ errors }) => ({\n\t\t\tfontSize: 10,\n\t\t\tcolor: errors.gdpr ? theme.palette.error.main : theme.palette.text.main\n\t\t}),\n\t\ttosCheckbox: ({ errors }) => ({\n\t\t\tfontSize: 10,\n\t\t\tcolor: errors.tos ? theme.palette.error.main : theme.palette.text.main\n\t\t})\n\t}\n})\n\nexport default function EmailSignUp(props) {\n\tconst { t } = useTranslation()\n\n\tconst [email, setEmail] = useState(\"\")\n\tconst [mauticState, setMauticState] = useState({})\n\tconst [waiting, setWaiting] = useState(false)\n\tconst [gdpr, setGDPR] = useState(false)\n\tconst [tos, setTos] = useState(false)\n\tconst [errors, setErrors] = useState({\n\t\temail: false,\n\t\tgdpr: false,\n\t\ttos: false\n\t})\n\tconst classes = useStyles({ errors })\n\n\tuseEffect(() => {\n\t\t// console.log(email, gdpr, errors)\n\t}, [email, gdpr, errors])\n\n\tconst handleValidationErrors = () => {\n\t\tsetErrors({\n\t\t\temail: !validateEmail(email),\n\t\t\tgdpr: !gdpr,\n\t\t\ttos: !tos\n\t\t})\n\t}\n\n\tconst handleSubmit = async () => {\n\t\thandleValidationErrors()\n\t\tif (validateEmail(email) && gdpr && tos) {\n\t\t\tsetWaiting(true)\n\t\t\ttry {\n\t\t\t\tconst HTMLResponse = await submitFormToMautic({ ...props, email })\n\t\t\t\tconst jsonResponse = await extractJSONResponseFromHTML(HTMLResponse)\n\t\t\t\tsetMauticState({\n\t\t\t\t\t...jsonResponse\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\t// If cors is not enabled for address\n\t\t\t\tconsole.error(error)\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tbgcolor={\"background.paper\"}\n\t\t\tp={3}\n\t\t\tmy={3}\n\t\t\tmx={1.5}\n\t\t\tpt={15}\n\t\t\twidth={270}\n\t\t\tmaxWidth=\"100%\"\n\t\t\tminHeight={420}\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\talignItems=\"center\"\n\t\t\tboxShadow={25}\n\t\t\tposition=\"relative\"\n\t\t>\n\t\t\t{/* Used for debugging mautic responses */}\n\t\t\t{/* <Box>{JSON.stringify(mauticState)}</Box> */}\n\t\t\t<Box classes={{ root: classes.iconBox }}>\n\t\t\t\t<EmailAwardsIcon />\n\t\t\t</Box>\n\t\t\t{mauticState.success ? (\n\t\t\t\t<CardRow\n\t\t\t\t\tmt={3}\n\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\tfontSize={16}\n\t\t\t\t\ttext={mauticState.successMessage}\n\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\theight={1}\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<CardRow\n\t\t\t\t\t\tmt={3}\n\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\tfontWeight={\"fontWeightBold\"}\n\t\t\t\t\t\tfontSize={16}\n\t\t\t\t\t\ttext={t(\"email.subscribe\")}\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Box color=\"warning.main\" fontWeight={\"fontWeightBold\"}>\n\t\t\t\t\t\t<Typography component=\"span\" variant=\"h6\">\n\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\ti18nKey=\"email.win\"\n\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\trewards: \"5x1,000\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\tstrong: (\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.bold}\n\t\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t\t\t\t\t\t\t></Typography>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Typography>{\" \"}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width={1} mt={2}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tid={\"email-signup-email-input\"}\n\t\t\t\t\t\t\tlabel={t(\"email.email\")}\n\t\t\t\t\t\t\tvariant=\"filled\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonBlur={e =>\n\t\t\t\t\t\t\t\tsetErrors({ ...errors, email: !validateEmail(e.target.value) })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\n\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\terrors.email ? t(\"email.validEmail\") : t(\"email.bestEmail\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\terror={errors.email}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mt={1} width={1}>\n\t\t\t\t\t\t<FormControl error={errors.gdpr}>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tid={\"email-signup-gdpr-checkbox\"}\n\t\t\t\t\t\t\t\t\tonChange={e => setGDPR(e.target.checked)}\n\t\t\t\t\t\t\t\t\tname=\"gdpr\"\n\t\t\t\t\t\t\t\t\tclasses={{ label: classes.gdprCheckbox }}\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox size=\"small\" name=\"checkedA\" />}\n\t\t\t\t\t\t\t\t\tlabel={t(\"email.gdprLabel\")}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mt={1} width={1}>\n\t\t\t\t\t\t<FormControl error={errors.tos}>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tid={\"email-signup-tos-checkbox\"}\n\t\t\t\t\t\t\t\t\tonChange={e => setTos(e.target.checked)}\n\t\t\t\t\t\t\t\t\tname=\"tos\"\n\t\t\t\t\t\t\t\t\tclasses={{ label: classes.tosCheckbox }}\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox size=\"small\" name=\"checkedA\" />}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\t\t\t\ti18nKey=\"email.promotionTerms\"\n\t\t\t\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\t\t\t\texternalLink: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\"email-signup-tos-check\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`https://www.adex.network/blog/subscribe-and-win-5000-adx/`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box width={1} mt={2} display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tid={`sign-up-email`}\n\t\t\t\t\t\t\tdisabled={waiting}\n\t\t\t\t\t\t\tclassName={classes.singUp}\n\t\t\t\t\t\t\tonClick={() => handleSubmit()}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{waiting ? t(\"email.submitting\") : t(\"email.submitBtnLabel\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n","import React, { useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport { Box, SvgIcon, useMediaQuery } from \"@material-ui/core\"\nimport { AccountBalanceSharp as LiquidityIcon } from \"@material-ui/icons\"\nimport PoolCard from \"./PoolCard\"\nimport { formatADXPretty, getADXInUSDFormatted } from \"../helpers/formatting\"\nimport { ReactComponent as TomIcon } from \"./../resources/tom-ic.svg\"\nimport { ReactComponent as LoyaltyIcon } from \"./../resources/loyalty-ic.svg\"\nimport SectionHeader from \"./SectionHeader\"\nimport { UNBOND_DAYS, POOLS, DEPOSIT_POOLS } from \"../helpers/constants\"\nimport WithDialog from \"./WithDialog\"\nimport DepositForm from \"./DepositForm\"\nimport EmailSignUp from \"./EmailSignUpCard\"\nimport { useTranslation } from \"react-i18next\"\n\nconst DepositsDialog = WithDialog(DepositForm)\n\nconst Pools = () => {\n\tconst { t } = useTranslation()\n\tconst {\n\t\tstats,\n\t\tsetNewBondOpen,\n\t\tchosenWalletType,\n\t\tprices,\n\t\tsetNewBondPool\n\t} = useContext(AppContext)\n\tconst { loyaltyPoolStats, tomPoolStats } = stats\n\n\tconst canStake = !!chosenWalletType.name && !!stats.connectedWalletAddress\n\tconst tomAPY = tomPoolStats.totalAPY * 100\n\tconst justifyCenter = useMediaQuery(theme => theme.breakpoints.down(\"xs\"))\n\n\tconst loyaltyPoolAPY = loyaltyPoolStats.currentAPY * 100\n\n\treturn (\n\t\t<Box>\n\t\t\t<SectionHeader title={t(\"common.pools\")} />\n\t\t\t<Box mt={4}>\n\t\t\t\t<Box\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflex={1}\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t\tjustifyContent={justifyCenter ? \"center\" : \"flex-start\"}\n\t\t\t\t>\n\t\t\t\t\t<PoolCard\n\t\t\t\t\t\tid=\"validator-tom\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<TomIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={t(\"common.tom\")}\n\t\t\t\t\t\ttotalStakedADX={`${formatADXPretty(stats.totalStakeTom)} ADX`}\n\t\t\t\t\t\ttotalStakedUSD={`${getADXInUSDFormatted(\n\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\tstats.totalStakeTom\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcurrentAPY={`${tomAPY.toFixed(2)} %`}\n\t\t\t\t\t\tweeklyYield={`${(tomAPY / (365 / 7)).toFixed(4)} %`}\n\t\t\t\t\t\tweeklyYieldInfo={[\n\t\t\t\t\t\t\tt(\"pools.currentDailyYield\", {\n\t\t\t\t\t\t\t\tyield: (tomAPY / 365).toFixed(4)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonStakeBtnClick={() => {\n\t\t\t\t\t\t\tsetNewBondPool(POOLS[0].id)\n\t\t\t\t\t\t\tsetNewBondOpen(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tloading={!stats.loaded}\n\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\tdisabledInfo={t(\"pools.connectWalletToStake\")}\n\t\t\t\t\t\tlockupPeriodTitle={t(\"common.unbondPeriod\")}\n\t\t\t\t\t\tlockupPeriodInfo={t(\"pools.lockupPeriodInfo\", {\n\t\t\t\t\t\t\tcount: UNBOND_DAYS\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PoolCard\n\t\t\t\t\t\tid=\"loyalty-pool\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<LoyaltyIcon width=\"100%\" height=\"100%\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={t(\"common.loPo\")}\n\t\t\t\t\t\ttotalStakedADX={`${formatADXPretty(\n\t\t\t\t\t\t\tloyaltyPoolStats.poolTotalStaked\n\t\t\t\t\t\t)} ADX`}\n\t\t\t\t\t\ttotalStakedUSD={`${getADXInUSDFormatted(\n\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\tloyaltyPoolStats.poolTotalStaked\n\t\t\t\t\t\t)}`}\n\t\t\t\t\t\tcurrentAPY={`${loyaltyPoolAPY.toFixed(2)} %`}\n\t\t\t\t\t\tweeklyYield={`${(loyaltyPoolAPY / (365 / 7)).toFixed(4)} %`}\n\t\t\t\t\t\tweeklyYieldInfo={[\n\t\t\t\t\t\t\tt(\"pools.currentDailyYield\", {\n\t\t\t\t\t\t\t\tyield: (loyaltyPoolAPY / 365).toFixed(4)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonStakeBtnClick={() => {\n\t\t\t\t\t\t\tsetNewBondOpen(true)\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tloading={!loyaltyPoolStats.loaded}\n\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\tdisabledInfo={t(\"pools.connectWalletToDeposit\")}\n\t\t\t\t\t\tlockupPeriodTitle={t(\"common.unbondPeriod\")}\n\t\t\t\t\t\tlockupPeriodInfo={t(\"common.noUnbondPeriod\")}\n\t\t\t\t\t\tlockupPeriod={t(\"common.noUnbondPeriod\")}\n\t\t\t\t\t\textraData={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: \"loyalty-pool-deposits-limit\",\n\t\t\t\t\t\t\t\ttitle: t(\"pools.totalDepositsLimit\"),\n\t\t\t\t\t\t\t\ttitleInfo: \"\",\n\t\t\t\t\t\t\t\tnormalValue: \"25 000 000 ADX\",\n\t\t\t\t\t\t\t\timportantValue: \"\",\n\t\t\t\t\t\t\t\tvalueInfo: \"\",\n\t\t\t\t\t\t\t\textra: \"\",\n\t\t\t\t\t\t\t\textrInfo: \"\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tactionBtn={\n\t\t\t\t\t\t\t<DepositsDialog\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"loyalty-pool-deposit-form-card\"\n\t\t\t\t\t\t\t\ttitle={t(\"common.addNewDeposit\")}\n\t\t\t\t\t\t\t\tbtnLabel={t(\"common.deposit\")}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tdisabled={!canStake}\n\t\t\t\t\t\t\t\tdepositPool={DEPOSIT_POOLS[0].id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// comingSoon\n\t\t\t\t\t/>\n\t\t\t\t\t<PoolCard\n\t\t\t\t\t\tid=\"liquidity-pool\"\n\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t<SvgIcon fontSize=\"large\" color=\"inherit\">\n\t\t\t\t\t\t\t\t<LiquidityIcon />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname={t(\"common.liPo\")}\n\t\t\t\t\t\tloading={!stats.loaded}\n\t\t\t\t\t\tcomingSoon\n\t\t\t\t\t/>\n\t\t\t\t\t<EmailSignUp formId={2} formName=\"stakingportalleads\" />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default Pools\n","import React, { useEffect, useState } from \"react\"\nimport { getPool } from \"../helpers/bonds\"\nimport {\n\tparseADX,\n\tformatADX,\n\tformatADXPretty,\n\ttoIdAttributeString\n} from \"../helpers/formatting\"\nimport {\n\tUNBOND_DAYS,\n\tZERO,\n\tDEFAULT_BOND,\n\tSTAKING_RULES_URL\n} from \"../helpers/constants\"\nimport {\n\tGrid,\n\tTextField,\n\tTypography,\n\tButton,\n\tFormControl,\n\tInputLabel,\n\tSelect,\n\tMenuItem,\n\tFormControlLabel,\n\tCheckbox,\n\tBox\n} from \"@material-ui/core\"\nimport { themeMUI } from \"../themeMUi\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport { getPoolStatsByPoolId } from \"../actions\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nexport default function NewBondForm({\n\tstats,\n\tmaxAmount,\n\tonNewBond,\n\tpools,\n\tchosenWalletType,\n\tnewBondPool,\n\tsetNewBondPool\n}) {\n\tconst { t } = useTranslation()\n\tconst [bond, setBond] = useState(DEFAULT_BOND)\n\tconst [stakingAmount, setStakingAmount] = useState(\"0.0\")\n\tconst [amountErr, setAmountErr] = useState(false)\n\tconst [amountErrText, setAmountErrText] = useState(\"\")\n\tconst [confirmation, setConfirmation] = useState(false)\n\tconst minWidthStyle = { minWidth: \"180px\" }\n\tconst activePool = getPool(newBondPool)\n\tconst poolStats = activePool ? getPoolStatsByPoolId(stats, activePool.id) : {}\n\n\tconst onAction = () => {\n\t\tsetConfirmation(false)\n\t\tonNewBond(bond)\n\t}\n\n\tconst confirmationLabel = (\n\t\t<Trans\n\t\t\ti18nKey=\"bonds.confirmationLabel\"\n\t\t\tvalues={{\n\t\t\t\tunbondDays: UNBOND_DAYS\n\t\t\t}}\n\t\t\tcomponents={{\n\t\t\t\te1: (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref=\"https://www.adex.network/tos/\"\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\te2: STAKING_RULES_URL ? (\n\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\tid=\"new-bond-form-adex-staking-rules\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\thref={STAKING_RULES_URL}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<></>\n\t\t\t\t)\n\t\t\t}}\n\t\t/>\n\t)\n\n\tconst validateFields = params => {\n\t\tconst { amountBN, poolToValidate } = params\n\t\tconst minStakingAmountBN = poolToValidate\n\t\t\t? parseADX(poolToValidate.minStakingAmount)\n\t\t\t: ZERO\n\t\tif (amountBN.gt(maxAmount)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.lowADXAmount\"))\n\t\t\treturn\n\t\t}\n\t\tif (poolToValidate && amountBN.lt(minStakingAmountBN)) {\n\t\t\tsetAmountErr(true)\n\t\t\tsetAmountErrText(t(\"errors.lessDanMinPoolADX\"))\n\t\t\treturn\n\t\t}\n\t\tsetAmountErr(false)\n\t\treturn\n\t}\n\n\tconst updateStakingAmountBN = amountBN => {\n\t\tvalidateFields({ amountBN, poolToValidate: activePool })\n\t\tsetStakingAmount(formatADX(amountBN))\n\t\tsetBond({\n\t\t\t...bond,\n\t\t\tamount: amountBN\n\t\t})\n\t}\n\n\tconst updatePool = value => {\n\t\tsetNewBondPool(value)\n\t}\n\n\tuseEffect(() => {\n\t\tconst amountBN = parseADX(stakingAmount)\n\t\tconst poolToValidate = getPool(newBondPool)\n\t\tvalidateFields({ amountBN, poolToValidate })\n\t\tsetBond({ ...bond, poolId: newBondPool })\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [newBondPool])\n\n\treturn (\n\t\t<Box\n\t\t\twidth={666}\n\t\t\tmaxWidth={1}\n\t\t\tm={1}\n\t\t\tmaxHeight=\"90vh\"\n\t\t\tp={2}\n\t\t\tpb={4}\n\t\t\tbgcolor=\"background.paper\"\n\t\t\toverflow=\"auto\"\n\t\t>\n\t\t\t<h2>{t(\"bonds.createBond\")}</h2>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tid=\"new-bond-form-amount-field\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tlabel={t(\"common.labelADXAmount\")}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstyle={minWidthStyle}\n\t\t\t\t\t\tvalue={stakingAmount}\n\t\t\t\t\t\terror={amountErr}\n\t\t\t\t\t\tonChange={ev => {\n\t\t\t\t\t\t\t// since its a number input it can be a negative number which wouldn't make sense so we cap it at 0\n\t\t\t\t\t\t\tconst amount = Math.max(0, ev.target.value)\n\t\t\t\t\t\t\tconst amountBN = parseADX(amount.toString(10))\n\t\t\t\t\t\t\tupdateStakingAmountBN(amountBN)\n\t\t\t\t\t\t\tsetStakingAmount(amount.toString(10))\n\t\t\t\t\t\t}}\n\t\t\t\t\t\thelperText={amountErr ? amountErrText : null}\n\t\t\t\t\t/>\n\t\t\t\t\t<Box mt={1}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tid=\"new-bond-form-max-amount-btn\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tupdateStakingAmountBN(maxAmount)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"common.maxAmountBtn\", {\n\t\t\t\t\t\t\t\tamount: formatADXPretty(maxAmount),\n\t\t\t\t\t\t\t\tcurrency: \"ADX\"\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6}>\n\t\t\t\t\t<FormControl fullWidth required>\n\t\t\t\t\t\t<InputLabel>{t(\"common.pool\")}</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tid=\"new-bond-form-pool-select\"\n\t\t\t\t\t\t\tstyle={minWidthStyle}\n\t\t\t\t\t\t\tvalue={newBondPool}\n\t\t\t\t\t\t\tonChange={ev => updatePool(ev.target.value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={\"\"}>\n\t\t\t\t\t\t\t\t<em>{t(\"common.none\")}</em>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t{pools.map(({ label, id }) => (\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\tid={`new-bond-form-values-${toIdAttributeString(label)}`}\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tvalue={id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(label)}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t\t{!!activePool && (\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolRewardPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.rewardPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t{t(\"common.poolSlashingPolicy\")}:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t{t(activePool.slashPolicy)}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\">{t(\"common.poolAPY\")}:</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\t\ti18nKey=\"bonds.currentYield\"\n\t\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\t\tapy: (poolStats.totalAPY * 100).toFixed(2),\n\t\t\t\t\t\t\t\t\t\tsign: \"%\"\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\t\tfarmer: (\n\t\t\t\t\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t\t\t\t\t\t\t\t\t\t🌾\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} style={{ marginTop: themeMUI.spacing(2) }}>\n\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t\t{t(\"messages.signAllTransactions\", {\n\t\t\t\t\t\t\t\t\t\twallet: chosenWalletType.name || \"\"\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tstyle={{ userSelect: \"none\" }}\n\t\t\t\t\t\tlabel={confirmationLabel}\n\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\tid=\"new-bond-form-tos-check\"\n\t\t\t\t\t\t\t\tchecked={confirmation}\n\t\t\t\t\t\t\t\tonChange={ev => setConfirmation(ev.target.checked)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t></FormControlLabel>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<FormControl style={{ display: \"flex\" }}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid={`new-bond-stake-btn-${toIdAttributeString(\n\t\t\t\t\t\t\t\tbond ? bond.poolId || \"bond\" : \"pool-not-selected\"\n\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\t\tbond.poolId &&\n\t\t\t\t\t\t\t\t\tconfirmation &&\n\t\t\t\t\t\t\t\t\tbond.amount.gt(ZERO) &&\n\t\t\t\t\t\t\t\t\t!amountErr\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={onAction}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(\"bonds.stakeADX\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t)\n}\n","import React, { useEffect, useState } from \"react\"\nimport { Contract } from \"ethers\"\nimport Snackbar from \"@material-ui/core/Snackbar\"\nimport MuiAlert from \"@material-ui/lab/Alert\"\nimport { formatUnits } from \"ethers/utils\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport { ExternalAnchor } from \"./Anchor\"\nimport { ZERO, ADDR_ADX } from \"../helpers/constants\"\nimport ERC20ABI from \"../abi/ERC20\"\nimport { defaultProvider } from \"./../ethereum\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nconst ADDR_ADX_OLD = \"0x4470BB87d77b963A013DB939BE332f927f2b992e\"\n\nconst provider = defaultProvider\nconst LegacyToken = new Contract(ADDR_ADX_OLD, ERC20ABI, provider)\n\nexport default function LegacyADXSwapDialog(\n\tgetSigner,\n\twrapDoingTxns,\n\tchosenWalletType\n) {\n\tconst { t } = useTranslation()\n\t// Amount to migrate\n\tconst [amount, setAmount] = useState(ZERO)\n\tconst [isSwapInPrg, setSwapInPrg] = useState(false)\n\n\tuseEffect(() => {\n\t\tif (!getSigner || !chosenWalletType.name) return\n\t\tconst refreshAmount = async () => {\n\t\t\tconst signer = await getSigner(chosenWalletType)\n\t\t\tif (!signer) return\n\t\t\tconst walletAddr = await signer.getAddress()\n\t\t\tsetAmount(await LegacyToken.balanceOf(walletAddr))\n\t\t}\n\t\trefreshAmount().catch(e => console.error(e))\n\t}, [getSigner, chosenWalletType])\n\n\tconst farmer = (\n\t\t<span role=\"img\" aria-label=\"farmer\">\n\t\t\t🌾\n\t\t</span>\n\t)\n\tconst content = (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\t<Trans\n\t\t\t\t\ti18nKey=\"legacy.p1\"\n\t\t\t\t\tvalues={{\n\t\t\t\t\t\tamount: amount.gt(ZERO) ? formatUnits(amount, 4) : \"\"\n\t\t\t\t\t}}\n\t\t\t\t\tcomponents={{\n\t\t\t\t\t\texternal: (\n\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\thref={`https://www.adex.network/blog/token-upgrade-defi-features/`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>{t(\"legacy.p2\")}</b>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<Trans\n\t\t\t\t\ti18nKey=\"legacy.p3\"\n\t\t\t\t\tvalues={{\n\t\t\t\t\t\twallet: chosenWalletType.name || \"MetaMask\"\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>\n\t\t\t\t\t<Trans\n\t\t\t\t\t\ti18nKey=\"legacy.p4\"\n\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\tamount: amount.gt(ZERO) ? formatUnits(amount, 4) : \"\"\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\tfarmer,\n\t\t\t\t\t\t\texternal: (\n\t\t\t\t\t\t\t\t<ExternalAnchor\n\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\t\t\tid=\"new-bond-form-adex-network-tos\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\t\t\t\"https://www.adex.network/blog/new-token-economics-and-staking/\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</b>\n\t\t\t</p>\n\t\t</div>\n\t)\n\tconst onSwap = wrapDoingTxns(\n\t\tswapTokens.bind(null, setAmount, amount, getSigner, chosenWalletType)\n\t)\n\tconst dialog = ConfirmationDialog({\n\t\tisOpen: amount.gt(ZERO),\n\t\tonDeny: () => setAmount(ZERO),\n\t\tonConfirm: async () => {\n\t\t\tconst txns = await onSwap()\n\t\t\tif (!txns) return\n\t\t\tsetSwapInPrg(true)\n\t\t\tawait Promise.all(txns.map(x => x.wait()))\n\t\t\tsetSwapInPrg(false)\n\t\t},\n\t\tconfirmActionName: t(\"legacy.swapNow\"),\n\t\ttitle: t(\"legacy.adxToUpgrade\"),\n\t\tcontent\n\t})\n\treturn (\n\t\t<>\n\t\t\t{dialog}\n\t\t\t<Snackbar open={isSwapInPrg}>\n\t\t\t\t<MuiAlert elevation={6} variant=\"filled\" severity=\"success\">\n\t\t\t\t\t{t(\"legacy.swapInProgress\")}\n\t\t\t\t</MuiAlert>\n\t\t\t</Snackbar>\n\t\t</>\n\t)\n}\n\nasync function swapTokens(setAmount, amount, getSigner, chosenWalletType) {\n\tsetAmount(ZERO)\n\tconst signer = await getSigner(chosenWalletType)\n\tconst walletAddr = await signer.getAddress()\n\tconst legacyTokenWithSigner = new Contract(ADDR_ADX_OLD, ERC20ABI, signer)\n\tconst newTokenWithSigner = new Contract(\n\t\tADDR_ADX,\n\t\t[\"function swap(uint prevTokenAmount) external\"],\n\t\tsigner\n\t)\n\tconst allowance = await legacyTokenWithSigner.allowance(walletAddr, ADDR_ADX)\n\n\tlet txns = []\n\t// this mechanism is used so that we auto-calculate gas on the first tx, but hard-set on the next txns since they depend\n\t// on the state of the previous\n\tlet hasAutocalculatedGas = false\n\tconst firstTimeGasLimit = gasLimit => {\n\t\tif (hasAutocalculatedGas) return { gasLimit }\n\t\thasAutocalculatedGas = true\n\t\treturn {}\n\t}\n\tif (allowance.lt(amount)) {\n\t\tif (allowance.gt(ZERO)) {\n\t\t\ttxns.push(\n\t\t\t\tawait legacyTokenWithSigner.approve(\n\t\t\t\t\tADDR_ADX,\n\t\t\t\t\tZERO,\n\t\t\t\t\tfirstTimeGasLimit(60000)\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t\ttxns.push(\n\t\t\tawait legacyTokenWithSigner.approve(\n\t\t\t\tADDR_ADX,\n\t\t\t\tamount,\n\t\t\t\tfirstTimeGasLimit(60000)\n\t\t\t)\n\t\t)\n\t}\n\ttxns.push(await newTokenWithSigner.swap(amount, firstTimeGasLimit(100000)))\n\treturn txns\n}\n","import React, { useState } from \"react\"\nimport { Button, Menu, Link, MenuItem } from \"@material-ui/core\"\nimport HelpIcon from \"@material-ui/icons/HelpOutline\"\nimport { useTranslation } from \"react-i18next\"\n\nexport const Help = () => {\n\tconst { t } = useTranslation()\n\tconst [menuEl, setMenuEl] = useState(null)\n\tconst openHelpMenu = ev => {\n\t\tsetMenuEl(ev.currentTarget)\n\t}\n\tconst closeHelpMenu = () => {\n\t\tsetMenuEl(null)\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tid=\"help-menu-btn\"\n\t\t\t\tsize=\"large\"\n\t\t\t\tstartIcon={<HelpIcon size=\"large\" />}\n\t\t\t\tonClick={openHelpMenu}\n\t\t\t>\n\t\t\t\t{t(\"help.help\")}\n\t\t\t</Button>\n\t\t\t<Menu\n\t\t\t\tid=\"help-menu-menu\"\n\t\t\t\tanchorEl={menuEl}\n\t\t\t\topen={Boolean(menuEl)}\n\t\t\t\tkeepMounted\n\t\t\t\tonClose={closeHelpMenu}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n\t\t\t\ttransformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n\t\t\t>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-tos\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://www.adex.network/tos\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"common.tos\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-staking-user-guide\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://help.adex.network/hc/en-us/categories/360002707720-Staking\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"help.userGuide\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-staking-source-code\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://github.com/adexnetwork/adex-protocol-eth\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"help.sourceCode\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-network-audits\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://github.com/adexnetwork/adex-protocol-eth#audits\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"help.audits\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t\t<Link\n\t\t\t\t\tid=\"help-menu-external-link-adex-wher-to-buy-markets\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\thref=\"https://coinmarketcap.com/currencies/adx-net/markets/\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={closeHelpMenu}>{t(\"help.whereToBuy\")}</MenuItem>\n\t\t\t\t</Link>\n\t\t\t</Menu>\n\t\t</>\n\t)\n}\n","import React, { Fragment, useContext } from \"react\"\nimport AppContext from \"../AppContext\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Chip, Fab, Icon } from \"@material-ui/core\"\nimport { AccountBalanceWalletSharp as AccountBalanceWalletIcon } from \"@material-ui/icons\"\nimport Jazzicon, { jsNumberForAddress } from \"react-jazzicon\"\nimport { formatAddress } from \"../helpers/formatting\"\nimport copy from \"copy-to-clipboard\"\nimport { useTranslation } from \"react-i18next\"\n\nconst useStyles = makeStyles(theme => ({\n\tfabIcon: {\n\t\tmarginRight: theme.spacing(1)\n\t},\n\tchipRoot: {\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\tcolor: theme.palette.text.main,\n\t\tfontWeight: theme.typography.fontWeightBold,\n\t\tfontSize: theme.typography.pxToRem(15),\n\t\t// To match medium size fab\n\t\theight: 40,\n\t\tborderRadius: 40 / 2\n\t},\n\tchipIcon: {\n\t\tmarginLeft: 9,\n\t\tmarginRight: 0,\n\t\twidth: 26,\n\t\theight: 26\n\t}\n}))\n\nexport const Wallet = () => {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\n\tconst { setConnectWallet, chosenWalletType, addSnack, account } = useContext(\n\t\tAppContext\n\t)\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{!chosenWalletType.name || !account ? (\n\t\t\t\t<Fab\n\t\t\t\t\tid=\"connect-wallet-btn-topbar\"\n\t\t\t\t\tonClick={() => setConnectWallet(true)}\n\t\t\t\t\tvariant=\"extended\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tsize=\"medium\"\n\t\t\t\t\tdisabled={chosenWalletType.name && !account}\n\t\t\t\t>\n\t\t\t\t\t<AccountBalanceWalletIcon className={classes.fabIcon} />\n\t\t\t\t\t{t(\"common.connectWallet\")}\n\t\t\t\t</Fab>\n\t\t\t) : (\n\t\t\t\t<Chip\n\t\t\t\t\tid=\"wallet-address-top-bar-copy\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tcopy(account)\n\t\t\t\t\t\taddSnack(t(\"messages.addrCopied\", { account }), \"success\")\n\t\t\t\t\t}}\n\t\t\t\t\tclickable\n\t\t\t\t\tclasses={{ root: classes.chipRoot, icon: classes.chipIcon }}\n\t\t\t\t\ticon={\n\t\t\t\t\t\taccount ? (\n\t\t\t\t\t\t\t<Icon>\n\t\t\t\t\t\t\t\t<Jazzicon diameter={26} seed={jsNumberForAddress(account)} />\n\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t) : null\n\t\t\t\t\t}\n\t\t\t\t\tlabel={formatAddress(account)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n","import { fade } from \"@material-ui/core/styles/colorManipulator\"\n\nconst drawerWidth = 269\nconst maxContentWidth = 1420\n\nexport const styles = theme => {\n\treturn {\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t\toverflow: \"hidden\",\n\t\t\tposition: \"relative\",\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\theight: \"100vh\",\n\t\t\twidth: \"100vw\",\n\t\t\tbackgroundColor: theme.palette.background.default,\n\t\t\tbackgroundImage: `radial-gradient(\n\t\t\t\tcircle,\n\t\t\t\t${fade(theme.palette.background.special, 0.333)} 0%,\n\t\t\t\t${fade(theme.palette.common.black, 0.69)} 146%\n\t\t\t)`,\n\t\t\tbackgroundRepeat: \"no-repeat\",\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tbackgroundPositionX: drawerWidth / 2,\n\t\t\t\tbackgroundImage: `radial-gradient(\n\t\t\t\t\tcircle,\n\t\t\t\t\t${fade(theme.palette.background.special, 0.333)} 0%,\n\t\t\t\t\t${fade(theme.palette.common.black, 0.69)} 93%\n\t\t\t\t)`\n\t\t\t}\n\t\t},\n\t\ttoolbar: {\n\t\t\tflexWrap: \"wrap\",\n\t\t\tpaddingLeft: theme.spacing(2),\n\t\t\tpaddingRight: theme.spacing(2),\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(4),\n\t\t\t\tpaddingRight: theme.spacing(4),\n\t\t\t\tmarginLeft: drawerWidth\n\t\t\t},\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\n\t\t\t\tpaddingRight: theme.spacing(1.5)\n\t\t\t}\n\t\t},\n\t\ttoolbarActions: {\n\t\t\tmaxWidth: maxContentWidth,\n\t\t\tmargin: \"auto\"\n\t\t},\n\t\tdrawerPaper: {\n\t\t\twidth: drawerWidth,\n\t\t\t// height: '110vh',\n\t\t\tbackgroundColor: theme.palette.background.darkerPaper\n\t\t},\n\t\tcontent: {\n\t\t\tflexGrow: 1,\n\t\t\tpadding: theme.spacing(2),\n\t\t\tpaddingTop: theme.spacing(2),\n\t\t\toverflow: \"auto\",\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tpadding: theme.spacing(4),\n\t\t\t\tpaddingTop: theme.spacing(4),\n\t\t\t\tmarginLeft: drawerWidth\n\t\t\t},\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\t\tpaddingLeft: theme.spacing(1.5),\n\t\t\t\tpaddingRight: theme.spacing(1.5)\n\t\t\t}\n\t\t},\n\t\tcontentInner: {\n\t\t\tmaxWidth: maxContentWidth,\n\t\t\tmargin: \"auto\",\n\t\t\tmarginBottom: theme.spacing(2)\n\t\t\t// // Because of the floating button and table paging\n\t\t\t// [theme.breakpoints.down(\"sm\")]: {\n\t\t\t// \tpaddingBottom: 146 + theme.spacing(2)\n\t\t\t// }\n\t\t},\n\t\tmodal: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"center\"\n\t\t},\n\t\talwaysOnTop: {\n\t\t\tzIndex: `${theme.zIndex.tooltip * 2} !important`\n\t\t}\n\t}\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { AppBar, Toolbar, IconButton, Box, Hidden } from \"@material-ui/core\"\nimport { MenuSharp as MenuIcon } from \"@material-ui/icons\"\nimport { Help } from \"./HelperMenu\"\nimport { Wallet } from \"./WalletMenu\"\nimport { styles } from \"./rootStyles\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useStyles = makeStyles(styles)\n\nexport const AppToolbar = ({ handleDrawerToggle }) => {\n\tconst classes = useStyles()\n\n\treturn (\n\t\t<AppBar elevation={0} color=\"transparent\" position=\"static\">\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tid=\"mobile-burger-btn\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t</Hidden>\n\t\t\t\t<Box\n\t\t\t\t\tclassName={classes.toolbarActions}\n\t\t\t\t\tflex=\"1\"\n\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tjustifyContent=\"flex-end\"\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t>\n\t\t\t\t\t<Box mr={2}>\n\t\t\t\t\t\t<Help />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Wallet />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t)\n}\n\nAppToolbar.propTypes = {\n\thandleDrawerToggle: PropTypes.func.isRequired\n}\n","import React, { forwardRef } from \"react\"\nimport { withRouter } from \"react-router-dom\"\n\nconst WithRouterLink = Component => {\n\tconst Decorated = props => {\n\t\tconst resolveToLocation = to => {\n\t\t\tconst path = typeof to === \"object\" ? to : { pathname: to }\n\t\t\tconst href = props.history.createHref(path)\n\t\t\treturn href\n\t\t}\n\n\t\tconst handleClick = async event => {\n\t\t\tevent.preventDefault()\n\t\t\tevent.stopPropagation()\n\t\t\tconst { to, onClick } = props\n\n\t\t\tif (onClick && typeof onClick === \"function\") {\n\t\t\t\tawait onClick()\n\t\t\t\tprops.history.push(to)\n\t\t\t} else {\n\t\t\t\tprops.history.push(to)\n\t\t\t}\n\t\t}\n\n\t\tconst {\n\t\t\tforwardedRef,\n\t\t\tto,\n\t\t\tmatch,\n\t\t\tlocation,\n\t\t\thistory,\n\t\t\tstaticContext,\n\t\t\tonClick,\n\t\t\t...rest\n\t\t} = props\n\t\tconst toLocation = resolveToLocation(to)\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={forwardedRef}\n\t\t\t\t{...rest}\n\t\t\t\thref={toLocation}\n\t\t\t\tonClick={handleClick}\n\t\t\t/>\n\t\t)\n\t}\n\n\tconst WithRouter = withRouter(Decorated)\n\n\treturn forwardRef((props, ref) => (\n\t\t<WithRouter {...props} forwardedRef={ref} />\n\t))\n}\n\nexport default WithRouterLink\n","import React from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport RewardCard from \"./RewardCard\"\nimport StatsCard from \"./StatsCard\"\nimport { formatADXPretty, getADXInUSDFormatted } from \"../helpers/formatting\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function UserData({ stats, prices, onClaimRewards, onRestake }) {\n\tconst { t } = useTranslation()\n\tconst {\n\t\ttomPoolStats,\n\t\trewardChannels,\n\t\tconnectedWalletAddress,\n\t\ttotalRewardADX,\n\t\ttotalRewardDAI,\n\t\tuserBonds\n\t} = stats\n\n\tconst identityChannels = rewardChannels.filter(\n\t\tchannel => channel.claimFrom !== connectedWalletAddress\n\t)\n\n\treturn (\n\t\t<Box width={1}>\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tsize: \"large\",\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: t(\"userData.myAdxBalance\"),\n\t\t\t\t\tsubtitle: stats.totalBalanceADX\n\t\t\t\t\t\t? formatADXPretty(stats.totalBalanceADX) + \" ADX\"\n\t\t\t\t\t\t: \"\",\n\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.totalBalanceADX)\n\t\t\t\t\t/*actions: (<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t>upgrade</Button>)*/\n\t\t\t\t})}\n\t\t\t</Box>\n\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: t(\"userData.onWallet\"),\n\t\t\t\t\ttitleInfo: t(\"userData.onWalletInfo\"),\n\t\t\t\t\tsubtitle: stats.userBalance\n\t\t\t\t\t\t? formatADXPretty(stats.userBalance) + \" ADX\"\n\t\t\t\t\t\t: \"\",\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.userBalance)\n\t\t\t\t})}\n\t\t\t</Box>\n\n\t\t\t<Box mb={1.5}>\n\t\t\t\t{StatsCard({\n\t\t\t\t\tloaded: stats.loaded,\n\t\t\t\t\ttitle: t(\"userData.activeStake\"),\n\t\t\t\t\ttitleInfo: t(\"userData.activeStakeInfo\", {\n\t\t\t\t\t\tapy: (tomPoolStats.totalAPY * 100).toFixed(2)\n\t\t\t\t\t}),\n\t\t\t\t\tsubtitle: formatADXPretty(stats.userTotalStake) + \" ADX\",\n\t\t\t\t\textra: getADXInUSDFormatted(prices, stats.userTotalStake)\n\t\t\t\t})}\n\t\t\t</Box>\n\n\t\t\t<Box>\n\t\t\t\t{RewardCard({\n\t\t\t\t\tprices,\n\t\t\t\t\trewardChannels: identityChannels,\n\t\t\t\t\tuserBonds,\n\t\t\t\t\ttotalRewardADX,\n\t\t\t\t\ttotalRewardDAI,\n\t\t\t\t\tonClaimRewards,\n\t\t\t\t\tonRestake\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React from \"react\"\nimport StatsCard from \"./StatsCard\"\nimport { ZERO } from \"../helpers/constants\"\nimport { Button, Box } from \"@material-ui/core\"\nimport {\n\tformatDAIPretty,\n\tformatADXPretty,\n\tgetADXInUSD,\n\tgetDAIInUSD,\n\tgetUSDFormatted\n} from \"../helpers/formatting\"\n\nimport { useTranslation } from \"react-i18next\"\n\nexport default function RewardCard({\n\trewardChannels,\n\tuserBonds,\n\ttotalRewardADX,\n\ttotalRewardDAI,\n\tonClaimRewards,\n\tonRestake,\n\tprices\n}) {\n\tconst { t } = useTranslation()\n\tconst title = t(\"userData.unclaimed\")\n\tconst loaded = rewardChannels != null\n\tif (!loaded) {\n\t\treturn StatsCard({\n\t\t\tloaded,\n\t\t\ttitle,\n\t\t\textra: \"0.00 USD\",\n\t\t\tsubtitle: \"0.00 DAI\"\n\t\t})\n\t}\n\n\tconst restakeEnabled =\n\t\ttotalRewardADX.gt(ZERO) && userBonds.find(x => x.status !== \"Unbonded\")\n\tconst rewardActions = (\n\t\t<Box display=\"flex\" flexDirection=\"row\" paddingTop={1} flex={1}>\n\t\t\t<Box width={1 / 2} pr={0.5}>\n\t\t\t\t<Button\n\t\t\t\t\tid=\"claim-reward-tom-side-nav\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tdisabled={totalRewardADX.add(totalRewardDAI).eq(ZERO)}\n\t\t\t\t\tonClick={() => onClaimRewards(rewardChannels)}\n\t\t\t\t\tdisableElevation\n\t\t\t\t>\n\t\t\t\t\t{t(\"common.claim\")}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t<Box width={1 / 2} pl={0.5}>\n\t\t\t\t<Button\n\t\t\t\t\tid=\"re-stake-tom-side-nav\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tdisabled={!restakeEnabled}\n\t\t\t\t\tonClick={() => onRestake(totalRewardADX)}\n\t\t\t\t\tdisableElevation\n\t\t\t\t>\n\t\t\t\t\t{t(\"common.reStake\")}\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n\treturn StatsCard({\n\t\tloaded: true,\n\t\ttitle,\n\t\tactions: rewardActions,\n\t\t// Hax to match the design\n\t\tsubtitle: `${formatADXPretty(totalRewardADX)} ADX`,\n\t\textra: `+  \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0${formatDAIPretty(\n\t\t\ttotalRewardDAI\n\t\t)} DAI`,\n\t\tmoreExtra: `${t(\"userData.total\")} \\u00A0${getUSDFormatted(\n\t\t\tgetADXInUSD(prices, totalRewardADX) + getDAIInUSD(totalRewardDAI)\n\t\t)}`\n\t})\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_1606\",\n  \"data-name\": \"Group 1606\",\n  transform: \"translate(0 0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1128\",\n  \"data-name\": \"Path 1128\",\n  d: \"M3911.642,193.845a3.686,3.686,0,0,1,.714-1.652,13.68,13.68,0,0,1,1.193-1.212c.789-.771,1.575-1.545,2.366-2.313a3.624,3.624,0,0,1,3.258-1.051,3.533,3.533,0,0,1,1.808.869c.1.093.118.164.012.268-.589.579-1.172,1.164-1.757,1.746a.21.21,0,0,1-.206.076,1.866,1.866,0,0,0-1.773.586c-.683.658-1.376,1.306-2.03,1.993a1.668,1.668,0,0,0,.015,2.4c.623.643,1.262,1.274,1.919,1.882a1.758,1.758,0,0,0,2.524-.044c.644-.614,1.279-1.239,1.912-1.865a1.978,1.978,0,0,0,.662-1.774.236.236,0,0,1,.092-.22l1.715-1.647c.18-.174.2-.17.361.017a3.393,3.393,0,0,1,.877,2.278,3.263,3.263,0,0,1-.881,2.351c-1.019,1.078-2.118,2.076-3.168,3.124a4.913,4.913,0,0,1-1.163.92,4.8,4.8,0,0,1-1.168.395h-1.085a6.008,6.008,0,0,1-.956-.295,5.417,5.417,0,0,1-1.631-1.278c-.688-.667-1.362-1.35-2.043-2.026a5.42,5.42,0,0,1-1.25-1.532,5.066,5.066,0,0,1-.317-.99Z\",\n  transform: \"translate(-3911.642 -177.307)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1129\",\n  \"data-name\": \"Path 1129\",\n  d: \"M3945.354,175.231a3.788,3.788,0,0,1-.765,1.65c-.32.373-.685.7-1.035,1.043-.814.8-1.636,1.593-2.451,2.392a4.053,4.053,0,0,1-1.375.948,3.571,3.571,0,0,1-2.7-.015,3.706,3.706,0,0,1-1.015-.626c-.113-.095-.135-.169-.019-.281q.862-.835,1.716-1.678a.278.278,0,0,1,.248-.074,1.991,1.991,0,0,0,1.663-.573c.741-.709,1.487-1.413,2.2-2.151a1.619,1.619,0,0,0-.034-2.388c-.666-.666-1.3-1.364-2.026-1.967a1.722,1.722,0,0,0-2.1.014c-.442.358-.817.787-1.23,1.175-.385.361-.762.733-1.135,1.109a1.927,1.927,0,0,0-.569,1.138,1.349,1.349,0,0,0,.033.46.218.218,0,0,1-.062.227c-.578.553-1.157,1.1-1.729,1.663-.136.133-.221.113-.341-.022a3.391,3.391,0,0,1,.11-4.681q1.824-1.854,3.727-3.628a3.238,3.238,0,0,1,1.593-.75c.044-.01.087-.023.13-.034h1.085c.043.012.086.026.13.034a3.566,3.566,0,0,1,1.844.961c.933.911,1.849,1.839,2.779,2.753a7.469,7.469,0,0,1,.649.689,3.724,3.724,0,0,1,.679,1.566Z\",\n  transform: \"translate(-3921.107 -168.182)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_1130\",\n  \"data-name\": \"Path 1130\",\n  d: \"M3934.977,185.166a.953.953,0,0,1-.307.721l-1.736,1.726c-.57.567-1.133,1.14-1.71,1.7-.462.447-.885.937-1.386,1.341a1.009,1.009,0,0,1-1.486-1.283,1.67,1.67,0,0,1,.329-.413q1-.995,2-1.985,1.262-1.252,2.524-2.5a1.016,1.016,0,0,1,1.624.132A.908.908,0,0,1,3934.977,185.166Z\",\n  transform: \"translate(-3919.456 -175.689)\"\n}));\n\nvar SvgLinkIc = function SvgLinkIc(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24.247,\n    height: 23.666,\n    viewBox: \"0 0 24.247 23.666\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLinkIc, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/link-ic.b389cfb7.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport {\n\tList,\n\tListItem,\n\tListItemIcon,\n\tListItemText,\n\tDivider,\n\tBox,\n\tSvgIcon\n} from \"@material-ui/core\"\nimport clsx from \"clsx\"\nimport Anchor from \"./Anchor\"\nimport logo from \"./../resources/staking-logo.svg\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useLocation } from \"react-router-dom\"\nimport packageJson from \"./../../package.json\"\nimport { ADDR_ADX } from \"./../helpers/constants\"\nimport WithRouterLink from \"./WithRouterLink\"\nimport UserData from \"./UserData\"\nimport {\n\tHomeSharp as HomeIcon,\n\tDashboardSharp as DashboardIcon\n} from \"@material-ui/icons\"\nimport { ReactComponent as StakingIcon } from \"./../resources/link-ic.svg\"\nimport { ReactComponent as GaslessIcon } from \"./../resources/gasless-ic.svg\"\nimport { ReactComponent as GiftIcon } from \"./../resources/gift-ic.svg\"\nimport { useTranslation } from \"react-i18next\"\n\nconst RRListItem = WithRouterLink(ListItem)\n\nconst useStyles = makeStyles(theme => {\n\tconst activeColor = theme.palette.primary.contrastText\n\tconst activeBgColor = theme.palette.primary.main\n\n\treturn {\n\t\tnavigation: {\n\t\t\tbackgroundColor: theme.palette.background.paper\n\t\t},\n\t\tsntPadding: {\n\t\t\tpaddingTop: 0\n\t\t},\n\t\tnavListRoot: {\n\t\t\tcolor: theme.palette.text.secondary,\n\t\t\tdisplay: \"flex\",\n\t\t\tflexDirection: \"column\",\n\t\t\tjustifyContent: \"space-between\"\n\t\t},\n\t\tnavList: {\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 100,\n\t\t\toverflowY: \"auto\",\n\t\t\toverflowX: \"hidden\"\n\t\t},\n\t\tsideNavToolbar: {},\n\t\tversion: {\n\t\t\tposition: \"absolute\",\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\tpadding: 10,\n\t\t\tpaddingLeft: 16,\n\t\t\tborderTopWidth: 1,\n\t\t\tborderTopColor: theme.palette.divider,\n\t\t\tborderTopStyle: \"solid\"\n\t\t},\n\t\tactive: {\n\t\t\tcolor: activeColor,\n\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\"&:focus\": {\n\t\t\t\tbackgroundColor: activeBgColor\n\t\t\t},\n\t\t\t\"&:hover\": {\n\t\t\t\tbackgroundColor: activeBgColor,\n\t\t\t\tcolor: activeColor,\n\t\t\t\t\"& .MuiListItemIcon-root\": {\n\t\t\t\t\tcolor: activeColor\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"& .MuiListItemIcon-root\": {\n\t\t\t\tcolor: theme.palette.common.white\n\t\t\t}\n\t\t},\n\t\tadxLink: {\n\t\t\tcolor: theme.palette.text.hint,\n\t\t\t\"&:hover\": {\n\t\t\t\tcolor: theme.palette.text.secondary\n\t\t\t}\n\t\t},\n\t\tsideSwitch: {\n\t\t\tmarginBottom: `${theme.spacing(2)}px`\n\t\t},\n\t\ticon: {\n\t\t\theight: 32,\n\t\t\twidth: \"auto\",\n\t\t\tcursor: \"pointer\"\n\t\t},\n\t\tamount: {\n\t\t\tfontSize: theme.typography.pxToRem(18)\n\t\t},\n\t\toverlay: {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\ttextTransform: \"uppercase\"\n\t\t},\n\t\tnoUserData: {\n\t\t\topacity: 0.23\n\t\t}\n\t}\n})\n\nfunction SideNav({\n\tprices,\n\tstats,\n\tonRequestUnbond,\n\tonUnbond,\n\tonClaimRewards,\n\tonRestake,\n\tsetConnectWallet\n}) {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst location = useLocation()\n\tconst path = location.pathname\n\n\treturn (\n\t\t<Box\n\t\t\tposition=\"relative\"\n\t\t\tdisplay=\"flex\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"space-between\"\n\t\t\tflexGrow=\"1\"\n\t\t>\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tmb={1}\n\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\tflexDirection=\"row\"\n\t\t\t\t\t\t\t\talignItems=\"flex-start\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img width=\"200px\" src={logo} alt=\"adex-staking-logo\"></img>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</ListItem>\n\n\t\t\t\t\t\t<Box position=\"relative\">\n\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\tclassName={clsx({\n\t\t\t\t\t\t\t\t\t[classes.noUserData]: !stats.connectedWalletAddress\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{UserData({\n\t\t\t\t\t\t\t\t\tprices,\n\t\t\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\t\t\tonRequestUnbond,\n\t\t\t\t\t\t\t\t\tonUnbond,\n\t\t\t\t\t\t\t\t\tonClaimRewards,\n\t\t\t\t\t\t\t\t\tonRestake\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t<Divider />\n\n\t\t\t\t\t\t\t{!stats.connectedWalletAddress && (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tid=\"side-nav-connect-wallet-overlay\"\n\t\t\t\t\t\t\t\t\tclassName={classes.overlay}\n\t\t\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\t\t\tflexDirection=\"column\"\n\t\t\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\t\t\tcolor=\"secondary.main\"\n\t\t\t\t\t\t\t\t\tfontSize=\"h1.fontSize\"\n\t\t\t\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\t\t\t\tonClick={() => setConnectWallet(true)}\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{t(\"common.connectWallet\")}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\tflexDirection=\"column\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tflex=\"1\"\n\t\t\t>\n\t\t\t\t<Box>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-pools\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/\" }}\n\t\t\t\t\t\t\tclassName={clsx({ [classes.active]: path === \"/\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<DashboardIcon />\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.pools\")} />\n\t\t\t\t\t\t</RRListItem>\n\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-stakings\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/stakings\" }}\n\t\t\t\t\t\t\tclassName={clsx({ [classes.active]: path === \"/stakings\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<StakingIcon width=\"100%\" height=\"100%\" color=\"secondary\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.staked\")} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-rewards\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/rewards\" }}\n\t\t\t\t\t\t\tclassName={clsx({ [classes.active]: path === \"/rewards\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<GiftIcon width=\"100%\" height=\"100%\" color=\"secondary\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.rewards\")} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t\t<RRListItem\n\t\t\t\t\t\t\tid=\"side-nav-link-gasless\"\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tto={{ pathname: \"/gasless\" }}\n\t\t\t\t\t\t\tclassName={clsx({ [classes.active]: path === \"/gasless\" })}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t\t<GaslessIcon width=\"100%\" height=\"100%\" color=\"secondary\" />\n\t\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={t(\"common.gaslessStaking\")} />\n\t\t\t\t\t\t</RRListItem>\n\t\t\t\t\t</List>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<RRListItem\n\t\t\t\t\t\tid=\"side-nav-link-staking-landing-page\"\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\"https://www.adex.network/staking/\",\n\t\t\t\t\t\t\t\t\"_blank\",\n\t\t\t\t\t\t\t\t\"noopener,noreferrer\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon color=\"inherit\">\n\t\t\t\t\t\t\t<SvgIcon color=\"inherit\">\n\t\t\t\t\t\t\t\t<HomeIcon color=\"inherit\" />\n\t\t\t\t\t\t\t</SvgIcon>\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText primary={t(\"common.homePageAndCalculator\")} />\n\t\t\t\t\t</RRListItem>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t&copy; {new Date().getFullYear()} &nbsp;\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-network\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://adex.network`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAdEx Network OÜ\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-network-tos\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://adex.network/tos`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{t(\"common.termsAndConditions\")}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-token\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref={`https://etherscan.io/address/${ADDR_ADX}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAdEx (ADX) Token\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t\t<Anchor\n\t\t\t\t\t\t\t\t\t\tid=\"external-link-adex-staking-overview\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\thref=\"https://www.adex.network/blog/adex-defi-staking-overview/\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tv.{packageJson.version}\n\t\t\t\t\t\t\t\t\t</Anchor>\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</ListItem>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n\nexport default SideNav\n","import React, { useEffect, useState } from \"react\"\nimport { Snackbar } from \"@material-ui/core\"\nimport { Alert } from \"@material-ui/lab\"\n\nexport function useSnack() {\n\tconst [snackPack, setSnackPack] = useState([])\n\tconst [snackOpen, setOpen] = useState(false)\n\tconst [snackMessageInfo, setMessageInfo] = useState(undefined)\n\n\tuseEffect(() => {\n\t\tif (snackPack.length && !snackMessageInfo) {\n\t\t\t// Set a new snack when we don't have an active one\n\t\t\tsetMessageInfo({ ...snackPack[0] })\n\t\t\tsetSnackPack(prev => prev.slice(1))\n\t\t\tsetOpen(true)\n\t\t} else if (snackPack.length && snackMessageInfo && snackOpen) {\n\t\t\t// Close an active snack when a new one is added\n\t\t\tsetOpen(false)\n\t\t}\n\t}, [snackPack, snackMessageInfo, snackOpen])\n\n\tconst addSnack = (message, severity, hideTimeout = 20000, action) => {\n\t\tsetSnackPack(prev => [\n\t\t\t...prev,\n\t\t\t{\n\t\t\t\tmessage,\n\t\t\t\tseverity,\n\t\t\t\thideTimeout,\n\t\t\t\taction,\n\t\t\t\tkey: new Date().getTime() + \"-\" + Math.random()\n\t\t\t}\n\t\t])\n\t}\n\n\tconst closeSnack = (event, reason) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn\n\t\t}\n\t\tsetMessageInfo(undefined)\n\t\tsetOpen(false)\n\t}\n\n\tconst snackExited = () => {\n\t\tsetMessageInfo(undefined)\n\t}\n\n\treturn {\n\t\tsnackOpen,\n\t\tsnackMessageInfo,\n\t\taddSnack,\n\t\tcloseSnack,\n\t\tsnackExited\n\t}\n}\n\nexport function ShtarvolinkiSnack({\n\tsnackOpen,\n\tsnackMessageInfo = {},\n\tcloseSnack,\n\tsnackExited\n}) {\n\treturn (\n\t\t<Snackbar\n\t\t\tkey={snackMessageInfo.key}\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: \"bottom\",\n\t\t\t\thorizontal: \"center\"\n\t\t\t}}\n\t\t\topen={snackOpen}\n\t\t\tautoHideDuration={snackMessageInfo.hideTimeout}\n\t\t\tonExited={snackExited}\n\t\t\tonClose={closeSnack}\n\t\t>\n\t\t\t<Alert\n\t\t\t\tonClose={closeSnack}\n\t\t\t\tseverity={snackMessageInfo.severity || \"info\"}\n\t\t\t\tvariant=\"filled\"\n\t\t\t\taction={snackMessageInfo.action || null}\n\t\t\t>\n\t\t\t\t{snackMessageInfo.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t)\n}\n","import React, { useState, useContext } from \"react\"\nimport { Switch, Route } from \"react-router-dom\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport {\n\tDrawer,\n\tModal,\n\tBackdrop,\n\tFade,\n\tSnackbar,\n\tuseMediaQuery,\n\tBox\n} from \"@material-ui/core\"\nimport { Alert as MuiAlert, AlertTitle } from \"@material-ui/lab\"\nimport ChooseWallet from \"./ChooseWallet\"\nimport Stakings from \"./Stakings\"\nimport Gasless from \"./Gasless\"\nimport Rewards from \"./Rewards\"\nimport Pools from \"./Pools\"\nimport NewBondForm from \"./NewBondForm\"\nimport LegacyADXSwapDialog from \"./LegacyADXSwapDialog\"\nimport ConfirmationDialog from \"./ConfirmationDialog\"\nimport { AppToolbar } from \"./Toolbar\"\nimport SideNav from \"./SideNav\"\nimport {\n\tZERO,\n\tUNBOND_DAYS,\n\tPOOLS,\n\tREACT_APP_RPC_URL\n} from \"../helpers/constants\"\nimport { formatADXPretty, toIdAttributeString } from \"../helpers/formatting\"\nimport { styles } from \"./rootStyles\"\nimport AppContext from \"../AppContext\"\nimport { createNewBond } from \"../actions\"\nimport { ShtarvolinkiSnack } from \"./../Snack\"\nimport clsx from \"clsx\"\nimport { useTranslation, Trans } from \"react-i18next\"\n\nfunction Alert(props) {\n\treturn <MuiAlert variant=\"filled\" {...props} />\n}\n\nconst useStyles = makeStyles(styles)\n\nexport default function Root() {\n\tconst { t } = useTranslation()\n\tconst classes = useStyles()\n\tconst [mobileOpen, setMobileOpen] = useState(false)\n\tconst handleDrawerToggle = () => {\n\t\tsetMobileOpen(!mobileOpen)\n\t}\n\tconst isTempDrawer = useMediaQuery(theme => theme.breakpoints.down(\"sm\"))\n\n\tconst {\n\t\tisNewBondOpen,\n\t\tsetNewBondOpen,\n\t\ttoUnbond,\n\t\tsetToUnbond,\n\t\ttoRestake,\n\t\tsetToRestake,\n\t\topenErr,\n\t\topenDoingTx,\n\t\tsnackbarErr,\n\t\tstats,\n\t\tconnectWallet,\n\t\tsetConnectWallet,\n\t\tchosenWalletType,\n\t\twrapDoingTxns,\n\t\tonRequestUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake,\n\t\thandleErrClose,\n\t\tgetSigner,\n\t\tprices,\n\t\tonWalletTypeSelect,\n\t\tsnackHooks,\n\t\tchainWarning,\n\t\tnewBondPool,\n\t\tsetNewBondPool\n\t} = useContext(AppContext)\n\n\tconst drawer = SideNav({\n\t\tprices,\n\t\tstats,\n\t\tonRequestUnbond: setToUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake: setToRestake,\n\t\tsetConnectWallet\n\t})\n\n\tconst container = window !== undefined ? document.body : undefined\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<AppToolbar\n\t\t\t\tchosenWalletType={chosenWalletType}\n\t\t\t\tsetConnectWallet={setConnectWallet}\n\t\t\t\tsetNewBondOpen={setNewBondOpen}\n\t\t\t\thandleDrawerToggle={handleDrawerToggle}\n\t\t\t\tstats={stats}\n\t\t\t/>\n\n\t\t\t<nav aria-label=\"side navigation\">\n\t\t\t\t<Drawer\n\t\t\t\t\tcontainer={container}\n\t\t\t\t\tvariant={isTempDrawer ? \"temporary\" : \"permanent\"}\n\t\t\t\t\tanchor=\"left\"\n\t\t\t\t\topen={isTempDrawer ? mobileOpen : true}\n\t\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\tpaper: classes.drawerPaper\n\t\t\t\t\t}}\n\t\t\t\t\tModalProps={{\n\t\t\t\t\t\tkeepMounted: true // Better open performance on mobile.\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{drawer}\n\t\t\t\t</Drawer>\n\t\t\t</nav>\n\t\t\t<main className={classes.content}>\n\t\t\t\t<div className={classes.contentInner}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/stakings\">\n\t\t\t\t\t\t\t<Stakings />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/gasless\">\n\t\t\t\t\t\t\t<Gasless />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/rewards\">\n\t\t\t\t\t\t\t<Rewards />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t\t<Pools />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\n\t\t\t\t\t{// Load stats first to prevent simultanious calls to getSigner\n\t\t\t\t\tLegacyADXSwapDialog(\n\t\t\t\t\t\tstats.loaded ? getSigner : null,\n\t\t\t\t\t\twrapDoingTxns,\n\t\t\t\t\t\tchosenWalletType\n\t\t\t\t\t)}\n\n\t\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\t\tisOpen: !!toUnbond,\n\t\t\t\t\t\tonDeny: () => setToUnbond(null),\n\t\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\t\tif (toUnbond) onRequestUnbond(toUnbond)\n\t\t\t\t\t\t\tsetToUnbond(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconfirmActionName: t(\"common.unbond\"),\n\t\t\t\t\t\tcontent: (\n\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\ti18nKey=\"dialogs.bondConfirmation\"\n\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\tamount: formatADXPretty(\n\t\t\t\t\t\t\t\t\t\ttoUnbond ? toUnbond.currentAmount : ZERO\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\t\tunbondDays: UNBOND_DAYS\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\tbox: <Box mb={2}></Box>,\n\t\t\t\t\t\t\t\t\tol: <ol></ol>,\n\t\t\t\t\t\t\t\t\tli: <li></li>\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\n\t\t\t\t\t{ConfirmationDialog({\n\t\t\t\t\t\tisOpen: !!toRestake,\n\t\t\t\t\t\tonDeny: () => setToRestake(null),\n\t\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\t\tif (toRestake) onRestake()\n\t\t\t\t\t\t\tsetToRestake(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tconfirmActionName: t(\"common.reStake\"),\n\t\t\t\t\t\tcontent: (\n\t\t\t\t\t\t\t<Trans\n\t\t\t\t\t\t\t\ti18nKey=\"dialogs.reStakeConfirmation\"\n\t\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\t\tamount: formatADXPretty(toRestake ? toRestake : ZERO),\n\t\t\t\t\t\t\t\t\tcurrency: \"ADX\",\n\t\t\t\t\t\t\t\t\tunbondDays: UNBOND_DAYS,\n\t\t\t\t\t\t\t\t\textraInfo: !stats.userBonds.find(x => x.status === \"Active\")\n\t\t\t\t\t\t\t\t\t\t? t(\"dialogs.reActivatingInfo\")\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\t\t\tbox: <Box mb={2}></Box>\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\n\t\t\t\t\t{ChooseWallet({\n\t\t\t\t\t\topen: !!connectWallet,\n\t\t\t\t\t\thandleClose: () => {\n\t\t\t\t\t\t\tsetConnectWallet(null)\n\t\t\t\t\t\t},\n\t\t\t\t\t\thandleListItemClick: onWalletTypeSelect,\n\t\t\t\t\t\tdisableNonBrowserWallets: !REACT_APP_RPC_URL\n\t\t\t\t\t})}\n\n\t\t\t\t\t<Snackbar\n\t\t\t\t\t\topen={openErr}\n\t\t\t\t\t\tautoHideDuration={10000}\n\t\t\t\t\t\tonClose={handleErrClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\tid={`err-aler-${toIdAttributeString(snackbarErr)}`}\n\t\t\t\t\t\t\tonClose={handleErrClose}\n\t\t\t\t\t\t\tseverity=\"error\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t(snackbarErr.msg || snackbarErr, snackbarErr.opts || {})}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t</Snackbar>\n\t\t\t\t\t<ShtarvolinkiSnack {...snackHooks} />\n\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={isNewBondOpen}\n\t\t\t\t\t\tonClose={() => setNewBondOpen(false)}\n\t\t\t\t\t\tclassName={classes.modal}\n\t\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tBackdropProps={{\n\t\t\t\t\t\t\ttimeout: 300\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={isNewBondOpen}>\n\t\t\t\t\t\t\t{NewBondForm({\n\t\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\t\tsetNewBondPool,\n\t\t\t\t\t\t\t\tnewBondPool,\n\t\t\t\t\t\t\t\tpools: POOLS.filter(x => x.selectable),\n\t\t\t\t\t\t\t\tmaxAmount: stats.userBalance,\n\t\t\t\t\t\t\t\tonNewBond: async bond => {\n\t\t\t\t\t\t\t\t\tsetNewBondOpen(false)\n\t\t\t\t\t\t\t\t\tawait wrapDoingTxns(\n\t\t\t\t\t\t\t\t\t\tcreateNewBond.bind(null, stats, chosenWalletType, bond)\n\t\t\t\t\t\t\t\t\t)()\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tchosenWalletType,\n\t\t\t\t\t\t\t\tisEarly: stats.userBonds.find(\n\t\t\t\t\t\t\t\t\tx => x.nonce.toNumber() < 1597276800\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={chainWarning}\n\t\t\t\t\t\taria-labelledby=\"alert-chain-warning-title\"\n\t\t\t\t\t\taria-describedby=\"alert-chain-description\"\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tclassName={clsx(classes.modal, classes.alwaysOnTop)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={chainWarning}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Alert severity=\"warning\">\n\t\t\t\t\t\t\t\t\t<AlertTitle id=\"alert-chain-warning-title\">\n\t\t\t\t\t\t\t\t\t\t{t(\"messages.unsupportedEthNetwork\")}\n\t\t\t\t\t\t\t\t\t</AlertTitle>\n\t\t\t\t\t\t\t\t\t<Box id=\"alert-chain-description\">\n\t\t\t\t\t\t\t\t\t\t{t(\"messages.connectToMainnet\")}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t\t<Modal\n\t\t\t\t\t\topen={openDoingTx}\n\t\t\t\t\t\taria-labelledby=\"info-doingTx\"\n\t\t\t\t\t\tBackdropComponent={Backdrop}\n\t\t\t\t\t\tcloseAfterTransition\n\t\t\t\t\t\tclassName={clsx(classes.modal)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Fade in={openDoingTx}>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Alert severity=\"info\">\n\t\t\t\t\t\t\t\t\t<Box id=\"info-doingTx\" p={2}>\n\t\t\t\t\t\t\t\t\t\t{t(\"messages.signAllTransactions\", {\n\t\t\t\t\t\t\t\t\t\t\twallet: chosenWalletType.name || \"\"\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Fade>\n\t\t\t\t\t</Modal>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t</div>\n\t)\n}\n","import React from \"react\"\nimport {\n\tDialog,\n\tDialogTitle,\n\tList,\n\tListItem,\n\tListItemText,\n\tAvatar,\n\tListItemIcon\n} from \"@material-ui/core\"\nimport { Wallets, METAMASK } from \"../helpers/constants\"\nimport { toIdAttributeString } from \"../helpers/formatting\"\nimport { useTranslation } from \"react-i18next\"\n\nexport default function ChooseWallet({\n\thandleListItemClick,\n\thandleClose,\n\topen,\n\tdisableNonBrowserWallets\n}) {\n\tconst { t } = useTranslation()\n\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<DialogTitle id=\"simple-dialog-title\">\n\t\t\t\t{t(\"dialogs.selectWallet\")}\n\t\t\t</DialogTitle>\n\t\t\t<List>\n\t\t\t\t{Wallets.map(({ icon, name = \"\" }) => (\n\t\t\t\t\t<ListItem\n\t\t\t\t\t\tid={`connect-wallet-select-${toIdAttributeString(name)}`}\n\t\t\t\t\t\tdisabled={disableNonBrowserWallets && name !== METAMASK}\n\t\t\t\t\t\tbutton\n\t\t\t\t\t\tonClick={() => handleListItemClick(name)}\n\t\t\t\t\t\tkey={name}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t<Avatar src={icon} />\n\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\tprimary={t(\"dialogs.connectWith\", {\n\t\t\t\t\t\t\t\twallet: name\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t</List>\n\t\t</Dialog>\n\t)\n}\n","import { LedgerConnector } from \"@web3-react/ledger-connector\"\nimport { TrezorConnector } from \"@web3-react/trezor-connector\"\nimport { InjectedConnector } from \"@web3-react/injected-connector\"\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\"\nimport { REACT_APP_RPC_URL } from \"../helpers/constants\"\n\nconst POLLING_INTERVAL = 13000\n\nexport const injected = new InjectedConnector({\n\tsupportedChainIds: [1, 3, 4, 5, 42]\n})\n\nexport const ledger = new LedgerConnector({\n\tchainId: 1,\n\turl: REACT_APP_RPC_URL,\n\tpollingInterval: POLLING_INTERVAL\n})\n\nexport const trezor = new TrezorConnector({\n\tchainId: 1,\n\turl: REACT_APP_RPC_URL,\n\tpollingInterval: POLLING_INTERVAL,\n\tmanifestEmail: \"contactus@adex.network\",\n\tmanifestAppUrl: \"https://adex.network\"\n})\n\nexport const walletconnect = new WalletConnectConnector({\n\trpc: { 1: REACT_APP_RPC_URL },\n\tbridge: \"https://bridge.walletconnect.org\",\n\tqrcode: true,\n\tpollingInterval: POLLING_INTERVAL\n})\n","import { useEffect, useState, useCallback } from \"react\"\nimport { useWeb3React, UnsupportedChainIdError } from \"@web3-react/core\"\nimport {\n\tNoEthereumProviderError,\n\tUserRejectedRequestError as UserRejectedRequestErrorInjected\n} from \"@web3-react/injected-connector\"\n\nimport { UserRejectedRequestError as UserRejectedRequestErrorWalletConnect } from \"@web3-react/walletconnect-connector\"\nimport { getSigner } from \"./ethereum\"\nimport {\n\tWALLET_CONNECT,\n\tMETAMASK,\n\tTREZOR,\n\tLEDGER,\n\tSUPPORTED_CHAINS\n} from \"./helpers/constants\"\nimport { injected, trezor, ledger, walletconnect } from \"./helpers/connector\"\nimport {\n\tEMPTY_STATS,\n\tloadStats,\n\tonUnbondOrRequest,\n\tclaimRewards,\n\trestake,\n\tgetPrices\n} from \"./actions\"\nimport { useInactiveListener } from \"./helpers/hooks\"\nimport { useSnack } from \"./Snack\"\nimport { useTranslation } from \"react-i18next\"\n\nconst REFRESH_INTVL = 20000\n\nconst connectorsByName = {\n\t[METAMASK]: injected,\n\t[WALLET_CONNECT]: walletconnect,\n\t[TREZOR]: trezor,\n\t[LEDGER]: ledger\n}\n\nfunction tryGetErrMessage(error) {\n\tif (error && error.message) {\n\t\treturn error.message\n\t} else if (typeof error === \"string\") {\n\t\treturn error\n\t} else {\n\t\treturn null\n\t}\n}\n\nfunction getErrorMessage(error) {\n\tif (error instanceof NoEthereumProviderError) {\n\t\treturn \"errors.noEthBrowserDetected\"\n\t} else if (error instanceof UnsupportedChainIdError) {\n\t\treturn \"errors.connectedToUnsupportedNetwork\"\n\t} else if (\n\t\terror instanceof UserRejectedRequestErrorInjected ||\n\t\terror instanceof UserRejectedRequestErrorWalletConnect\n\t) {\n\t\treturn \"errors.siteNotAuth\"\n\t} else if (tryGetErrMessage(error)) {\n\t\tconsole.error(error)\n\t\treturn tryGetErrMessage(error)\n\t} else {\n\t\tconsole.error(error)\n\t\treturn \"errors.unknownCheckConsole\"\n\t}\n}\n\nexport default function Root() {\n\tconst { t } = useTranslation()\n\tconst { addSnack, ...snackHooks } = useSnack()\n\tconst {\n\t\tlibrary,\n\t\tactivate,\n\t\terror,\n\t\tdeactivate,\n\t\tchainId,\n\t\taccount\n\t} = useWeb3React()\n\n\tconst [isNewBondOpen, setNewBondOpen] = useState(false)\n\tconst [toUnbond, setToUnbond] = useState(null)\n\tconst [toRestake, setToRestake] = useState(null)\n\tconst [openErr, setOpenErr] = useState(false)\n\tconst [openDoingTx, setOpenDoingTx] = useState(false)\n\tconst [snackbarErr, setSnackbarErr] = useState(\"errors.unexpectedError\")\n\tconst [stats, setStats] = useState(EMPTY_STATS)\n\tconst [connectWallet, setConnectWallet] = useState(null)\n\tconst [chosenWalletTypeName, setChosenWalletTypeName] = useState(null)\n\tconst [chosenWalletType, setChosenWalletType] = useState({})\n\tconst [prices, setPrices] = useState({})\n\tconst [chainWarning, setChainWarning] = useState(false)\n\tconst [newBondPool, setNewBondPool] = useState(null)\n\n\tuseInactiveListener(!!connectWallet)\n\n\tconst refreshStats = useCallback(async () => {\n\t\tconst newPrices = await getPrices()\n\t\tconst updatePrices =\n\t\t\tnewPrices && JSON.stringify(newPrices) !== JSON.stringify(prices)\n\n\t\ttry {\n\t\t\tconst newStats = await loadStats(\n\t\t\t\tchosenWalletType,\n\t\t\t\tupdatePrices ? newPrices : prices\n\t\t\t)\n\t\t\tsetStats(newStats)\n\t\t\tif (updatePrices) {\n\t\t\t\tsetPrices(newPrices)\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"loadStats\", e)\n\t\t\tif (e.code === 4001) {\n\t\t\t\tsetSnackbarErr(\"errors.authDeniedByUser\")\n\t\t\t} else {\n\t\t\t\tsetSnackbarErr({\n\t\t\t\t\tmsg: \"errors.loadingStats\",\n\t\t\t\t\topts: { error: t(!!e ? e.message || e.toString() : \"\") }\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tsetOpenErr(true)\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletType, prices])\n\n\tuseEffect(() => {\n\t\trefreshStats()\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletType])\n\n\tuseEffect(() => {\n\t\tconst intvl = setInterval(refreshStats, REFRESH_INTVL)\n\t\treturn () => clearInterval(intvl)\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [refreshStats])\n\n\tuseEffect(() => {\n\t\tif (!!chainId && !SUPPORTED_CHAINS.some(chain => chainId === chain.id)) {\n\t\t\tsetChainWarning(true)\n\t\t} else {\n\t\t\tsetChainWarning(false)\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [chosenWalletTypeName, chainId, account])\n\n\tuseEffect(() => {\n\t\tif (!!error) {\n\t\t\tsetSnackbarErr(getErrorMessage(error))\n\t\t\tsetOpenErr(true)\n\t\t\tdeactivate()\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [error])\n\n\tconst wrapDoingTxns = fn => async (...args) => {\n\t\ttry {\n\t\t\tsetOpenDoingTx(true)\n\t\t\tsetOpenErr(false)\n\t\t\tconst res = await fn.apply(null, args)\n\t\t\tsetOpenDoingTx(false)\n\t\t\treturn res\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t\tsetOpenDoingTx(false)\n\t\t\tsetSnackbarErr(e.message || \"errors.unknownError\")\n\t\t\tsetOpenErr(true)\n\t\t}\n\t}\n\tconst onRequestUnbond = wrapDoingTxns(\n\t\tonUnbondOrRequest.bind(null, false, chosenWalletType)\n\t)\n\tconst onUnbond = wrapDoingTxns(\n\t\tonUnbondOrRequest.bind(null, true, chosenWalletType)\n\t)\n\tconst onClaimRewards = wrapDoingTxns(\n\t\tclaimRewards.bind(null, chosenWalletType)\n\t)\n\tconst onRestake = wrapDoingTxns(restake.bind(null, chosenWalletType, stats))\n\tconst handleErrClose = (event, reason) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn\n\t\t}\n\t\tsetOpenErr(false)\n\t}\n\n\tconst onWalletTypeSelect = async walletTypeName => {\n\t\tsetChosenWalletTypeName(walletTypeName)\n\t\tsetConnectWallet(null)\n\t\tconsole.log(\"activating\")\n\t\tawait activate(connectorsByName[walletTypeName])\n\t}\n\n\tuseEffect(() => {\n\t\tasync function updateWalletType() {\n\t\t\tif (library && chosenWalletTypeName) {\n\t\t\t\tconst newWalletType = { name: chosenWalletTypeName, library }\n\t\t\t\tconst signer = await getSigner(newWalletType)\n\n\t\t\t\tif (signer) {\n\t\t\t\t\tsetChosenWalletType(newWalletType)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateWalletType()\n\t}, [library, chosenWalletTypeName])\n\n\treturn {\n\t\tisNewBondOpen,\n\t\tsetNewBondOpen,\n\t\ttoUnbond,\n\t\tsetToUnbond,\n\t\ttoRestake,\n\t\tsetToRestake,\n\t\topenErr,\n\t\tsetOpenErr,\n\t\topenDoingTx,\n\t\tsetOpenDoingTx,\n\t\tsnackbarErr,\n\t\tsetSnackbarErr,\n\t\tstats,\n\t\tconnectWallet,\n\t\tsetConnectWallet,\n\t\tchosenWalletType,\n\t\trefreshStats,\n\t\twrapDoingTxns,\n\t\tonRequestUnbond,\n\t\tonUnbond,\n\t\tonClaimRewards,\n\t\tonRestake,\n\t\thandleErrClose,\n\t\tgetSigner,\n\t\tprices,\n\t\tonWalletTypeSelect,\n\t\taddSnack,\n\t\tsnackHooks,\n\t\tchainId,\n\t\taccount,\n\t\tchainWarning,\n\t\tnewBondPool,\n\t\tsetNewBondPool\n\t}\n}\n","import { useEffect } from \"react\"\nimport { useWeb3React } from \"@web3-react/core\"\nimport { injected } from \"./connector\"\n\nexport function useInactiveListener(suppress) {\n\tconst { active, error, activate } = useWeb3React()\n\n\tconst handleConnect = () => {\n\t\tconsole.log(\"Handling 'connect' event\")\n\t\tactivate(injected)\n\t}\n\n\tconst handleChainChanged = chainId => {\n\t\tconsole.log(\"Handling 'chainChanged' event with payload\", chainId)\n\t\tactivate(injected)\n\t}\n\n\tconst handleAccountsChanged = accounts => {\n\t\tconsole.log(\"Handling 'accountsChanged' event with payload KOR\", accounts)\n\t\tif (active && accounts.length > 0) {\n\t\t\twindow.location.reload()\n\t\t}\n\t}\n\n\tconst handleNetworkChanged = networkId => {\n\t\tconsole.log(\"Handling 'networkChanged' event with payload\", networkId)\n\t\tactivate(injected)\n\t}\n\n\tuseEffect(() => {\n\t\tconst { ethereum } = window\n\n\t\tif (ethereum && ethereum.on) {\n\t\t\tethereum.on(\"connect\", handleConnect)\n\t\t\tethereum.on(\"chainChanged\", handleChainChanged)\n\t\t\tethereum.on(\"accountsChanged\", handleAccountsChanged)\n\t\t\tethereum.on(\"networkChanged\", handleNetworkChanged)\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (ethereum && ethereum.removeListener) {\n\t\t\t\tethereum.removeListener(\"connect\", handleConnect)\n\t\t\t\tethereum.removeListener(\"chainChanged\", handleChainChanged)\n\t\t\t\tethereum.removeListener(\"accountsChanged\", handleAccountsChanged)\n\t\t\t\tethereum.removeListener(\"networkChanged\", handleNetworkChanged)\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [error, active, suppress])\n}\n","import React from \"react\"\nimport { LinearProgress, Box } from \"@material-ui/core\"\nimport logo from \"./../resources/staking-logo.svg\"\n\nexport default function Loading() {\n\treturn (\n\t\t<Box\n\t\t\tdisplay=\"flex\"\n\t\t\twidth=\"100vw\"\n\t\t\theight=\"100vh\"\n\t\t\tflexDirection=\"column\"\n\t\t\tjustifyContent=\"center\"\n\t\t\talignItems=\"center\"\n\t\t>\n\t\t\t<Box mb={1}>\n\t\t\t\t<img width=\"200px\" src={logo} alt=\"adex-staking-logo\"></img>\n\t\t\t</Box>\n\t\t\t<Box width={200}>\n\t\t\t\t<LinearProgress color=\"secondary\" />\n\t\t\t</Box>\n\t\t</Box>\n\t)\n}\n","import React, { Suspense } from \"react\"\nimport { MuiThemeProvider } from \"@material-ui/core/styles\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport { themeMUI } from \"./themeMUi\"\nimport { HashRouter as Router } from \"react-router-dom\"\nimport { Web3ReactProvider } from \"@web3-react/core\"\nimport { Web3Provider } from \"ethers/providers\"\nimport Root from \"./components/Root\"\nimport AppContext from \"./AppContext\"\nimport useApp from \"./AppHooks\"\nimport Loading from \"./components/Loading\"\nimport \"./App.css\"\n\nconst App = () => {\n\tconst appHooks = useApp()\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<AppContext.Provider value={appHooks}>\n\t\t\t\t<Router>\n\t\t\t\t\t<Root />\n\t\t\t\t</Router>\n\t\t\t</AppContext.Provider>\n\t\t</React.Fragment>\n\t)\n}\n\nexport default () => (\n\t<MuiThemeProvider theme={themeMUI}>\n\t\t<CssBaseline />\n\t\t<Suspense fallback={<Loading />}>\n\t\t\t<Web3ReactProvider getLibrary={provider => new Web3Provider(provider)}>\n\t\t\t\t<App />\n\t\t\t</Web3ReactProvider>\n\t\t</Suspense>\n\t</MuiThemeProvider>\n)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import i18n from \"i18next\"\nimport { initReactI18next } from \"react-i18next\"\n\nimport Backend from \"i18next-http-backend\"\nimport LanguageDetector from \"i18next-browser-languagedetector\"\n// don't want to use this?\n// have a look at the Quick start guide\n// for passing in lng and translations on init\n\ni18n\n\t// load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n\t// learn more: https://github.com/i18next/i18next-http-backend\n\t.use(Backend)\n\t// detect user language\n\t// learn more: https://github.com/i18next/i18next-browser-languageDetector\n\t.use(LanguageDetector)\n\t// pass the i18n instance to react-i18next.\n\t.use(initReactI18next)\n\t// init i18next\n\t// for all options read: https://www.i18next.com/overview/configuration-options\n\t.init({\n\t\tbackend: {\n\t\t\t// for all available options read the backend's repository readme file\n\t\t\tloadPath: \"/locales/{{lng}}/{{ns}}.json\"\n\t\t},\n\t\tfallbackLng: \"en\",\n\t\tdefaultNS: [\"translation\"],\n\t\tdebug: true,\n\t\tkeySeparator: \".\",\n\t\tinterpolation: {\n\t\t\tescapeValue: false // not needed for react as it escapes by default\n\t\t}\n\t})\n\nexport default i18n\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nimport \"./i18n\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}